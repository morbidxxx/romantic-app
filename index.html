<!DOCTYPE html>
<html lang="ru">
<head> 
    <meta charset="UTF-8"> 
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
    <title>üíï –î–ª—è –º–æ–µ–π –ª—é–±–∏–º–æ–π</title>


<!-- React –∏ Babel –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ -->
<script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
<script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
<script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

<!-- Tailwind CSS -->
<script src="https://cdn.tailwindcss.com"></script>

<!-- PWA –º–µ—Ç–∞-—Ç–µ–≥–∏ -->
<meta name="theme-color" content="#ec4899">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="default">
<meta name="apple-mobile-web-app-title" content="Love App">

<!-- –ò–∫–æ–Ω–∫–∏ -->
<link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üíù</text></svg>">

    <style>
        /* –ê–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è –ª–µ–ø–µ—Å—Ç–∫–æ–≤ */
        @keyframes fall {
            0% { 
                transform: translateY(-100vh) rotate(0deg); 
                opacity: 0.8; 
            }
            100% { 
                transform: translateY(100vh) rotate(360deg); 
                opacity: 0; 
            }
        }
        
        /* –ê–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è —Å–µ—Ä–¥–µ—á–µ–∫ */
        @keyframes heartFloat {
            0% { 
                transform: translateY(0) scale(1); 
                opacity: 1; 
            }
            100% { 
                transform: translateY(-50px) scale(0.8); 
                opacity: 0; 
            }
        }
        
        /* –ü–ª–∞–≤–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã */
        .smooth-transition {
            transition: all 0.3s ease;
        }
        
        /* –ì—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ */
        .gradient-button {
            background: linear-gradient(135deg, #ec4899, #8b5cf6);
            transition: all 0.3s ease;
        }
        
        .gradient-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(236, 72, 153, 0.3);
        }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω */
        .modal-backdrop {
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
        }
        
        /* –ö–∞—Å—Ç–æ–º–Ω—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è —Å–∫—Ä–æ–ª–ª–∞ */
        .custom-scrollbar::-webkit-scrollbar {
            width: 6px;
        }
        
        .custom-scrollbar::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 10px;
        }
        
        .custom-scrollbar::-webkit-scrollbar-thumb {
            background: #ec4899;
            border-radius: 10px;
        }
        
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
            background: #db2777;
        }
        
        /* –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –≤—ã–¥–µ–ª–µ–Ω–∏—è –¥–ª—è UI —ç–ª–µ–º–µ–Ω—Ç–æ–≤ */
        .no-select {
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }
        
        /* –°–∫—Ä—ã—Ç–∏–µ –ø–æ–ª–æ—Å –ø—Ä–æ–∫—Ä—É—Ç–∫–∏ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö */
        .hide-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        
        .hide-scrollbar::-webkit-scrollbar {
            display: none;
        }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏ —Ç—Ä—è—Å–∫–∏ */
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }
        
        .animate-shake {
            animation: shake 0.5s ease-in-out;
        }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è –ø—É–ª—å—Å–∞—Ü–∏–∏ */
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        
        .animate-pulse {
            animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
        
        /* –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö –±—Ä–∞—É–∑–µ—Ä–æ–≤ */
        html, body {
            overflow-x: hidden;
            position: relative;
        }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–π –∑–æ–Ω—ã iPhone */
        .safe-area-inset {
            padding-bottom: env(safe-area-inset-bottom);
        }
    
        /* –°—Ç–∏–ª–∏ –¥–ª—è –æ–±—Ä–µ–∑–∫–∏ —Ç–µ–∫—Å—Ç–∞ */
        .line-clamp-2 {
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è –ø—Ä–µ–≤—å—é –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π */
        .photo-preview {
            aspect-ratio: 1;
            object-fit: cover;
        }
        
        /* –ê–Ω–∏–º–∞—Ü–∏—è –¥–ª—è –∫–Ω–æ–ø–æ–∫ –¥–µ–π—Å—Ç–≤–∏–π */
        .action-button:hover {
            transform: scale(1.05);
        }
    
        /* –°—Ç–∏–ª–∏ –¥–ª—è –æ–±—Ä–µ–∑–∫–∏ —Ç–µ–∫—Å—Ç–∞ */
        .line-clamp-2 {
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è –ø—Ä–µ–≤—å—é –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π */
        .photo-preview {
            aspect-ratio: 1;
            object-fit: cover;
        }
        
        /* –ê–Ω–∏–º–∞—Ü–∏—è –¥–ª—è –∫–Ω–æ–ø–æ–∫ –¥–µ–π—Å—Ç–≤–∏–π */
        .action-button:hover {
            transform: scale(1.05);
        }
    </style>
</head> 
<body> 
    <div id="root"></div>
    <script type="module">
    // –ò–º–ø–æ—Ä—Ç Firebase –º–æ–¥—É–ª–µ–π
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.0/firebase-app.js";
    import { 
        getFirestore, 
        collection, 
        doc,
        addDoc, 
        setDoc,
        getDoc,
        getDocs, 
        updateDoc,
        deleteDoc,
        onSnapshot,
        query,
        orderBy,
        serverTimestamp
    } from "https://www.gstatic.com/firebasejs/10.7.0/firebase-firestore.js";

    // –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Firebase
    const firebaseConfig = {
        apiKey: "AIzaSyDTC5bxFgoZwMGY57VmGLc7ZpMx-5SgiHs",
        authDomain: "loveapp-1643d.firebaseapp.com",
        projectId: "loveapp-1643d",
        storageBucket: "loveapp-1643d.firebasestorage.app",
        messagingSenderId: "346049985803",
        appId: "1:346049985803:web:4e5ba419432c6d40f2760e"
    };

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Firebase
    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    // –î–µ–ª–∞–µ–º Firebase –¥–æ—Å—Ç—É–ø–Ω—ã–º –≥–ª–æ–±–∞–ª—å–Ω–æ –¥–ª—è React
    window.firebaseDB = db;
    window.firebaseUtils = {
        collection,
        doc,
        addDoc,
        setDoc,
        getDoc,
        getDocs,
        updateDoc,
        deleteDoc,
        onSnapshot,
        query,
        orderBy,
        serverTimestamp
    };

    console.log("‚úÖ Firebase —É—Å–ø–µ—à–Ω–æ –ø–æ–¥–∫–ª—é—á–µ–Ω!");
    </script>
    <script type="text/babel">
        const { useState, useEffect, useRef } = React;
        // –•—É–∫ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ Firebase
        const useFirebaseReady = () => {
            const [ready, setReady] = useState(window.firebaseReady || false);
            
            useEffect(() => {
                if (window.firebaseReady) {
                    setReady(true);
                } else {
                    const handler = () => setReady(true);
                    window.addEventListener('firebaseReady', handler);
                    return () => window.removeEventListener('firebaseReady', handler);
                }
            }, []);
            
            return ready;
        };

        // –•—É–∫ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–æ–∫—É–º–µ–Ω—Ç–æ–º Firebase (–∑–∞–º–µ–Ω–∞ localStorage)
        const useFirebaseDoc = (collectionName, docId, initialData = {}) => {
            const [data, setData] = useState(initialData);
            const [loading, setLoading] = useState(true);
            const [error, setError] = useState(null);
            const firebaseReady = useFirebaseReady();

            // –ó–∞–≥—Ä—É–∑–∫–∞ –∏ –ø–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è
            useEffect(() => {
                if (!firebaseReady) return;

                const { doc, onSnapshot, setDoc } = window.firebaseUtils;
                const docRef = doc(window.firebaseDB, collectionName, docId);

                const unsubscribe = onSnapshot(docRef, 
                    (snapshot) => {
                        if (snapshot.exists()) {
                            setData(snapshot.data());
                        } else {
                            // –°–æ–∑–¥–∞–µ–º –¥–æ–∫—É–º–µ–Ω—Ç —Å –Ω–∞—á–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
                            setDoc(docRef, initialData);
                            setData(initialData);
                        }
                        setLoading(false);
                    },
                    (err) => {
                        console.error('Firebase error:', err);
                        setError(err);
                        setLoading(false);
                    }
                );

                return () => unsubscribe();
            }, [firebaseReady, collectionName, docId]);

            // –§—É–Ω–∫—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
            const updateData = useCallback(async (newData) => {
                if (!firebaseReady) return;
                
                try {
                    const { doc, updateDoc, setDoc, getDoc } = window.firebaseUtils;
                    const docRef = doc(window.firebaseDB, collectionName, docId);
                    
                    const snapshot = await getDoc(docRef);
                    if (snapshot.exists()) {
                        await updateDoc(docRef, newData);
                    } else {
                        await setDoc(docRef, { ...initialData, ...newData });
                    }
                } catch (err) {
                    console.error('Update error:', err);
                    setError(err);
                }
            }, [firebaseReady, collectionName, docId]);

            return { data, loading, error, updateData };
        };

        // –•—É–∫ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∫–æ–ª–ª–µ–∫—Ü–∏–µ–π (—Å–ø–∏—Å–æ–∫ —Å–æ–æ–±—â–µ–Ω–∏–π, —Ñ–æ—Ç–æ –∏ —Ç.–¥.)
        const useFirebaseCollection = (collectionName) => {
            const [items, setItems] = useState([]);
            const [loading, setLoading] = useState(true);
            const firebaseReady = useFirebaseReady();

            // –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –∫–æ–ª–ª–µ–∫—Ü–∏—é
            useEffect(() => {
                if (!firebaseReady) return;

                const { collection, query, orderBy, onSnapshot } = window.firebaseUtils;
                const q = query(
                    collection(window.firebaseDB, collectionName),
                    orderBy('createdAt', 'desc')
                );

                const unsubscribe = onSnapshot(q, (snapshot) => {
                    const newItems = snapshot.docs.map(doc => ({
                        id: doc.id,
                        ...doc.data()
                    }));
                    setItems(newItems);
                    setLoading(false);
                });

                return () => unsubscribe();
            }, [firebaseReady, collectionName]);

            // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞
            const addItem = useCallback(async (item) => {
                if (!firebaseReady) return;
                
                const { collection, addDoc } = window.firebaseUtils;
                await addDoc(collection(window.firebaseDB, collectionName), {
                    ...item,
                    createdAt: Date.now()
                });
            }, [firebaseReady, collectionName]);

            // –£–¥–∞–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞
            const removeItem = useCallback(async (itemId) => {
                if (!firebaseReady) return;
                
                const { doc, deleteDoc } = window.firebaseUtils;
                await deleteDoc(doc(window.firebaseDB, collectionName, itemId));
            }, [firebaseReady, collectionName]);

            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞
            const updateItem = useCallback(async (itemId, newData) => {
                if (!firebaseReady) return;
                
                const { doc, updateDoc } = window.firebaseUtils;
                await updateDoc(doc(window.firebaseDB, collectionName, itemId), newData);
            }, [firebaseReady, collectionName]);

            return { items, loading, addItem, removeItem, updateItem };
        };

        // ============================================
        // –ì–õ–ê–í–ù–´–ô –ö–û–ú–ü–û–ù–ï–ù–¢ –ü–†–ò–õ–û–ñ–ï–ù–ò–Ø
        // ============================================

        const RomanticMobileApp = () => {
            // –°–æ—Å—Ç–æ—è–Ω–∏—è –¥–ª—è –∑–∞—â–∏—Ç—ã
            const [isAuthenticated, setIsAuthenticated] = useState(false);
            const [showPasswordModal, setShowPasswordModal] = useState(true);
            const [passwordInput, setPasswordInput] = useState('');
            const [passwordError, setPasswordError] = useState('');
            const [attemptCount, setAttemptCount] = useState(0);
            const [activeTab, setActiveTab] = useState('home');
            
            const SECRET_PASSWORD = 'love2020';

            // ============================================
            // –ó–ê–ú–ï–ù–ê localStorage –ù–ê FIREBASE
            // ============================================

            // –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (—Ä–∞–Ω—å—à–µ localStorage)
            const { 
                data: userStats, 
                loading: statsLoading, 
                updateData: updateStats 
            } = useFirebaseDoc('appData', 'userStats', {
                totalVisits: 0,
                messagesRead: 0,
                photosViewed: 0,
                categoriesExplored: [],
                notificationsEnabled: false,
                firstVisitDate: null,
                lastVisitDate: null,
                streakDays: 0,
                maxStreak: 0
            });

            // –°–æ–æ–±—â–µ–Ω–∏—è (—Ä–∞–Ω—å—à–µ localStorage)
            const {
                items: messages,
                loading: messagesLoading,
                addItem: addMessage,
                removeItem: removeMessage
            } = useFirebaseCollection('messages');

            // –§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ (—Ä–∞–Ω—å—à–µ localStorage)
            const {
                items: photos,
                loading: photosLoading,
                addItem: addPhoto,
                removeItem: removePhoto
            } = useFirebaseCollection('photos');

            // –ó–∞–º–µ—Ç–∫–∏/–∑–∞–ø–∏—Å–∏ (—Ä–∞–Ω—å—à–µ localStorage)
            const {
                items: notes,
                loading: notesLoading,
                addItem: addNote,
                removeItem: removeNote,
                updateItem: updateNote
            } = useFirebaseCollection('notes');

        
        const RomanticMobileApp = () => {
            // –°–æ—Å—Ç–æ—è–Ω–∏—è –¥–ª—è –∑–∞—â–∏—Ç—ã
            const [isAuthenticated, setIsAuthenticated] = useState(false);
            const [showPasswordModal, setShowPasswordModal] = useState(true);
            const [passwordInput, setPasswordInput] = useState('');
            const [passwordError, setPasswordError] = useState('');
            const [attemptCount, setAttemptCount] = useState(0);
            
            // –ü–∞—Ä–æ–ª—å –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ (–º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å)
            const SECRET_PASSWORD = 'love2020';
            
            // –°–æ—Å—Ç–æ—è–Ω–∏—è –¥–ª—è —Å–∏—Å—Ç–µ–º—ã –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
            const [userStats, setUserStats] = useState({
                totalVisits: 0,
                messagesRead: 0,
                photosViewed: 0,
                categoriesExplored: new Set(),
                notificationsEnabled: false,
                firstVisitDate: null,
                lastVisitDate: null,
                streakDays: 0,
                maxStreak: 0
            });
            const [unlockedAchievements, setUnlockedAchievements] = useState(new Set());
            const [showAchievementsModal, setShowAchievementsModal] = useState(false);
            const [newAchievements, setNewAchievements] = useState([]);
            const [showNewAchievementModal, setShowNewAchievementModal] = useState(false);
            
            // –û—Å–Ω–æ–≤–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
            const [currentImageIndex, setCurrentImageIndex] = useState(0);
            const [currentLoveMessage, setCurrentLoveMessage] = useState(null);
            const [selectedCategory, setSelectedCategory] = useState('all');
            const [showStoryModal, setShowStoryModal] = useState(false);
            const [showGalleryModal, setShowGalleryModal] = useState(false);
            const [showCalendarModal, setShowCalendarModal] = useState(false);
            const [showCategoriesModal, setShowCategoriesModal] = useState(false);
            const [showNotificationModal, setShowNotificationModal] = useState(false);
            const [showNotificationSettingsModal, setShowNotificationSettingsModal] = useState(false);
            const [hearts, setHearts] = useState([]);
            const [petals, setPetals] = useState([]);
            const [daysTogether, setDaysTogether] = useState(0);
            const [upcomingEvent, setUpcomingEvent] = useState(null);
            const [hasUpcomingNotification, setHasUpcomingNotification] = useState(false);
            
            // –î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞ –æ—Ç–Ω–æ—à–µ–Ω–∏–π (–ò–ó–ú–ï–ù–ò–¢–ï –ù–ê –°–í–û–Æ –î–ê–¢–£)
            const relationshipStart = new Date('2007-02-21');
    
            // 130 –ø—Ä–∏–∑–Ω–∞–Ω–∏–π –≤ –ª—é–±–≤–∏ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
            const loveMessagesData = {
                "loveMessages": [
                    // –†–æ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–µ (10 —Å–æ–æ–±—â–µ–Ω–∏–π)
                    { "id": 1, "text": "–¢—ã - –º–æ–µ —Å–æ–ª–Ω—Ü–µ, –∫–æ—Ç–æ—Ä–æ–µ –æ—Å–≤–µ—â–∞–µ—Ç –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –º–æ–µ–π –∂–∏–∑–Ω–∏ ‚òÄÔ∏è", "category": "romantic" },
                    { "id": 2, "text": "–ö–∞–∂–¥—ã–π –º–æ–º–µ–Ω—Ç —Å —Ç–æ–±–æ–π - —ç—Ç–æ –º–∞–ª–µ–Ω—å–∫–æ–µ —á—É–¥–æ ‚ú®", "category": "romantic" },
                    { "id": 3, "text": "–†—è–¥–æ–º —Å —Ç–æ–±–æ–π —è —á—É–≤—Å—Ç–≤—É—é —Å–µ–±—è —Å–∞–º—ã–º —Å—á–∞—Å—Ç–ª–∏–≤—ã–º —á–µ–ª–æ–≤–µ–∫–æ–º üòç", "category": "romantic" },
                    { "id": 4, "text": "–¢—ã - –∑–≤–µ–∑–¥–∞, –∫–æ—Ç–æ—Ä–∞—è –≤–µ–¥–µ—Ç –º–µ–Ω—è –ø–æ –∂–∏–∑–Ω–∏ üåü", "category": "romantic" },
                    { "id": 5, "text": "–í —Ç–≤–æ–∏—Ö –≥–ª–∞–∑–∞—Ö —è –≤–∏–∂—É –≤—Å—é –≤—Å–µ–ª–µ–Ω–Ω—É—é üåå", "category": "romantic" },
                    { "id": 6, "text": "–¢—ã - –º–æ–π —Ä–∞–π –Ω–∞ –∑–µ–º–ª–µ, –º–æ—è –º–µ—á—Ç–∞, —Å—Ç–∞–≤—à–∞—è —è–≤—å—é üè∞", "category": "romantic" },
                    { "id": 7, "text": "–ö–∞–∂–¥–∞—è –º–∏–Ω—É—Ç–∞ –±–µ–∑ —Ç–µ–±—è - —ç—Ç–æ –≤–µ—á–Ω–æ—Å—Ç—å üí´", "category": "romantic" },
                    { "id": 8, "text": "–¢—ã - –º–æ–µ —Å—á–∞—Å—Ç—å–µ, –º–æ—è —Ä–∞–¥–æ—Å—Ç—å, –º–æ–π —Å–≤–µ—Ç üåà", "category": "romantic" },
                    { "id": 9, "text": "–° —Ç–æ–±–æ–π –≤—Ä–µ–º—è –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è, –∏ –º–∏—Ä —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –ø—Ä–µ–∫—Ä–∞—Å–Ω—ã–º ‚è∞", "category": "romantic" },
                    { "id": 10, "text": "–¢—ã - –º—É–∑—ã–∫–∞ –º–æ–µ–≥–æ —Å–µ—Ä–¥—Ü–∞, –º–µ–ª–æ–¥–∏—è –º–æ–µ–π –¥—É—à–∏ üéº", "category": "romantic" },
    
                    // –ì–ª—É–±–æ–∫–∏–µ (10 —Å–æ–æ–±—â–µ–Ω–∏–π)
                    { "id": 11, "text": "–° —Ç–æ–±–æ–π —è –ø–æ–Ω—è–ª, —á—Ç–æ —Ç–∞–∫–æ–µ –Ω–∞—Å—Ç–æ—è—â–∞—è –ª—é–±–æ–≤—å üíï", "category": "deep" },
                    { "id": 12, "text": "–¢—ã - –º–æ–π –ª—É—á—à–∏–π –¥—Ä—É–≥, –º–æ—è –≤—Ç–æ—Ä–∞—è –ø–æ–ª–æ–≤–∏–Ω–∫–∞, –º–æ—è –ª—é–±–æ–≤—å üíñ", "category": "deep" },
                    { "id": 13, "text": "–í —Ç–µ–±–µ —è –Ω–∞—à–µ–ª —Å–º—ã—Å–ª —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è üåç", "category": "deep" },
                    { "id": 14, "text": "–õ—é–±–∏—Ç—å —Ç–µ–±—è - —ç—Ç–æ –º–æ–µ –ø—Ä–∏–∑–≤–∞–Ω–∏–µ, –º–æ—è –º–∏—Å—Å–∏—è üéØ", "category": "deep" },
                    { "id": 15, "text": "–¢—ã –∏–∑–º–µ–Ω–∏–ª–∞ –º–æ–π –≤–∑–≥–ª—è–¥ –Ω–∞ –º–∏—Ä –∏ –Ω–∞ –∂–∏–∑–Ω—å üëÅÔ∏è", "category": "deep" },
                    { "id": 16, "text": "–ù–∞—à–∞ –ª—é–±–æ–≤—å - —ç—Ç–æ —Ç–æ, —á—Ç–æ –¥–µ–ª–∞–µ—Ç –º–µ–Ω—è —á–µ–ª–æ–≤–µ–∫–æ–º ü§ù", "category": "deep" },
                    { "id": 17, "text": "–¢—ã –Ω–∞—É—á–∏–ª–∞ –º–µ–Ω—è –ª—é–±–∏—Ç—å –Ω–µ —Ç–æ–ª—å–∫–æ —Ç–µ–±—è, –Ω–æ –∏ —Å–∞–º–æ–≥–æ —Å–µ–±—è ü™û", "category": "deep" },
                    { "id": 18, "text": "–° —Ç–æ–±–æ–π —è –ø–æ–Ω—è–ª, —á—Ç–æ –¥—É—à–∞ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç üëª", "category": "deep" },
                    { "id": 19, "text": "–ù–∞—à–∞ —Å–≤—è–∑—å –≥–ª—É–±–∂–µ –æ–∫–µ–∞–Ω–∞ –∏ –≤—ã—à–µ –Ω–µ–±–µ—Å üåä", "category": "deep" },
                    { "id": 20, "text": "–¢—ã - –æ—Ç–≤–µ—Ç –Ω–∞ –≤—Å–µ –≤–æ–ø—Ä–æ—Å—ã, –∫–æ—Ç–æ—Ä—ã–µ —è –∑–∞–¥–∞–≤–∞–ª –∂–∏–∑–Ω–∏ üîç", "category": "deep" },
    
                    // –ö–æ–º–ø–ª–∏–º–µ–Ω—Ç—ã (10 —Å–æ–æ–±—â–µ–Ω–∏–π)
                    { "id": 21, "text": "–¢–≤–æ—è —É–ª—ã–±–∫–∞ - —Å–∞–º–æ–µ –ø—Ä–µ–∫—Ä–∞—Å–Ω–æ–µ, —á—Ç–æ –µ—Å—Ç—å –≤ –º–æ–µ–º –º–∏—Ä–µ üòä", "category": "compliment" },
                    { "id": 22, "text": "–¢–≤–æ–π —Å–º–µ—Ö - –º—É–∑—ã–∫–∞ –º–æ–µ–π –¥—É—à–∏ üéµ", "category": "compliment" },
                    { "id": 23, "text": "–¢—ã –∫—Ä–∞—Å–∏–≤–µ–µ –≤—Å–µ—Ö –∑–∞–∫–∞—Ç–æ–≤ –∏ —Ä–∞—Å—Å–≤–µ—Ç–æ–≤ –≤–º–µ—Å—Ç–µ –≤–∑—è—Ç—ã—Ö üåÖ", "category": "compliment" },
                    { "id": 24, "text": "–¢–≤–æ—è –¥–æ–±—Ä–æ—Ç–∞ –æ—Å–≤–µ—â–∞–µ—Ç –º–∏—Ä –≤–æ–∫—Ä—É–≥ —Ç–µ–±—è ‚ú®", "category": "compliment" },
                    { "id": 25, "text": "–¢—ã –æ–±–ª–∞–¥–∞–µ—à—å —Ä–µ–¥–∫–æ–π –∫—Ä–∞—Å–æ—Ç–æ–π –¥—É—à–∏ –∏ —Ç–µ–ª–∞ üíé", "category": "compliment" },
                    { "id": 26, "text": "–¢–≤–æ—è –º—É–¥—Ä–æ—Å—Ç—å –ø–æ—Ä–∞–∂–∞–µ—Ç –∏ –≤–æ—Å—Ö–∏—â–∞–µ—Ç –º–µ–Ω—è üìö", "category": "compliment" },
                    { "id": 27, "text": "–¢—ã –≥—Ä–∞—Ü–∏–æ–∑–Ω–∞ –∫–∞–∫ –ª–µ–±–µ–¥—å –∏ –Ω–µ–∂–Ω–∞ –∫–∞–∫ –±–∞–±–æ—á–∫–∞ ü¶¢", "category": "compliment" },
                    { "id": 28, "text": "–¢–≤–æ–∏ –≥–ª–∞–∑–∞ - —ç—Ç–æ –æ–∫–µ–∞–Ω—ã, –≤ –∫–æ—Ç–æ—Ä—ã—Ö —è –≥–æ—Ç–æ–≤ —É—Ç–æ–Ω—É—Ç—å üëÄ", "category": "compliment" },
                    { "id": 29, "text": "–¢—ã –∏–¥–µ–∞–ª—å–Ω–∞ –≤–æ –≤—Å–µ—Ö —Å–≤–æ–∏—Ö –Ω–µ—Å–æ–≤–µ—Ä—à–µ–Ω—Å—Ç–≤–∞—Ö üå∏", "category": "compliment" },
                    { "id": 30, "text": "–¢–≤–æ—è —ç–ª–µ–≥–∞–Ω—Ç–Ω–æ—Å—Ç—å –∑–∞—Ç–º–µ–≤–∞–µ—Ç –≤—Å–µ—Ö –∫–æ—Ä–æ–ª–µ–≤ –º–∏—Ä–∞ üëë", "category": "compliment" },
    
                    // –ë–ª–∞–≥–æ–¥–∞—Ä–Ω—ã–µ (10 —Å–æ–æ–±—â–µ–Ω–∏–π)
                    { "id": 31, "text": "–°–ø–∞—Å–∏–±–æ –∑–∞ —Ç–æ, —á—Ç–æ —Ç—ã –µ—Å—Ç—å –≤ –º–æ–µ–π –∂–∏–∑–Ω–∏ üôè", "category": "grateful" },
                    { "id": 32, "text": "–¢—ã - —Å–∞–º–æ–µ –ø—Ä–µ–∫—Ä–∞—Å–Ω–æ–µ, —á—Ç–æ —Å–ª—É—á–∏–ª–æ—Å—å —Å–æ –º–Ω–æ–π üå∫", "category": "grateful" },
                    { "id": 33, "text": "–ë–ª–∞–≥–æ–¥–∞—Ä—é —Å—É–¥—å–±—É –∑–∞ —Ç–æ, —á—Ç–æ —Å–≤–µ–ª–∞ –Ω–∞—Å –≤–º–µ—Å—Ç–µ üçÄ", "category": "grateful" },
                    { "id": 34, "text": "–°–ø–∞—Å–∏–±–æ –∑–∞ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å, –∫–æ—Ç–æ—Ä—ã–π –º—ã –ø—Ä–æ–≤–æ–¥–∏–º –≤–º–µ—Å—Ç–µ üìÖ", "category": "grateful" },
                    { "id": 35, "text": "–¢—ã –ø–æ–¥–∞—Ä–∏–ª–∞ –º–Ω–µ –≤–µ—Ä—É –≤ –ª—é–±–æ–≤—å –∏ –≤ —Å–µ–±—è üôè", "category": "grateful" },
                    { "id": 36, "text": "–°–ø–∞—Å–∏–±–æ –∑–∞ —Ç–≤–æ–µ —Ç–µ—Ä–ø–µ–Ω–∏–µ –∏ –ø–æ–Ω–∏–º–∞–Ω–∏–µ ü§ó", "category": "grateful" },
                    { "id": 37, "text": "–ë–ª–∞–≥–æ–¥–∞—Ä—é –∑–∞ –≤—Å–µ —É–ª—ã–±–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ —Ç—ã –º–Ω–µ –ø–æ–¥–∞—Ä–∏–ª–∞ üòä", "category": "grateful" },
                    { "id": 38, "text": "–¢—ã –Ω–∞—É—á–∏–ª–∞ –º–µ–Ω—è —Ü–µ–Ω–∏—Ç—å –∫–∞–∂–¥—ã–π –º–æ–º–µ–Ω—Ç –∂–∏–∑–Ω–∏ ‚è≥", "category": "grateful" },
                    { "id": 39, "text": "–°–ø–∞—Å–∏–±–æ –∑–∞ —Ç–æ, —á—Ç–æ –¥–µ–ª–∞–µ—à—å –º–µ–Ω—è –ª—É—á—à–µ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å üå±", "category": "grateful" },
                    { "id": 40, "text": "–Ø –±–ª–∞–≥–æ–¥–∞—Ä–µ–Ω –∑–∞ —Ç–≤–æ—é –ª—é–±–æ–≤—å, –∫–æ—Ç–æ—Ä–∞—è –∏–∑–º–µ–Ω–∏–ª–∞ –º–æ—é –∂–∏–∑–Ω—å üíù", "category": "grateful" },
    
                    // –†–∞—Å—Ç—É—â–∏–µ (10 —Å–æ–æ–±—â–µ–Ω–∏–π)
                    { "id": 41, "text": "–ú–æ—è –ª—é–±–æ–≤—å –∫ —Ç–µ–±–µ —Ä–∞—Å—Ç–µ—Ç —Å –∫–∞–∂–¥—ã–º –¥–Ω–µ–º üå±", "category": "growing" },
                    { "id": 42, "text": "–ö–∞–∂–¥—ã–π –¥–µ–Ω—å —è –æ—Ç–∫—Ä—ã–≤–∞—é –≤ —Ç–µ–±–µ —á—Ç–æ-—Ç–æ –Ω–æ–≤–æ–µ –∏ –ø—Ä–µ–∫—Ä–∞—Å–Ω–æ–µ üîç", "category": "growing" },
                    { "id": 43, "text": "–ù–∞—à–∞ –ª—é–±–æ–≤—å —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Å–∏–ª—å–Ω–µ–µ —Å –∫–∞–∂–¥—ã–º –∏—Å–ø—ã—Ç–∞–Ω–∏–µ–º üí™", "category": "growing" },
                    { "id": 44, "text": "–Ø –≤–ª—é–±–ª—è—é—Å—å –≤ —Ç–µ–±—è —Å–Ω–æ–≤–∞ –∏ —Å–Ω–æ–≤–∞ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å üíï", "category": "growing" },
                    { "id": 45, "text": "–ú–æ–∏ —á—É–≤—Å—Ç–≤–∞ –∫ —Ç–µ–±–µ –Ω–µ –∑–Ω–∞—é—Ç –≥—Ä–∞–Ω–∏—Ü –∏ –ø—Ä–µ–¥–µ–ª–æ–≤ üåä", "category": "growing" },
                    { "id": 46, "text": "–° –∫–∞–∂–¥—ã–º –≤–∑–¥–æ—Ö–æ–º –º–æ—è –ª—é–±–æ–≤—å –∫ —Ç–µ–±–µ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è üí®", "category": "growing" },
                    { "id": 47, "text": "–í—Ä–µ–º—è —Ç–æ–ª—å–∫–æ —É—Å–∏–ª–∏–≤–∞–µ—Ç –º–æ–∏ —á—É–≤—Å—Ç–≤–∞ –∫ —Ç–µ–±–µ ‚è∞", "category": "growing" },
                    { "id": 48, "text": "–ù–∞—à–∞ –ª—é–±–æ–≤—å —Ä–∞—Å—Ü–≤–µ—Ç–∞–µ—Ç –∫–∞–∫ –ø—Ä–µ–∫—Ä–∞—Å–Ω—ã–π —Å–∞–¥ üåπ", "category": "growing" },
                    { "id": 49, "text": "–ö–∞–∂–¥—ã–π –Ω–æ–≤—ã–π –¥–µ–Ω—å –¥–æ–±–∞–≤–ª—è–µ—Ç –∫—Ä–∞—Å–∫–∏ –≤ –º–æ—é –ª—é–±–æ–≤—å –∫ —Ç–µ–±–µ üé®", "category": "growing" },
                    { "id": 50, "text": "–ú–æ—è –ª—é–±–æ–≤—å –∫ —Ç–µ–±–µ —Ä–∞—Å—Ç–µ—Ç –±—ã—Å—Ç—Ä–µ–µ, —á–µ–º –∑–≤–µ–∑–¥—ã –≤–æ –≤—Å–µ–ª–µ–Ω–Ω–æ–π ‚≠ê", "category": "growing" },
    
                    // –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–∏–µ (10 —Å–æ–æ–±—â–µ–Ω–∏–π)
                    { "id": 51, "text": "–¢—ã - –º–æ–µ –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ –∏ –º–æ—è —Å–∏–ª–∞ üí™", "category": "supportive" },
                    { "id": 52, "text": "–° —Ç–æ–±–æ–π —è –º–æ–≥—É –ø—Ä–µ–æ–¥–æ–ª–µ—Ç—å –ª—é–±—ã–µ —Ç—Ä—É–¥–Ω–æ—Å—Ç–∏ üèîÔ∏è", "category": "supportive" },
                    { "id": 53, "text": "–¢—ã –¥–∞–µ—à—å –º–Ω–µ –∫—Ä—ã–ª—å—è, —á—Ç–æ–±—ã –ª–µ—Ç–∞—Ç—å –∫ –º–µ—á—Ç–∞–º üïäÔ∏è", "category": "supportive" },
                    { "id": 54, "text": "–í —Ç–≤–æ–∏—Ö —Ä—É–∫–∞—Ö —è —á—É–≤—Å—Ç–≤—É—é —Å–µ–±—è –Ω–µ–ø–æ–±–µ–¥–∏–º—ã–º üõ°Ô∏è", "category": "supportive" },
                    { "id": 55, "text": "–¢—ã - –º–æ–π —è–∫–æ—Ä—å –≤ –±—É—Ä—é –∏ –º–æ–π –∫–æ–º–ø–∞—Å –≤ –ø—É—Ç–∏ ‚öì", "category": "supportive" },
                    { "id": 56, "text": "–¢–≤–æ—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–µ–ª–∞–µ—Ç –º–µ–Ω—è –ª—É—á—à–µ–π –≤–µ—Ä—Å–∏–µ–π —Å–µ–±—è üåü", "category": "supportive" },
                    { "id": 57, "text": "–° —Ç–æ–±–æ–π —è –≥–æ—Ç–æ–≤ –ø–æ–∫–æ—Ä–∏—Ç—å –≤–µ—Å—å –º–∏—Ä üåç", "category": "supportive" },
                    { "id": 58, "text": "–¢—ã –≤–µ—Ä–∏—à—å –≤ –º–µ–Ω—è –¥–∞–∂–µ —Ç–æ–≥–¥–∞, –∫–æ–≥–¥–∞ —è –Ω–µ –≤–µ—Ä—é –≤ —Å–µ–±—è üôè", "category": "supportive" },
                    { "id": 59, "text": "–¢–≤–æ—è –ª—é–±–æ–≤—å - —ç—Ç–æ –º–æ—è —Å–≤–µ—Ä—Ö—Å–∏–ª–∞ ü¶∏", "category": "supportive" },
                    { "id": 60, "text": "–†—è–¥–æ–º —Å —Ç–æ–±–æ–π —è —á—É–≤—Å—Ç–≤—É—é, —á—Ç–æ –º–æ–≥—É –≤—Å—ë üöÄ", "category": "supportive" },
    
                    // –ò–Ω—Ç–∏–º–Ω—ã–µ (10 —Å–æ–æ–±—â–µ–Ω–∏–π)
                    { "id": 61, "text": "–¢–≤–æ–∏ –æ–±—ä—è—Ç–∏—è - –º–æ–π –¥–æ–º, —Ç–≤–æ–∏ –≥—É–±—ã - –º–æ–π —Ä–∞–π üè†", "category": "intimate" },
                    { "id": 62, "text": "–ö–∞–∂–¥—ã–π –ø–æ—Ü–µ–ª—É–π —Å —Ç–æ–±–æ–π - —ç—Ç–æ –Ω–æ–≤–∞—è –∏—Å—Ç–æ—Ä–∏—è –ª—é–±–≤–∏ üíã", "category": "intimate" },
                    { "id": 63, "text": "–í —Ç–≤–æ–∏—Ö –æ–±—ä—è—Ç–∏—è—Ö —è –Ω–∞—Ö–æ–∂—É –ø–æ–∫–æ–π –∏ —Å—Ç—Ä–∞—Å—Ç—å –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ üî•", "category": "intimate" },
                    { "id": 64, "text": "–¢–≤–æ–µ –¥—ã—Ö–∞–Ω–∏–µ –Ω–∞ –º–æ–µ–π –∫–æ–∂–µ - —ç—Ç–æ —ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å—Ç–≤–æ ‚ö°", "category": "intimate" },
                    { "id": 65, "text": "–Ø —Ö–æ—á—É –∑–∞—Å—ã–ø–∞—Ç—å –∏ –ø—Ä–æ—Å—ã–ø–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ —Ä—è–¥–æ–º —Å —Ç–æ–±–æ–π üõèÔ∏è", "category": "intimate" },
                    { "id": 66, "text": "–¢–≤–æ–∏ —Ä—É–∫–∏ - —ç—Ç–æ –º–∞–≥–∏—è, –∫–æ—Ç–æ—Ä–∞—è –∏—Å—Ü–µ–ª—è–µ—Ç –º–æ—é –¥—É—à—É ‚úã", "category": "intimate" },
                    { "id": 67, "text": "–í —Ç–≤–æ–∏—Ö –≥–ª–∞–∑–∞—Ö —è –≤–∏–∂—É –Ω–∞—à—É –æ–±—â—É—é —Å—É–¥—å–±—É üëÅÔ∏è‚Äçüó®Ô∏è", "category": "intimate" },
                    { "id": 68, "text": "–ù–∞—à–µ —Å–ª–∏—è–Ω–∏–µ –¥—É—à –ø—Ä–µ–∫—Ä–∞—Å–Ω–µ–µ –ª—é–±–æ–≥–æ —Ç–∞–Ω—Ü–∞ üíÉ", "category": "intimate" },
                    { "id": 69, "text": "–¢—ã –∑–Ω–∞–µ—à—å –º–µ–Ω—è –ª—É—á—à–µ, —á–µ–º —è –∑–Ω–∞—é —Å–µ–±—è ü™û", "category": "intimate" },
                    { "id": 70, "text": "–ù–∞—à–∞ –±–ª–∏–∑–æ—Å—Ç—å - —ç—Ç–æ –∏—Å–∫—É—Å—Å—Ç–≤–æ, –∫–æ—Ç–æ—Ä–æ–µ –º—ã —Å–æ–∑–¥–∞–µ–º –≤–º–µ—Å—Ç–µ üé®", "category": "intimate" },
    
                    // –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ (10 —Å–æ–æ–±—â–µ–Ω–∏–π)
                    { "id": 71, "text": "–ö–∞–∂–¥–æ–µ —É—Ç—Ä–æ —Å —Ç–æ–±–æ–π - —ç—Ç–æ –ø–æ–¥–∞—Ä–æ–∫ —Å—É–¥—å–±—ã üéÅ", "category": "daily" },
                    { "id": 72, "text": "–¢–≤–æ–π –≥–æ–ª–æ—Å - –ø–µ—Ä–≤–æ–µ, —á—Ç–æ —è —Ö–æ—á—É —Å–ª—ã—à–∞—Ç—å —É—Ç—Ä–æ–º ‚òÄÔ∏è", "category": "daily" },
                    { "id": 73, "text": "–û–±—ã—á–Ω—ã–π –¥–µ–Ω—å —Å —Ç–æ–±–æ–π –ª—É—á—à–µ –ø—Ä–∞–∑–¥–Ω–∏–∫–∞ –±–µ–∑ —Ç–µ–±—è üìÖ", "category": "daily" },
                    { "id": 74, "text": "–ö–∞–∂–¥—ã–π –∑–∞–≤—Ç—Ä–∞–∫ –≤–¥–≤–æ–µ–º - —ç—Ç–æ –º–∞–ª–µ–Ω—å–∫–∏–π –ø—Ä–∞–∑–¥–Ω–∏–∫ ü•ê", "category": "daily" },
                    { "id": 75, "text": "–¢–≤–æ—è —É–ª—ã–±–∫–∞ –¥–µ–ª–∞–µ—Ç –º–æ–π –∫–æ—Ñ–µ —Å–ª–∞—â–µ ‚òï", "category": "daily" },
                    { "id": 76, "text": "–ó–∞—Å—ã–ø–∞—Ç—å —Ä—è–¥–æ–º —Å —Ç–æ–±–æ–π - —ç—Ç–æ –ª—É—á—à–µ–µ –æ–∫–æ–Ω—á–∞–Ω–∏–µ –¥–Ω—è üåô", "category": "daily" },
                    { "id": 77, "text": "–î–∞–∂–µ –º—ã—Ç—å–µ –ø–æ—Å—É–¥—ã —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Ä–æ–º–∞–Ω—Ç–∏—á–Ω—ã–º, –∫–æ–≥–¥–∞ –º—ã –≤–º–µ—Å—Ç–µ üçΩÔ∏è", "category": "daily" },
                    { "id": 78, "text": "–ù–∞—à–∏ –≤–µ—á–µ—Ä–Ω–∏–µ —Ä–∞–∑–≥–æ–≤–æ—Ä—ã –¥–æ—Ä–æ–∂–µ –ª—é–±—ã—Ö —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏–π üí¨", "category": "daily" },
                    { "id": 79, "text": "–ö–∞–∂–¥—ã–π –æ–±—ã—á–Ω—ã–π –º–æ–º–µ–Ω—Ç —Å —Ç–æ–±–æ–π —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –≤–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏–µ–º üì∏", "category": "daily" },
                    { "id": 80, "text": "–ü—Ä–æ—Å—Ç—ã–µ –ø—Ä–æ–≥—É–ª–∫–∏ —Å —Ç–æ–±–æ–π - —ç—Ç–æ –º–æ–∏ –ª—é–±–∏–º—ã–µ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏—è üö∂", "category": "daily" },
    
                    // –í–æ–ª—à–µ–±–Ω—ã–µ (10 —Å–æ–æ–±—â–µ–Ω–∏–π)
                    { "id": 81, "text": "–¢—ã –ø—Ä–µ–≤—Ä–∞—â–∞–µ—à—å –æ–±—ã—á–Ω—ã–µ –¥–Ω–∏ –≤ –≤–æ–ª—à–µ–±–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã ‚ú®", "category": "magical" },
                    { "id": 82, "text": "–° —Ç–æ–±–æ–π —Ä–µ–∞–ª—å–Ω–æ—Å—Ç—å —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Å–∫–∞–∑–∫–æ–π üè∞", "category": "magical" },
                    { "id": 83, "text": "–¢—ã - –≤–æ–ª—à–µ–±–Ω–∏—Ü–∞, –∫–æ—Ç–æ—Ä–∞—è –∑–∞–∫–æ–ª–¥–æ–≤–∞–ª–∞ –º–æ–µ —Å–µ—Ä–¥—Ü–µ üßô‚Äç‚ôÄÔ∏è", "category": "magical" },
                    { "id": 84, "text": "–ù–∞—à–∞ –ª—é–±–æ–≤—å - —ç—Ç–æ –º–∞–≥–∏—è, –∫–æ—Ç–æ—Ä—É—é –Ω–µ–ª—å–∑—è –æ–±—ä—è—Å–Ω–∏—Ç—å üé©", "category": "magical" },
                    { "id": 85, "text": "–¢—ã —Å–æ–∑–¥–∞–µ—à—å —á—É–¥–µ—Å–∞ —Ç–∞–º, –≥–¥–µ –∏—Ö –Ω–µ –±—ã–ª–æ üåü", "category": "magical" },
                    { "id": 86, "text": "–í —Ç–≤–æ–∏—Ö —Ä—É–∫–∞—Ö –æ–±—ã—á–Ω—ã–µ –≤–µ—â–∏ —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –æ—Å–æ–±–µ–Ω–Ω—ã–º–∏ ‚ú®", "category": "magical" },
                    { "id": 87, "text": "–¢—ã - —Ñ–µ—è, –∫–æ—Ç–æ—Ä–∞—è –∏—Å–ø–æ–ª–Ω–∏–ª–∞ –≤—Å–µ –º–æ–∏ –∂–µ–ª–∞–Ω–∏—è üßö‚Äç‚ôÄÔ∏è", "category": "magical" },
                    { "id": 88, "text": "–ù–∞—à–∏ –≤—Å—Ç—Ä–µ—á–∏ - —ç—Ç–æ –≤—Å—Ç—Ä–µ—á–∏ –¥–≤—É—Ö –¥—É—à –≤ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –≤—Å–µ–ª–µ–Ω–Ω—ã—Ö üåå", "category": "magical" },
                    { "id": 89, "text": "–¢—ã —É–º–µ–µ—à—å –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –≤—Ä–µ–º—è –æ–¥–Ω–∏–º –≤–∑–≥–ª—è–¥–æ–º ‚è∞", "category": "magical" },
                    { "id": 90, "text": "–° —Ç–æ–±–æ–π —è –≤–µ—Ä—é –≤ –º–∞–≥–∏—é –∏ —á—É–¥–µ—Å–∞ üé≠", "category": "magical" },
    
                    // –ü—Ä–µ–¥–∞–Ω–Ω–æ—Å—Ç—å (10 —Å–æ–æ–±—â–µ–Ω–∏–π)
                    { "id": 91, "text": "–ú–æ–µ —Å–µ—Ä–¥—Ü–µ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç —Ç–æ–ª—å–∫–æ —Ç–µ–±–µ, –Ω–∞–≤—Å–µ–≥–¥–∞ üíù", "category": "commitment" },
                    { "id": 92, "text": "–Ø –≤—ã–±–∏—Ä–∞—é —Ç–µ–±—è –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –∑–∞–Ω–æ–≤–æ üíç", "category": "commitment" },
                    { "id": 93, "text": "–¢—ã - –º–æ–µ –Ω–∞–≤—Å–µ–≥–¥–∞, –º–æ—è –≤–µ—á–Ω–æ—Å—Ç—å üîÑ", "category": "commitment" },
                    { "id": 94, "text": "–ù–∞—à–∞ –ª—é–±–æ–≤—å –ø–µ—Ä–µ–∂–∏–≤–µ—Ç –≤—Å–µ –≤—Ä–µ–º–µ–Ω–∞ –∏ –∏—Å–ø—ã—Ç–∞–Ω–∏—è ‚è≥", "category": "commitment" },
                    { "id": 95, "text": "–Ø –æ–±–µ—â–∞—é –ª—é–±–∏—Ç—å —Ç–µ–±—è –¥–æ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –≤–∑–¥–æ—Ö–∞ üí®", "category": "commitment" },
                    { "id": 96, "text": "–ú–æ—è –≤–µ—Ä–Ω–æ—Å—Ç—å —Ç–µ–±–µ –∫—Ä–µ–ø—á–µ –∞–ª–º–∞–∑–∞ üíé", "category": "commitment" },
                    { "id": 97, "text": "–í —ç—Ç–æ–π –∂–∏–∑–Ω–∏ –∏ –≤–æ –≤—Å–µ—Ö —Å–ª–µ–¥—É—é—â–∏—Ö - —Ç–æ–ª—å–∫–æ —Ç—ã üîÅ", "category": "commitment" },
                    { "id": 98, "text": "–¢—ã - –º–æ–π –≤—ã–±–æ—Ä –Ω–∞ –≤—Å—é –∂–∏–∑–Ω—å üéØ", "category": "commitment" },
                    { "id": 99, "text": "–ù–∏–∫—Ç–æ –∏ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –∑–∞–π–º–µ—Ç —Ç–≤–æ–µ –º–µ—Å—Ç–æ –≤ –º–æ–µ–º —Å–µ—Ä–¥—Ü–µ üëë", "category": "commitment" },
                    { "id": 100, "text": "–ù–∞—à–∞ –ª—é–±–æ–≤—å - —ç—Ç–æ –∫–ª—è—Ç–≤–∞, –∫–æ—Ç–æ—Ä—É—é —è –¥–∞—é –∫–∞–∂–¥—ã–π –¥–µ–Ω—å ü§ù", "category": "commitment" },
    
                    // –ü—Ä–∏–∫–ª—é—á–µ–Ω–∏—è (10 —Å–æ–æ–±—â–µ–Ω–∏–π)
                    { "id": 101, "text": "–° —Ç–æ–±–æ–π —è –≥–æ—Ç–æ–≤ –ø–æ–∫–æ—Ä—è—Ç—å –ª—é–±—ã–µ –≤–µ—Ä—à–∏–Ω—ã üèîÔ∏è", "category": "adventure" },
                    { "id": 102, "text": "–ù–∞—à–∞ –ª—é–±–æ–≤—å - —ç—Ç–æ —Å–∞–º–æ–µ –∑–∞—Ö–≤–∞—Ç—ã–≤–∞—é—â–µ–µ –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏–µ üó∫Ô∏è", "category": "adventure" },
                    { "id": 103, "text": "–° —Ç–æ–±–æ–π –∫–∞–∂–¥—ã–π –¥–µ–Ω—å - —ç—Ç–æ –Ω–æ–≤–æ–µ –æ—Ç–∫—Ä—ã—Ç–∏–µ üîç", "category": "adventure" },
                    { "id": 104, "text": "–¢—ã - –º–æ–π –∫–æ–º–ø–∞–Ω—å–æ–Ω –≤ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–∏ –ø–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏–µ–º –∂–∏–∑–Ω—å üöÇ", "category": "adventure" },
                    { "id": 105, "text": "–î–∞–≤–∞–π –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å –º–∏—Ä –≤–º–µ—Å—Ç–µ, —Ä—É–∫–∞ –æ–± —Ä—É–∫—É ü§ù", "category": "adventure" },
                    { "id": 106, "text": "–° —Ç–æ–±–æ–π –¥–∞–∂–µ –ø–æ—Ö–æ–¥ –≤ –º–∞–≥–∞–∑–∏–Ω –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏–µ üõí", "category": "adventure" },
                    { "id": 107, "text": "–¢—ã –¥–µ–ª–∞–µ—à—å –º–æ—é –∂–∏–∑–Ω—å –ø–æ–ª–Ω–æ–π –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω–æ—Å—Ç–µ–π –∏ –æ—Ç–∫—Ä—ã—Ç–∏–π üéÅ", "category": "adventure" },
                    { "id": 108, "text": "–ù–∞—à–µ –±—É–¥—É—â–µ–µ - —ç—Ç–æ –Ω–µ–∏–∑–≤–µ–¥–∞–Ω–Ω–∞—è —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏—è, –∫–æ—Ç–æ—Ä—É—é –º—ã –æ—Ç–∫—Ä–æ–µ–º –≤–º–µ—Å—Ç–µ üó∫Ô∏è", "category": "adventure" },
                    { "id": 109, "text": "–° —Ç–æ–±–æ–π —è –≥–æ—Ç–æ–≤ –Ω–∞ –ª—é–±—ã–µ –±–µ–∑—É–º—Å—Ç–≤–∞ –∏ –∞–≤–∞–Ω—Ç—é—Ä—ã üé¢", "category": "adventure" },
                    { "id": 110, "text": "–¢—ã - –º–æ–π –±–∏–ª–µ—Ç –≤ —É–¥–∏–≤–∏—Ç–µ–ª—å–Ω—ã–π –º–∏—Ä –ª—é–±–≤–∏ –∏ —Å—á–∞—Å—Ç—å—è üé´", "category": "adventure" },
    
                    // –ë–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ (10 —Å–æ–æ–±—â–µ–Ω–∏–π)
                    { "id": 111, "text": "–¢—ã - –º–æ–π –∞–Ω–≥–µ–ª-—Ö—Ä–∞–Ω–∏—Ç–µ–ª—å –∏ –º–æ—è –±–æ–≥–∏–Ω—è üëº", "category": "divine" },
                    { "id": 112, "text": "–ë–æ–≥–∏ —Å–æ–∑–¥–∞–ª–∏ —Ç–µ–±—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–ª—è –º–µ–Ω—è üôè", "category": "divine" },
                    { "id": 113, "text": "–í —Ç–µ–±–µ —è –≤–∏–∂—É —á–∞—Å—Ç–∏—á–∫—É —Ä–∞—è –Ω–∞ –∑–µ–º–ª–µ üåÖ", "category": "divine" },
                    { "id": 114, "text": "–¢—ã - –≤–æ–ø–ª–æ—â–µ–Ω–∏–µ –≤—Å–µ—Ö –º–æ–∏—Ö –º–æ–ª–∏—Ç–≤ üïäÔ∏è", "category": "divine" },
                    { "id": 115, "text": "–¢–≤–æ—è –¥—É—à–∞ —Å–≤–µ—Ç–∏—Ç—Å—è –±–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–º —Å–≤–µ—Ç–æ–º ‚ú®", "category": "divine" },
                    { "id": 116, "text": "–¢—ã - —á—É–¥–æ, –Ω–∏—Å–ø–æ—Å–ª–∞–Ω–Ω–æ–µ –º–Ω–µ —Å–≤—ã—à–µ üåà", "category": "divine" },
                    { "id": 117, "text": "–í —Ç–≤–æ–∏—Ö —Ä—É–∫–∞—Ö —è —á—É–≤—Å—Ç–≤—É—é –ø—Ä–∏–∫–æ—Å–Ω–æ–≤–µ–Ω–∏–µ –∞–Ω–≥–µ–ª–∞ üëê", "category": "divine" },
                    { "id": 118, "text": "–¢—ã - –º–æ–µ –±–ª–∞–≥–æ—Å–ª–æ–≤–µ–Ω–∏–µ –æ—Ç –≤—Å–µ–≤—ã—à–Ω–µ–≥–æ üôè", "category": "divine" },
                    { "id": 119, "text": "–¢–≤–æ—è –ª—é–±–æ–≤—å - —ç—Ç–æ —Å–≤—è—â–µ–Ω–Ω—ã–π –¥–∞—Ä üéÅ", "category": "divine" },
                    { "id": 120, "text": "–¢—ã - —Ö—Ä–∞–º, –≤ –∫–æ—Ç–æ—Ä–æ–º –∂–∏–≤–µ—Ç –º–æ—è –ª—é–±–æ–≤—å ‚õ™", "category": "divine" },
    
                    // –†–æ—Å—Ç (10 —Å–æ–æ–±—â–µ–Ω–∏–π)
                    { "id": 121, "text": "–¢—ã –¥–µ–ª–∞–µ—à—å –º–µ–Ω—è –ª—É—á—à–µ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å üåü", "category": "growth" },
                    { "id": 122, "text": "–° —Ç–æ–±–æ–π —è —Ä–∞—Å—Ç—É –∫–∞–∫ –ª–∏—á–Ω–æ—Å—Ç—å –∏ –∫–∞–∫ –º—É–∂—á–∏–Ω–∞ üìà", "category": "growth" },
                    { "id": 123, "text": "–¢—ã –≤–¥–æ—Ö–Ω–æ–≤–ª—è–µ—à—å –º–µ–Ω—è —Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è –ª—É—á—à–µ–π –≤–µ—Ä—Å–∏–µ–π —Å–µ–±—è üöÄ", "category": "growth" },
                    { "id": 124, "text": "–ù–∞—à–∞ –ª—é–±–æ–≤—å —É—á–∏—Ç –º–µ–Ω—è –±—ã—Ç—å –¥–æ–±—Ä–µ–µ –∏ –º—É–¥—Ä–µ–µ üìö", "category": "growth" },
                    { "id": 125, "text": "–° —Ç–æ–±–æ–π —è –æ—Ç–∫—Ä—ã–≤–∞—é –≤ —Å–µ–±–µ –Ω–æ–≤—ã–µ –∫–∞—á–µ—Å—Ç–≤–∞ –∏ —Ç–∞–ª–∞–Ω—Ç—ã üé®", "category": "growth" },
                    { "id": 126, "text": "–¢—ã –ø–æ–º–æ–≥–∞–µ—à—å –º–Ω–µ –ø—Ä–µ–æ–¥–æ–ª–µ–≤–∞—Ç—å –º–æ–∏ —Å—Ç—Ä–∞—Ö–∏ –∏ —Å–ª–∞–±–æ—Å—Ç–∏ üí™", "category": "growth" },
                    { "id": 127, "text": "–õ—é–±–æ–≤—å –∫ —Ç–µ–±–µ –¥–µ–ª–∞–µ—Ç –º–µ–Ω—è —Å–∏–ª—å–Ω–µ–µ –∏ —É–≤–µ—Ä–µ–Ω–Ω–µ–µ ü¶Å", "category": "growth" },
                    { "id": 128, "text": "–¢—ã —É—á–∏—à—å –º–µ–Ω—è —Ü–µ–Ω–∏—Ç—å –∫–∞–∂–¥—ã–π –º–æ–º–µ–Ω—Ç –∂–∏–∑–Ω–∏ ‚è∞", "category": "growth" },
                    { "id": 129, "text": "–° —Ç–æ–±–æ–π —è —Å—Ç–∞–Ω–æ–≤–ª—é—Å—å —Ç–µ–º, –∫–µ–º –≤—Å–µ–≥–¥–∞ —Ö–æ—Ç–µ–ª –±—ã—Ç—å üéØ", "category": "growth" },
                    { "id": 130, "text": "–ù–∞—à–∞ –ª—é–±–æ–≤—å - —ç—Ç–æ —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç –∂–∏–∑–Ω–∏, –≥–¥–µ —è —É—á—É—Å—å –∫–∞–∂–¥—ã–π –¥–µ–Ω—å üéì", "category": "growth" }
                ],
                "categories": {
                    "romantic": "–†–æ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–µ",
                    "deep": "–ì–ª—É–±–æ–∫–∏–µ",
                    "compliment": "–ö–æ–º–ø–ª–∏–º–µ–Ω—Ç—ã",
                    "grateful": "–ë–ª–∞–≥–æ–¥–∞—Ä–Ω—ã–µ",
                    "growing": "–†–∞—Å—Ç—É—â–∏–µ",
                    "supportive": "–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–∏–µ",
                    "intimate": "–ò–Ω—Ç–∏–º–Ω—ã–µ",
                    "daily": "–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ",
                    "magical": "–í–æ–ª—à–µ–±–Ω—ã–µ",
                    "commitment": "–ü—Ä–µ–¥–∞–Ω–Ω–æ—Å—Ç—å",
                    "adventure": "–ü—Ä–∏–∫–ª—é—á–µ–Ω–∏—è",
                    "divine": "–ë–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ",
                    "growth": "–†–æ—Å—Ç"
                }
            };
            
            // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π –∏–∑ –ø–∞–ø–∫–∏ photos
            const generateCustomPhotos = () => {
                const photos = [];
                const photoTitles = [
                    'C—Ç—Ä–∞—Å—Ç–Ω–∞—è —Å—Ç—Ä–∞—Å—Ç—å', '–£—é—Ç–Ω–æ–µ –º–µ—Å—Ç–µ—á–∫–æ', '–ë–ª–∞—Ç–Ω—ã–º –ø–æ–≥–æ–¥–∞ –Ω–µ –ø–æ–≥–æ–¥–∞', 
                    '–¶–µ–Ω—Ç—Ä–æ–≤—ã–µ', '–ú–µ—á—Ç–∞—Ç–µ–ª–∏', '–°–≤–∞–¥—å–±–∞01', '–°–≤–∞–¥—å–±–∞02',
                    '–ü–∏–∫–Ω–∏–∫ –Ω–∞ –ø—Ä–∏—Ä–æ–¥–µ', '–í—Å—Ç—Ä–µ—á–∞ —Å –¥—Ä—É–∑—å—è–º–∏', '–ü–æ–µ–∑–¥–∫–∞ –∫ –º–æ—Ä—é', '–ü–µ—Ä–≤—ã–π —Å–æ–≤–º–µ—Å–Ω—ã–π –ù–ì',
                    '–†–µ—Å—Ç–æ—Ä–∞–Ω –∫–∞–∂–¥—ã–π –¥–µ–Ω—å', '–¢—ã —Ä—ã–±–∞—á–∫–∞ —è —Ä—ã–±–∞–∫', '–í–æ–¥–æ–ø–∞–¥ –ª—é–±–≤–∏', '–í—Å—Ç—Ä–µ—á–∞ —Å –¥—Ä—É–∑—å—è–º–∏',
                    '–ü—Ä–æ–≥—É–ª–∫–∞ –ø–æ —Ä–µ–∫–µ', '–≥–æ–¥–æ–≤—à–∏–Ω–∞', '–õ—É—á—à–∏–π –¥—Ä—É–≥', '–ü—É—Ç–µ—à–µ–≤—Å—Ç–≤–∏—è', '–í–º–µ—Å—Ç–µ –Ω–∞–≤—Å–µ–≥–¥–∞'
                ];
                
                for (let i = 1; i <= 24; i++) {
                    const photoNumber = i.toString().padStart(2, '0');
                    photos.push({
                        url: `photos/${photoNumber}.jpg`,
                        title: photoTitles[i - 1] || `–§–æ—Ç–æ ${photoNumber}`,
                        id: `custom-${photoNumber}`,
                        isCustom: true
                    });
                }
                return photos;
            };
    
            const customPhotos = generateCustomPhotos();
            const allGalleryImages = customPhotos;
    
            // –°–æ—Å—Ç–æ—è–Ω–∏—è –¥–ª—è –æ–±—â–∏—Ö —Å–æ–±—ã—Ç–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
            const [userEvents, setUserEvents] = useState([]);
            const [showAddEventModal, setShowAddEventModal] = useState(false);
            const [showEditEventModal, setShowEditEventModal] = useState(false);
            const [showUserEventsModal, setShowUserEventsModal] = useState(false);
            const [showEventDetailsModal, setShowEventDetailsModal] = useState(false);
            const [selectedEvent, setSelectedEvent] = useState(null);
            const [editingEvent, setEditingEvent] = useState(null);
            const [newEvent, setNewEvent] = useState({
                title: '',
                description: '',
                date: '',
                category: 'relationship',
                emoji: 'üíï',
                isPublic: true,
                photos: []
            });
            const [eventPhotos, setEventPhotos] = useState([]);
    
            // –ó–∞–≥—Ä—É–∑–∫–∞ –æ–±—â–∏—Ö —Å–æ–±—ã—Ç–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
            const loadUserEvents = () => {
                try {
                    // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ —ç—Ç–æ –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∑–∫–∞ —Å —Å–µ—Ä–≤–µ—Ä–∞
                    // –°–µ–π—á–∞—Å —Å–∏–º—É–ª–∏—Ä—É–µ–º —á–µ—Ä–µ–∑ localStorage
                    const savedEvents = localStorage.getItem('shared_user_events');
                    if (savedEvents) {
                        const eventsData = JSON.parse(savedEvents);
                        setUserEvents(eventsData.events || []);
                    } else {
                        // –ù–∞—á–∏–Ω–∞–µ–º —Å –ø—É—Å—Ç–æ–≥–æ —Å–ø–∏—Å–∫–∞ - —Ç–æ–ª—å–∫–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Å–æ–±—ã—Ç–∏—è
                        setUserEvents([]);
                    }
                } catch (error) {
                    console.error('Error loading user events:', error);
                    setUserEvents([]);
                }
            };
    
            // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ–±—â–∏—Ö —Å–æ–±—ã—Ç–∏–π
            const saveUserEvents = (events) => {
                try {
                    const eventsData = {
                        version: '1.0',
                        lastUpdated: new Date().toISOString(),
                        events: events,
                        stats: {
                            totalEvents: events.length,
                            totalLikes: events.reduce((sum, event) => sum + (event.likes || 0), 0)
                        }
                    };
                    localStorage.setItem('shared_user_events', JSON.stringify(eventsData));
                } catch (error) {
                    console.error('Error saving user events:', error);
                }
            };
    
            // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π
            const handlePhotoUpload = (event, isEditing = false) => {
                const files = Array.from(event.target.files);
                const validFiles = files.filter(file => 
                    file.type.startsWith('image/') && file.size <= 5 * 1024 * 1024 // 5MB –ª–∏–º–∏—Ç
                );
    
                if (validFiles.length !== files.length) {
                    alert('–ù–µ–∫–æ—Ç–æ—Ä—ã–µ —Ñ–∞–π–ª—ã –Ω–µ –±—ã–ª–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–æ—Ä–º–∞—Ç (—Ç–æ–ª—å–∫–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è) –∏ —Ä–∞–∑–º–µ—Ä (–Ω–µ –±–æ–ª–µ–µ 5MB).');
                }
    
                validFiles.forEach(file => {
                    const reader = new FileReader();
                    reader.onload = (e) => {
                        const photoData = {
                            id: `photo_${Date.now()}_${Math.random()}`,
                            name: file.name,
                            data: e.target.result,
                            size: file.size,
                            type: file.type,
                            uploadedAt: new Date().toISOString()
                        };
    
                        if (isEditing && editingEvent) {
                            setEditingEvent(prev => ({
                                ...prev,
                                photos: [...(prev.photos || []), photoData]
                            }));
                        } else {
                            setEventPhotos(prev => [...prev, photoData]);
                            setNewEvent(prev => ({
                                ...prev,
                                photos: [...(prev.photos || []), photoData]
                            }));
                        }
                    };
                    reader.readAsDataURL(file);
                });
    
                // –û—á–∏—Å—Ç–∫–∞ input
                event.target.value = '';
            };
    
            // –£–¥–∞–ª–µ–Ω–∏–µ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –∏–∑ —Å–æ–±—ã—Ç–∏—è
            const removePhoto = (photoId, isEditing = false) => {
                if (isEditing && editingEvent) {
                    setEditingEvent(prev => ({
                        ...prev,
                        photos: (prev.photos || []).filter(p => p.id !== photoId)
                    }));
                } else {
                    setEventPhotos(prev => prev.filter(p => p.id !== photoId));
                    setNewEvent(prev => ({
                        ...prev,
                        photos: (prev.photos || []).filter(p => p.id !== photoId)
                    }));
                }
            };
    
            // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Å–æ–±—ã—Ç–∏—è
            const addUserEvent = () => {
                if (!newEvent.title || !newEvent.date) {
                    alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∏ –¥–∞—Ç—É —Å–æ–±—ã—Ç–∏—è');
                    return;
                }
    
                const event = {
                    id: `event_${Date.now()}`,
                    userId: 'current_user',
                    userName: '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å',
                    userAvatar: 'üòä',
                    title: newEvent.title,
                    description: newEvent.description,
                    date: newEvent.date,
                    emoji: newEvent.emoji,
                    category: newEvent.category,
                    likes: 0,
                    comments: [],
                    photos: eventPhotos,
                    createdAt: new Date().toISOString(),
                    updatedAt: new Date().toISOString(),
                    isPublic: newEvent.isPublic
                };
    
                const updatedEvents = [...userEvents, event];
                setUserEvents(updatedEvents);
                saveUserEvents(updatedEvents);
    
                // –°–±—Ä–æ—Å —Ñ–æ—Ä–º—ã
                setNewEvent({
                    title: '',
                    description: '',
                    date: '',
                    category: 'relationship',
                    emoji: 'üíï',
                    isPublic: true,
                    photos: []
                });
                setEventPhotos([]);
                setShowAddEventModal(false);
    
                // –ü–æ–∫–∞–∑–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—Ö–µ
                alert('üéâ –°–æ–±—ã—Ç–∏–µ —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ –∏ –¥–æ—Å—Ç—É–ø–Ω–æ –≤—Å–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º!');
            };
    
            // –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è
            const editUserEvent = (event) => {
                setEditingEvent({...event});
                setShowEditEventModal(true);
            };
    
            // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å–æ–±—ã—Ç–∏—è
            const saveEditedEvent = () => {
                if (!editingEvent.title || !editingEvent.date) {
                    alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∏ –¥–∞—Ç—É —Å–æ–±—ã—Ç–∏—è');
                    return;
                }
    
                const updatedEvent = {
                    ...editingEvent,
                    updatedAt: new Date().toISOString()
                };
    
                const updatedEvents = userEvents.map(event => 
                    event.id === editingEvent.id ? updatedEvent : event
                );
                
                setUserEvents(updatedEvents);
                saveUserEvents(updatedEvents);
    
                setShowEditEventModal(false);
                setEditingEvent(null);
                
                alert('‚úÖ –°–æ–±—ã—Ç–∏–µ —É—Å–ø–µ—à–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω–æ!');
            };
    
            // –£–¥–∞–ª–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è
            const deleteUserEvent = (eventId) => {
                if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç–æ —Å–æ–±—ã—Ç–∏–µ? –≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–ª—å–∑—è –æ—Ç–º–µ–Ω–∏—Ç—å.')) {
                    const updatedEvents = userEvents.filter(event => event.id !== eventId);
                    setUserEvents(updatedEvents);
                    saveUserEvents(updatedEvents);
                    
                    if (selectedEvent && selectedEvent.id === eventId) {
                        setShowEventDetailsModal(false);
                        setSelectedEvent(null);
                    }
                    
                    alert('üóëÔ∏è –°–æ–±—ã—Ç–∏–µ —É–¥–∞–ª–µ–Ω–æ.');
                }
            };
    
            // –ü—Ä–æ—Å–º–æ—Ç—Ä –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–µ–π —Å–æ–±—ã—Ç–∏—è
            const viewEventDetails = (event) => {
                setSelectedEvent(event);
                setShowEventDetailsModal(true);
            };
            
            // –û—á–∏—Å—Ç–∫–∞ –ø—Ä–∏–º–µ—Ä–æ–≤ —Å–æ–±—ã—Ç–∏–π (–≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑)
            const clearExampleEvents = () => {
                localStorage.removeItem('shared_user_events');
                setUserEvents([]);
            };
    
            // –õ–∞–π–∫ —Å–æ–±—ã—Ç–∏—è
            const likeEvent = (eventId) => {
                const updatedEvents = userEvents.map(event => 
                    event.id === eventId 
                        ? { ...event, likes: (event.likes || 0) + 1 }
                        : event
                );
                setUserEvents(updatedEvents);
                saveUserEvents(updatedEvents);
            };
    
            // –í–∞–∂–Ω—ã–µ –¥–∞—Ç—ã (–æ–±—ä–µ–¥–∏–Ω—è–µ–º —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º–∏ —Å–æ–±—ã—Ç–∏—è–º–∏)
            const importantDates = [
                {
                    date: '2006-07-21',
                    title: '–î–µ–Ω—å –∑–Ω–∞–∫–æ–º—Å—Ç–≤–∞',
                    description: '–ù–∞—à–∞ –ø–µ—Ä–≤–∞—è –≤—Å—Ç—Ä–µ—á–∞',
                    emoji: 'üí´'
                },
                {
                    date: '2007-02-14',
                    title: '–î–µ–Ω—å —Å–≤—è—Ç–æ–≥–æ –í–∞–ª–µ–Ω—Ç–∏–Ω–∞',
                    description: '–ù–∞—à –ø–µ—Ä–≤—ã–π –î–µ–Ω—å –≤–ª—é–±–ª–µ–Ω–Ω—ã—Ö',
                    emoji: 'üíï'
                },
                {
                    date: '2026-03-08',
                    title: '8 –º–∞—Ä—Ç–∞',
                    description: '–ü—Ä–∞–∑–¥–Ω–∏–∫ –º–æ–µ–π –ø—Ä–∏–Ω—Ü–µ—Å—Å—ã',
                    emoji: 'üå∫'
                },
                {
                    date: '2025-12-31',
                    title: '–ù–æ–≤—ã–π –≥–æ–¥',
                    description: '–í—Å—Ç—Ä–µ—á–∞–µ–º –≤–º–µ—Å—Ç–µ',
                    emoji: 'üéâ'
                }
            ];
    
            // –ò—Å—Ç–æ—Ä–∏—è –æ—Ç–Ω–æ—à–µ–Ω–∏–π (–ò–ó–ú–ï–ù–ò–¢–ï –ù–ê –°–í–û–Æ –ò–°–¢–û–†–ò–Æ)
            const loveStory = {
                title: "–ù–∞—à–∞ –∏—Å—Ç–æ—Ä–∏—è –ª—é–±–≤–∏",
                chapters: [
                    {
                        date: "–ü–µ—Ä–≤–∞—è –≤—Å—Ç—Ä–µ—á–∞",
                        text: "–ü–æ–º–Ω—é —Ç–æ—Ç –¥–µ–Ω—å, –∫–æ–≥–¥–∞ –º—ã –≤–ø–µ—Ä–≤—ã–µ –≤—Å—Ç—Ä–µ—Ç–∏–ª–∏—Å—å. –¢—ã –ø—Ä–µ–¥–ª–æ–∂–∏–ª–∞ –ø–æ–º–æ—á—å —Ä–∞—Å–ø—É—Ç–∞—Ç—å –ø–ª–µ—Ç–µ–Ω–∫—É. –¢–≤–æ–∏ –≥–ª–∞–∑–∞ —Å–∏—è–ª–∏ —Ç–∞–∫ —è—Ä–∫–æ, —á—Ç–æ —è –ø–æ–Ω—è–ª - –º–æ—è –∂–∏–∑–Ω—å –∏–∑–º–µ–Ω–∏–ª–∞—Å—å –Ω–∞–≤—Å–µ–≥–¥–∞.",
                        emotion: "üí´"
                    },
                    {
                        date: "–ü–µ—Ä–≤–æ–µ —Å–≤–∏–¥–∞–Ω–∏–µ",
                        text: "–ù–∞—à–µ –ø–µ—Ä–≤–æ–µ —Å–≤–∏–¥–∞–Ω–∏–µ –±—ã–ª–æ –∫–∞–∫ –≤ —Å–∫–∞–∑–∫–µ. –ú—ã –≥–æ–≤–æ—Ä–∏–ª–∏ —á–∞—Å–∞–º–∏, –∏ –≤—Ä–µ–º—è –ø—Ä–æ—Å—Ç–æ –æ—Å—Ç–∞–Ω–æ–≤–∏–ª–æ—Å—å, –∏ –ø–æ—Ç–µ—Ä—è–≤ –≥–æ–ª–æ–≤—É —è –∑–∞–±—ã–ª —Å–≤–æ–∏ –ª—é–±–∏–º—ã–µ –ø–µ—Ä—á–∞—Ç–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–¥–ª–æ–∂–∏–ª —Ç–µ–±–µ –ø–æ–¥ –∂–æ–ø–∫—É.",
                        emotion: "üíï"
                    },
                    {
                        date: "–ü—Ä–∏–∑–Ω–∞–Ω–∏–µ",
                        text: "–ö–æ–≥–¥–∞ —è –≤–ø–µ—Ä–≤—ã–µ —Å–∫–∞–∑–∞–ª —Ç–µ–±–µ '–Ø –ª—é–±–ª—é —Ç–µ–±—è', –º–æ–µ —Å–µ—Ä–¥—Ü–µ –±–∏–ª–æ—Å—å —Ç–∞–∫ –±—ã—Å—Ç—Ä–æ. –¢–≤–æ–π –æ—Ç–≤–µ—Ç —Å—Ç–∞–ª —Å–∞–º—ã–º —Å—á–∞—Å—Ç–ª–∏–≤—ã–º –º–æ–º–µ–Ω—Ç–æ–º –≤ –º–æ–µ–π –∂–∏–∑–Ω–∏, –Ω–µ—Å–º–æ—Ç—Ä—è –Ω–∞ —Ç–æ —á—Ç–æ –º—ã –±—ã–ª–∏ –≤ –ø–æ–¥–≤–∞–ª–µ!",
                        emotion: "‚ù§Ô∏è"
                    },
                    {
                        date: "–°–µ–≥–æ–¥–Ω—è",
                        text: "–ö–∞–∂–¥—ã–π –¥–µ–Ω—å —Å —Ç–æ–±–æ–π - —ç—Ç–æ –Ω–æ–≤–æ–µ –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏–µ. –ú–æ—è –ª—é–±–æ–≤—å –∫ —Ç–µ–±–µ —Ç–æ–ª—å–∫–æ —Ä–∞—Å—Ç–µ—Ç.",
                        emotion: "üåü"
                    }
                ]
            };
    
            // –°–∏—Å—Ç–µ–º–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
            const achievements = [
                // –ü–æ—Å–µ—â–µ–Ω–∏—è
                { id: 'visits_1', title: '–ü–µ—Ä–≤—ã–µ —à–∞–≥–∏', description: '–ü–æ—Å–µ—Ç–∏–ª –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤–ø–µ—Ä–≤—ã–µ', icon: 'üëã', requirement: 1, type: 'visits', rarity: 'common' },
                { id: 'visits_10', title: '–ß–∞—Å—Ç—ã–π –≥–æ—Å—Ç—å', description: '–ü–æ—Å–µ—Ç–∏–ª –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ 10 —Ä–∞–∑', icon: 'üö∂', requirement: 10, type: 'visits', rarity: 'common' },
                { id: 'visits_30', title: '–í–µ—Ä–Ω—ã–π –ø–æ–∫–ª–æ–Ω–Ω–∏–∫', description: '–ü–æ—Å–µ—Ç–∏–ª –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ 30 —Ä–∞–∑', icon: 'üíñ', requirement: 30, type: 'visits', rarity: 'rare' },
                { id: 'visits_50', title: '–ü—Ä–µ–¥–∞–Ω–Ω—ã–π –≤–æ–∑–ª—é–±–ª–µ–Ω–Ω—ã–π', description: '–ü–æ—Å–µ—Ç–∏–ª –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ 50 —Ä–∞–∑', icon: 'üëë', requirement: 50, type: 'visits', rarity: 'epic' },
                { id: 'visits_100', title: '–ú–∞—Å—Ç–µ—Ä —Ä–æ–º–∞–Ω—Ç–∏–∫–∏', description: '–ü–æ—Å–µ—Ç–∏–ª –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ 100 —Ä–∞–∑', icon: 'üèÜ', requirement: 100, type: 'visits', rarity: 'legendary' },
                
                // –°–æ–æ–±—â–µ–Ω–∏—è –ª—é–±–≤–∏
                { id: 'messages_10', title: '–ß–∏—Ç–∞—Ç–µ–ª—å —Å–µ—Ä–¥—Ü–∞', description: '–ü—Ä–æ—á–∏—Ç–∞–ª 10 –ø—Ä–∏–∑–Ω–∞–Ω–∏–π –≤ –ª—é–±–≤–∏', icon: 'üíå', requirement: 10, type: 'messages', rarity: 'common' },
                { id: 'messages_50', title: '–¶–µ–Ω–∏—Ç–µ–ª—å —Ä–æ–º–∞–Ω—Ç–∏–∫–∏', description: '–ü—Ä–æ—á–∏—Ç–∞–ª 50 –ø—Ä–∏–∑–Ω–∞–Ω–∏–π –≤ –ª—é–±–≤–∏', icon: 'üíï', requirement: 50, type: 'messages', rarity: 'rare' },
                { id: 'messages_100', title: '–ó–Ω–∞—Ç–æ–∫ –ª—é–±–≤–∏', description: '–ü—Ä–æ—á–∏—Ç–∞–ª 100 –ø—Ä–∏–∑–Ω–∞–Ω–∏–π –≤ –ª—é–±–≤–∏', icon: '‚ù§Ô∏è', requirement: 100, type: 'messages', rarity: 'epic' },
                
                // –§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏
                { id: 'photos_25', title: '–°–º–æ—Ç—Ä–∏—Ç–µ–ª—å –≤–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏–π', description: '–ü—Ä–æ—Å–º–æ—Ç—Ä–µ–ª 25 —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π', icon: 'üì∏', requirement: 25, type: 'photos', rarity: 'common' },
                { id: 'photos_100', title: '–•—Ä–∞–Ω–∏—Ç–µ–ª—å –º–æ–º–µ–Ω—Ç–æ–≤', description: '–ü—Ä–æ—Å–º–æ—Ç—Ä–µ–ª 100 —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π', icon: 'üñºÔ∏è', requirement: 100, type: 'photos', rarity: 'rare' },
                
                // –ö–∞—Ç–µ–≥–æ—Ä–∏–∏
                { id: 'categories_5', title: '–ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å —á—É–≤—Å—Ç–≤', description: '–ò–∑—É—á–∏–ª 5 –∫–∞—Ç–µ–≥–æ—Ä–∏–π –ø—Ä–∏–∑–Ω–∞–Ω–∏–π', icon: 'üîç', requirement: 5, type: 'categories', rarity: 'common' },
                { id: 'categories_all', title: '–ú–∞—Å—Ç–µ—Ä —ç–º–æ—Ü–∏–π', description: '–ò–∑—É—á–∏–ª –≤—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –ø—Ä–∏–∑–Ω–∞–Ω–∏–π', icon: 'üé≠', requirement: 13, type: 'categories', rarity: 'epic' },
                
                // –û—Å–æ–±—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è
                { id: 'notifications', title: '–í—Å–µ–≥–¥–∞ –Ω–∞ —Å–≤—è–∑–∏', description: '–í–∫–ª—é—á–∏–ª —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è', icon: 'üîî', requirement: 1, type: 'notifications', rarity: 'rare' },
                { id: 'streak_7', title: '–ù–µ–¥–µ–ª—å–Ω–∞—è —Ç—Ä–∞–¥–∏—Ü–∏—è', description: '–ó–∞—Ö–æ–¥–∏–ª 7 –¥–Ω–µ–π –ø–æ–¥—Ä—è–¥', icon: 'üìÖ', requirement: 7, type: 'streak', rarity: 'rare' },
                { id: 'streak_30', title: '–ú–µ—Å—è—á–Ω–∞—è –ø—Ä–∏–≤—ã—á–∫–∞', description: '–ó–∞—Ö–æ–¥–∏–ª 30 –¥–Ω–µ–π –ø–æ–¥—Ä—è–¥', icon: 'üóìÔ∏è', requirement: 30, type: 'streak', rarity: 'legendary' },
                { id: 'early_bird', title: '–†–∞–Ω–Ω—è—è –ø—Ç–∞—à–∫–∞', description: '–ó–∞—à–µ–ª –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —É—Ç—Ä–æ–º (–¥–æ 8:00)', icon: 'üåÖ', requirement: 1, type: 'special', rarity: 'common' },
                { id: 'night_owl', title: '–ü–æ–ª—É–Ω–æ—á–Ω—ã–π —Ä–æ–º–∞–Ω—Ç–∏–∫', description: '–ó–∞—à–µ–ª –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–∑–¥–Ω–æ (–ø–æ—Å–ª–µ 23:00)', icon: 'üåô', requirement: 1, type: 'special', rarity: 'common' },
                { id: 'valentines_visit', title: '–î–µ–Ω—å –≤–ª—é–±–ª–µ–Ω–Ω—ã—Ö', description: '–ü–æ—Å–µ—Ç–∏–ª –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ 14 —Ñ–µ–≤—Ä–∞–ª—è', icon: 'üíù', requirement: 1, type: 'special', rarity: 'epic' },
                { id: 'story_reader', title: '–ó–Ω–∞—Ç–æ–∫ –∏—Å—Ç–æ—Ä–∏–∏', description: '–ü—Ä–æ—á–∏—Ç–∞–ª –Ω–∞—à—É –∏—Å—Ç–æ—Ä–∏—é –ª—é–±–≤–∏', icon: 'üìñ', requirement: 1, type: 'special', rarity: 'common' },
                { id: 'calendar_explorer', title: '–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ —Å–≤–∏–¥–∞–Ω–∏–π', description: '–ò–∑—É—á–∏–ª –∫–∞–ª–µ–Ω–¥–∞—Ä—å –≤–∞–∂–Ω—ã—Ö –¥–∞—Ç', icon: 'üìÜ', requirement: 1, type: 'special', rarity: 'common' }
            ];
    
            // –†–∞—Å—á–µ—Ç –¥–Ω–µ–π –≤–º–µ—Å—Ç–µ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
            useEffect(() => {
                const today = new Date();
                const diffTime = Math.abs(today - relationshipStart);
                const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
                setDaysTogether(diffDays);
    
                // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏–±–ª–∏–∂–∞—é—â–∏—Ö—Å—è —Å–æ–±—ã—Ç–∏–π
                checkUpcomingEvents(today);
            }, []);
    
            // –§—É–Ω–∫—Ü–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∏–±–ª–∏–∂–∞—é—â–∏—Ö—Å—è —Å–æ–±—ã—Ç–∏–π
            const checkUpcomingEvents = (currentDate) => {
                const today = new Date(currentDate);
                const threeDaysFromNow = new Date(today);
                threeDaysFromNow.setDate(today.getDate() + 3);
    
                for (const dateItem of importantDates) {
                    const eventDate = new Date(dateItem.date);
                    
                    // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å–ª–∏ —Å–æ–±—ã—Ç–∏–µ –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö 3 –¥–Ω–µ–π
                    if (eventDate >= today && eventDate <= threeDaysFromNow) {
                        const daysUntil = Math.ceil((eventDate - today) / (1000 * 60 * 60 * 24));
                        
                        setUpcomingEvent({
                            ...dateItem,
                            daysUntil: daysUntil,
                            isToday: daysUntil === 0,
                            isTomorrow: daysUntil === 1
                        });
                        setHasUpcomingNotification(true);
                        
                        // –ü–æ–∫–∞–∑–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ 2 —Å–µ–∫—É–Ω–¥—ã –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏
                        setTimeout(() => {
                            setShowNotificationModal(true);
                        }, 2000);
                        
                        break; // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ç–æ–ª—å–∫–æ –±–ª–∏–∂–∞–π—à–µ–µ —Å–æ–±—ã—Ç–∏–µ
                    }
                }
            };
    
            // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–º–µ–Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∫–∞–∂–¥—ã–µ 10 —Å–µ–∫—É–Ω–¥
            useEffect(() => {
                if (allGalleryImages.length === 0) return;
                
                const interval = setInterval(() => {
                    setCurrentImageIndex((prevIndex) => 
                        (prevIndex + 1) % allGalleryImages.length
                    );
                }, 10000);
    
                return () => clearInterval(interval);
            }, [allGalleryImages.length]);
    
            // –ê–Ω–∏–º–∞—Ü–∏—è –ø–∞–¥–∞—é—â–∏—Ö –ª–µ–ø–µ—Å—Ç–∫–æ–≤
            useEffect(() => {
                const createPetal = () => {
                    const petal = {
                        id: Date.now() + Math.random(),
                        left: Math.random() * 100,
                        animationDuration: 3 + Math.random() * 3,
                        size: 12 + Math.random() * 8,
                        rotation: Math.random() * 360
                    };
                    
                    setPetals(prev => [...prev, petal]);
                    
                    setTimeout(() => {
                        setPetals(prev => prev.filter(p => p.id !== petal.id));
                    }, petal.animationDuration * 1000);
                };
    
                const interval = setInterval(createPetal, 3000);
                return () => clearInterval(interval);
            }, []);
    
            // –ê–Ω–∏–º–∞—Ü–∏—è —á–∞—Å—Ç–∏—Ü-—Å–µ—Ä–¥–µ—á–µ–∫
            useEffect(() => {
                const animateHearts = () => {
                    setHearts(prev => 
                        prev.map(heart => ({
                            ...heart,
                            x: heart.x + heart.vx,
                            y: heart.y + heart.vy,
                            vy: heart.vy + 0.1,
                            life: heart.life - 0.02
                        })).filter(heart => heart.life > 0)
                    );
                };
    
                const interval = setInterval(animateHearts, 16);
                return () => clearInterval(interval);
            }, []);
    
            // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ —Å–æ–æ–±—â–µ–Ω–∏–π –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
            const getFilteredMessages = () => {
                if (selectedCategory === 'all') {
                    return loveMessagesData.loveMessages;
                }
                return loveMessagesData.loveMessages.filter(msg => msg.category === selectedCategory);
            };
    
            // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–ª—É—á–∞–π–Ω–æ–≥–æ –ø—Ä–∏–∑–Ω–∞–Ω–∏—è –≤ –ª—é–±–≤–∏ —Å —É—á–µ—Ç–æ–º —Ñ–∏–ª—å—Ç—Ä–∞
            const generateLoveMessage = () => {
                const filteredMessages = getFilteredMessages();
                const randomIndex = Math.floor(Math.random() * filteredMessages.length);
                setCurrentLoveMessage(filteredMessages[randomIndex]);
                
                // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
                updateStats({
                    messagesRead: userStats.messagesRead + 1
                });
            };
    
            // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —á–∞—Å—Ç–∏—Ü-—Å–µ—Ä–¥–µ—á–µ–∫
            const createHeartParticles = (event) => {
                const rect = event.currentTarget.getBoundingClientRect();
                const centerX = rect.left + rect.width / 2;
                const centerY = rect.top + rect.height / 2;
    
                for (let i = 0; i < 4; i++) {
                    const heart = {
                        id: Date.now() + Math.random(),
                        x: centerX,
                        y: centerY,
                        vx: (Math.random() - 0.5) * 3,
                        vy: -Math.random() * 2 - 1,
                        life: 1,
                        size: 12 + Math.random() * 8
                    };
                    
                    setHearts(prev => [...prev, heart]);
                }
            };
    
            // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–∞—Ä–æ–ª—è
            const handlePasswordSubmit = (e) => {
                e.preventDefault();
                
                if (passwordInput === SECRET_PASSWORD) {
                    setIsAuthenticated(true);
                    setShowPasswordModal(false);
                    setPasswordError('');
                    
                    // –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ localStorage –¥–ª—è —Å–µ–∞–Ω—Å–∞
                    localStorage.setItem('romantic_app_authenticated', 'true');
                    
                    // –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ –ø–æ—Å–ª–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
                    setTimeout(() => {
                        loadUserStats();
                        loadUserEvents();
                        recordVisit();
                    }, 100);
                } else {
                    setAttemptCount(prev => prev + 1);
                    setPasswordError('–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–∞—Ä–æ–ª—å. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.');
                    setPasswordInput('');
                    
                    // –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø–æ—Å–ª–µ 3 –Ω–µ—É–¥–∞—á–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫
                    if (attemptCount >= 2) {
                        setPasswordError('–°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –ø–æ–ø—ã—Ç–æ–∫. –ü–æ–¥–æ–∂–¥–∏—Ç–µ 30 —Å–µ–∫—É–Ω–¥.');
                        setTimeout(() => {
                            setAttemptCount(0);
                            setPasswordError('');
                        }, 30000);
                    }
                }
            };
    
            // –ó–∞–≥—Ä—É–∑–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            const loadUserStats = () => {
                const savedStats = localStorage.getItem('romantic_app_stats');
                const savedAchievements = localStorage.getItem('romantic_app_achievements');
                
                if (savedStats) {
                    const stats = JSON.parse(savedStats);
                    // –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º Set –æ–±—Ä–∞—Ç–Ω–æ –∏–∑ –º–∞—Å—Å–∏–≤–∞
                    stats.categoriesExplored = new Set(stats.categoriesExplored || []);
                    setUserStats(stats);
                }
                
                if (savedAchievements) {
                    const achievements = JSON.parse(savedAchievements);
                    setUnlockedAchievements(new Set(achievements));
                }
            };
    
            // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
            const saveUserStats = (newStats) => {
                // –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º Set –≤ –º–∞—Å—Å–∏–≤ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
                const statsToSave = {
                    ...newStats,
                    categoriesExplored: Array.from(newStats.categoriesExplored)
                };
                localStorage.setItem('romantic_app_stats', JSON.stringify(statsToSave));
            };
    
            // –ó–∞–ø–∏—Å—å –ø–æ—Å–µ—â–µ–Ω–∏—è
            const recordVisit = () => {
                const today = new Date().toDateString();
                const currentHour = new Date().getHours();
                
                setUserStats(prevStats => {
                    const newStats = { ...prevStats };
                    
                    // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Å—á–µ—Ç—á–∏–∫ –ø–æ—Å–µ—â–µ–Ω–∏–π
                    newStats.totalVisits += 1;
                    
                    // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –¥–∞—Ç—É –ø–µ—Ä–≤–æ–≥–æ –ø–æ—Å–µ—â–µ–Ω–∏—è
                    if (!newStats.firstVisitDate) {
                        newStats.firstVisitDate = today;
                    }
                    
                    // –û–±–Ω–æ–≤–ª—è–µ–º –ø–æ—Å–ª–µ–¥–Ω–µ–µ –ø–æ—Å–µ—â–µ–Ω–∏–µ –∏ —Å—á–∏—Ç–∞–µ–º streak
                    if (newStats.lastVisitDate !== today) {
                        const lastVisit = new Date(newStats.lastVisitDate || today);
                        const todayDate = new Date(today);
                        const daysDiff = Math.floor((todayDate - lastVisit) / (1000 * 60 * 60 * 24));
                        
                        if (daysDiff === 1) {
                            // –ü—Ä–æ–¥–æ–ª–∂–∞–µ–º streak
                            newStats.streakDays += 1;
                        } else if (daysDiff > 1) {
                            // –°–±—Ä–∞—Å—ã–≤–∞–µ–º streak
                            newStats.streakDays = 1;
                        }
                        
                        newStats.maxStreak = Math.max(newStats.maxStreak, newStats.streakDays);
                        newStats.lastVisitDate = today;
                    }
                    
                    saveUserStats(newStats);
                    
                    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–æ–≤—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è
                    setTimeout(() => checkAchievements(newStats, { currentHour }), 1000);
                    
                    return newStats;
                });
            };
    
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
            const checkAchievements = (stats, context = {}) => {
                const newUnlocked = [];
                
                achievements.forEach(achievement => {
                    if (unlockedAchievements.has(achievement.id)) return;
                    
                    let isUnlocked = false;
                    
                    switch (achievement.type) {
                        case 'visits':
                            isUnlocked = stats.totalVisits >= achievement.requirement;
                            break;
                        case 'messages':
                            isUnlocked = stats.messagesRead >= achievement.requirement;
                            break;
                        case 'photos':
                            isUnlocked = stats.photosViewed >= achievement.requirement;
                            break;
                        case 'categories':
                            isUnlocked = stats.categoriesExplored.size >= achievement.requirement;
                            break;
                        case 'notifications':
                            isUnlocked = stats.notificationsEnabled;
                            break;
                        case 'streak':
                            isUnlocked = stats.streakDays >= achievement.requirement;
                            break;
                        case 'special':
                            switch (achievement.id) {
                                case 'early_bird':
                                    isUnlocked = context.currentHour >= 5 && context.currentHour < 8;
                                    break;
                                case 'night_owl':
                                    isUnlocked = context.currentHour >= 23 || context.currentHour < 5;
                                    break;
                                case 'valentines_visit':
                                    const today = new Date();
                                    isUnlocked = today.getMonth() === 1 && today.getDate() === 14; // 14 —Ñ–µ–≤—Ä–∞–ª—è
                                    break;
                                case 'story_reader':
                                    isUnlocked = context.storyRead;
                                    break;
                                case 'calendar_explorer':
                                    isUnlocked = context.calendarViewed;
                                    break;
                            }
                            break;
                    }
                    
                    if (isUnlocked) {
                        newUnlocked.push(achievement);
                    }
                });
                
                if (newUnlocked.length > 0) {
                    setUnlockedAchievements(prev => {
                        const updated = new Set(prev);
                        newUnlocked.forEach(achievement => updated.add(achievement.id));
                        localStorage.setItem('romantic_app_achievements', JSON.stringify(Array.from(updated)));
                        return updated;
                    });
                    
                    setNewAchievements(newUnlocked);
                    setShowNewAchievementModal(true);
                }
            };
    
            // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
            const updateStats = (updates, context = {}) => {
                setUserStats(prevStats => {
                    const newStats = { ...prevStats, ...updates };
                    saveUserStats(newStats);
                    setTimeout(() => checkAchievements(newStats, context), 100);
                    return newStats;
                });
            };
    
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
            useEffect(() => {
                const isAuth = localStorage.getItem('romantic_app_authenticated');
                if (isAuth === 'true') {
                    setIsAuthenticated(true);
                    setShowPasswordModal(false);
                    loadUserStats();
                    loadUserEvents();
                    recordVisit();
                }
            }, []);
    
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–æ–±—ã—Ç–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
            useEffect(() => {
                if (isAuthenticated) {
                    loadUserEvents();
                }
            }, [isAuthenticated]);
    
            // –ü–æ–ª—É—á–µ–Ω–∏–µ —Ü–≤–µ—Ç–∞ —Ä–µ–¥–∫–æ—Å—Ç–∏
            const getRarityColor = (rarity) => {
                switch (rarity) {
                    case 'common': return 'from-gray-400 to-gray-600';
                    case 'rare': return 'from-blue-400 to-blue-600';
                    case 'epic': return 'from-purple-400 to-purple-600';
                    case 'legendary': return 'from-yellow-400 to-yellow-600';
                    default: return 'from-gray-400 to-gray-600';
                }
            };
    
            // –ü–æ–ª—É—á–µ–Ω–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è —Ä–µ–¥–∫–æ—Å—Ç–∏
            const getRarityName = (rarity) => {
                switch (rarity) {
                    case 'common': return '–û–±—ã—á–Ω–æ–µ';
                    case 'rare': return '–†–µ–¥–∫–æ–µ';
                    case 'epic': return '–≠–ø–∏—á–µ—Å–∫–æ–µ';
                    case 'legendary': return '–õ–µ–≥–µ–Ω–¥–∞—Ä–Ω–æ–µ';
                    default: return '–û–±—ã—á–Ω–æ–µ';
                }
            };
    
            // –ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è
            const getAchievementProgress = (achievement, stats) => {
                let current = 0;
                let total = achievement.requirement;
                
                switch (achievement.type) {
                    case 'visits':
                        current = stats.totalVisits;
                        break;
                    case 'messages':
                        current = stats.messagesRead;
                        break;
                    case 'photos':
                        current = stats.photosViewed;
                        break;
                    case 'categories':
                        current = stats.categoriesExplored.size;
                        break;
                    case 'streak':
                        current = stats.streakDays;
                        break;
                    case 'notifications':
                        current = stats.notificationsEnabled ? 1 : 0;
                        break;
                    case 'special':
                        current = 0; // –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –ª–∏–±–æ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã, –ª–∏–±–æ –Ω–µ—Ç
                        break;
                }
                
                return { current: Math.min(current, total), total };
            };
    
            // –ü–æ–ª—É—á–∏—Ç—å –∏–∫–æ–Ω–∫—É –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
            const getCategoryIcon = (category) => {
                const icons = {
                    romantic: 'üíï',
                    deep: '‚ù§Ô∏è',
                    compliment: 'üåü',
                    grateful: 'üôè',
                    growing: 'üå±',
                    supportive: 'üí™',
                    intimate: 'üíã',
                    daily: '‚òÄÔ∏è',
                    magical: '‚ú®',
                    commitment: 'üíç',
                    adventure: 'üóª',
                    divine: 'üëº',
                    growth: 'üìà'
                };
                return icons[category] || 'üíù';
            };
    
            // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–µ–∫—Å—Ç–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
            const getNotificationText = (event) => {
                if (event.isToday) {
                    return `üéâ –°–µ–≥–æ–¥–Ω—è –æ—Å–æ–±–µ–Ω–Ω—ã–π –¥–µ–Ω—å! ${event.title}`;
                } else if (event.isTomorrow) {
                    return `üíï –ó–∞–≤—Ç—Ä–∞ ${event.title}! –ù–µ –∑–∞–±—É–¥—å –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å—Å—è`;
                } else {
                    return `‚è∞ –ß–µ—Ä–µ–∑ ${event.daysUntil} –¥–Ω—è ${event.title}`;
                }
            };
    
            // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–≥–æ –ø—Ä–∏–∑–Ω–∞–Ω–∏—è –¥–ª—è —Å–æ–±—ã—Ç–∏—è
            const getEventLoveMessage = (event) => {
                const eventMessages = {
                    '–î–µ–Ω—å –∑–Ω–∞–∫–æ–º—Å—Ç–≤–∞': '–ü–æ–º–Ω–∏—à—å —Ç–æ—Ç –¥–µ–Ω—å, –∫–æ–≥–¥–∞ –º—ã –≤—Å—Ç—Ä–µ—Ç–∏–ª–∏—Å—å? –≠—Ç–æ –±—ã–ª —Å–∞–º—ã–π —Å—á–∞—Å—Ç–ª–∏–≤—ã–π –¥–µ–Ω—å –≤ –º–æ–µ–π –∂–∏–∑–Ω–∏! üí´',
                    '–î–µ–Ω—å —Å–≤—è—Ç–æ–≥–æ –í–∞–ª–µ–Ω—Ç–∏–Ω–∞': '–í –î–µ–Ω—å –≤—Å–µ—Ö –≤–ª—é–±–ª–µ–Ω–Ω—ã—Ö —Ö–æ—á—É —Å–∫–∞–∑–∞—Ç—å: —Ç—ã - –º–æ—è –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è –∏ –Ω–µ–ø–æ–≤—Ç–æ—Ä–∏–º–∞—è –ª—é–±–æ–≤—å! üíï',
                    '8 –º–∞—Ä—Ç–∞': '–ú–æ—è –ø—Ä–µ–∫—Ä–∞—Å–Ω–∞—è –ø—Ä–∏–Ω—Ü–µ—Å—Å–∞, —Å–µ–≥–æ–¥–Ω—è —Ç–≤–æ–π –¥–µ–Ω—å! –¢—ã –¥–æ—Å—Ç–æ–π–Ω–∞ –≤—Å–µ—Ö —Ü–≤–µ—Ç–æ–≤ –º–∏—Ä–∞! üå∫',
                    '–ù–æ–≤—ã–π –≥–æ–¥': '–ö–∞–∂–¥—ã–π –ù–æ–≤—ã–π –≥–æ–¥ —Å —Ç–æ–±–æ–π - —ç—Ç–æ –Ω–æ–≤–∞—è –≥–ª–∞–≤–∞ –Ω–∞—à–µ–π –ø—Ä–µ–∫—Ä–∞—Å–Ω–æ–π –∏—Å—Ç–æ—Ä–∏–∏! üéâ'
                };
                
                return eventMessages[event.title] || `–û—Å–æ–±–µ–Ω–Ω—ã–π –¥–µ–Ω—å "${event.title}" –Ω–∞–ø–æ–º–∏–Ω–∞–µ—Ç –º–Ω–µ, –∫–∞–∫ —Ç—ã –¥–æ—Ä–æ–≥–∞ –º–æ–µ–º—É —Å–µ—Ä–¥—Ü—É! üíù`;
            };
    
            // –ï—Å–ª–∏ –Ω–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω, –ø–æ–∫–∞–∑–∞—Ç—å —Ñ–æ—Ä–º—É –ø–∞—Ä–æ–ª—è
            if (!isAuthenticated) {
                return (
                    <div className="min-h-screen bg-gradient-to-br from-pink-400 via-purple-500 to-indigo-600 flex items-center justify-center p-4">
                        <div className="bg-white/95 backdrop-blur-lg rounded-3xl p-8 w-full max-w-sm shadow-2xl border border-white/20">
                            <div className="text-center mb-8">
                                <div className="text-6xl mb-4 animate-bounce">üíù</div>
                                <h1 className="text-3xl font-bold bg-gradient-to-r from-pink-600 to-purple-600 bg-clip-text text-transparent mb-3">
                                    Love Access
                                </h1>
                                <p className="text-gray-600">
                                    –ú–µ—Å—Ç–æ —Ç–æ–ª—å–∫–æ –¥–ª—è –Ω–∞—Å –¥–≤–æ–∏—Ö üíï
                                </p>
                            </div>
    
                            <form onSubmit={handlePasswordSubmit} className="space-y-4">
                                <div className="relative">
                                    <input
                                        type="password"
                                        value={passwordInput}
                                        onChange={(e) => setPasswordInput(e.target.value)}
                                        placeholder="–ù–∞—à —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–æ–¥..."
                                        className="w-full px-4 py-4 pl-12 border-2 border-pink-200 rounded-2xl focus:outline-none focus:border-pink-500 focus:ring-4 focus:ring-pink-100 transition-all duration-200 bg-white/80"
                                        autoFocus
                                        disabled={attemptCount >= 3}
                                    />
                                    <div className="absolute left-4 top-1/2 transform -translate-y-1/2 text-pink-400">
                                        üîê
                                    </div>
                                </div>
                                    {passwordError && (
                                        <div className="text-red-500 text-sm text-center bg-red-50 p-3 rounded-xl animate-shake">
                                            {passwordError}
                                        </div>
                                    )}
    
                                    <button
                                        type="submit"
                                        disabled={attemptCount >= 3 || !passwordInput}
                                        className="w-full gradient-button text-white py-4 rounded-2xl font-bold text-lg disabled:opacity-50 disabled:cursor-not-allowed shadow-lg"
                                    >
                                        –í–æ–π—Ç–∏ –≤ –Ω–∞—à –º–∏—Ä üíï
                                    </button>
                                </form>
    
                                <div className="mt-6 text-center text-gray-400 text-sm">
                                    –ü–æ–¥—Å–∫–∞–∑–∫–∞: –¥–∞—Ç–∞ –Ω–∞—à–µ–π –ª—é–±–≤–∏ üíù
                                </div>
                            </div>
                        </div>
                    );
                }
    
                // –û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
                return (
                    <div className="min-h-screen bg-gradient-to-br from-pink-100 via-purple-50 to-blue-100 pb-24 safe-area-inset">
                        
                        {/* –ü–∞–¥–∞—é—â–∏–µ –ª–µ–ø–µ—Å—Ç–∫–∏ */}
                        {petals.map(petal => (
                            <div
                                key={petal.id}
                                className="fixed pointer-events-none z-50 text-pink-400"
                                style={{
                                    left: `${petal.left}%`,
                                    top: '-20px',
                                    fontSize: `${petal.size}px`,
                                    animation: `fall ${petal.animationDuration}s linear forwards`,
                                    transform: `rotate(${petal.rotation}deg)`
                                }}
                            >
                                üå∏
                            </div>
                        ))}
    
                        {/* –ß–∞—Å—Ç–∏—Ü—ã-—Å–µ—Ä–¥–µ—á–∫–∏ */}
                        {hearts.map(heart => (
                            <div
                                key={heart.id}
                                className="fixed pointer-events-none z-50"
                                style={{
                                    left: heart.x,
                                    top: heart.y,
                                    opacity: heart.life,
                                    fontSize: heart.size,
                                    transform: `scale(${heart.life})`
                                }}
                            >
                                ‚ù§Ô∏è
                            </div>
                        ))}
    
                        {/* –®–∞–ø–∫–∞ —Å –¥–Ω—è–º–∏ –≤–º–µ—Å—Ç–µ */}
                        <div className="bg-gradient-to-r from-pink-500 via-purple-500 to-indigo-500 text-white p-4 pt-8 rounded-b-3xl shadow-lg">
                            <div className="flex justify-between items-center mb-4">
                                <div>
                                    <h1 className="text-xl font-bold">üíï –î–ª—è —Ç–µ–±—è, –ª—é–±–∏–º–∞—è</h1>
                                    <p className="text-pink-100 text-sm">–ù–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ª—é–±–≤–∏</p>
                                </div>
                                <div className="flex gap-2">
                                    {/* –ö–Ω–æ–ø–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π */}
                                    <button 
                                        onClick={() => setShowNotificationSettingsModal(true)}
                                        className="relative bg-white/20 p-2 rounded-full"
                                    >
                                        üîî
                                        {hasUpcomingNotification && (
                                            <span className="absolute -top-1 -right-1 bg-red-500 w-3 h-3 rounded-full animate-pulse"></span>
                                        )}
                                    </button>
                                    {/* –ö–Ω–æ–ø–∫–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π */}
                                    <button 
                                        onClick={() => setShowAchievementsModal(true)}
                                        className="bg-white/20 p-2 rounded-full"
                                    >
                                        üèÜ
                                    </button>
                                </div>
                            </div>
                            
                            <div className="bg-white/20 backdrop-blur rounded-2xl p-4 text-center">
                                <div className="text-4xl font-bold mb-1">{daysTogether}</div>
                                <div className="text-pink-100">–¥–Ω–µ–π –≤–º–µ—Å—Ç–µ üíù</div>
                                <div className="text-xs text-pink-200 mt-1">
                                    —Å {relationshipStart.toLocaleDateString('ru-RU')}
                                </div>
                            </div>
                        </div>
    
                        {/* –ì–ª–∞–≤–Ω–æ–µ —Ñ–æ—Ç–æ */}
                        <div className="p-4">
                            <div 
                                className="relative rounded-3xl overflow-hidden shadow-xl h-64 cursor-pointer"
                                onClick={() => {
                                    setShowGalleryModal(true);
                                    updateStats({ photosViewed: userStats.photosViewed + 1 });
                                }}
                            >
                                {allGalleryImages.length > 0 && (
                                    <>
                                        <img
                                            src={allGalleryImages[currentImageIndex]?.url}
                                            alt="–ù–∞—à–µ —Ñ–æ—Ç–æ"
                                            className="w-full h-full object-cover"
                                            onError={(e) => {
                                                e.target.src = 'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><rect fill="%23f0f0f0" width="100" height="100"/><text x="50" y="55" text-anchor="middle" font-size="40">üíï</text></svg>';
                                            }}
                                        />
                                        <div className="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-4">
                                            <p className="text-white text-sm font-medium">
                                                {allGalleryImages[currentImageIndex]?.title || '–ù–∞—à–∏ –º–æ–º–µ–Ω—Ç—ã'}
                                            </p>
                                            <p className="text-white/80 text-xs">
                                                {currentImageIndex + 1} / {allGalleryImages.length} ‚Ä¢ –ù–∞–∂–º–∏ –¥–ª—è –≥–∞–ª–µ—Ä–µ–∏
                                            </p>
                                        </div>
                                    </>
                                )}
                            </div>
                        </div>
    
                        {/* –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ø—Ä–∏–∑–Ω–∞–Ω–∏–π */}
                        <div className="px-4 mb-4">
                            <div className="bg-white rounded-3xl p-5 shadow-lg">
                                <div className="flex justify-between items-center mb-3">
                                    <h2 className="font-bold text-gray-800">üíå –ü—Ä–∏–∑–Ω–∞–Ω–∏–µ –≤ –ª—é–±–≤–∏</h2>
                                    <button 
                                        onClick={() => setShowCategoriesModal(true)}
                                        className="text-xs bg-pink-100 text-pink-600 px-3 py-1 rounded-full"
                                    >
                                        {selectedCategory === 'all' ? '–í—Å–µ' : loveMessagesData.categories[selectedCategory]}
                                    </button>
                                </div>
                                
                                <div className="min-h-24 flex items-center justify-center text-center p-4 bg-gradient-to-r from-pink-50 to-purple-50 rounded-2xl mb-4">
                                    {currentLoveMessage ? (
                                        <p className="text-gray-700 text-lg leading-relaxed">
                                            {currentLoveMessage.text}
                                        </p>
                                    ) : (
                                        <p className="text-gray-400">–ù–∞–∂–º–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ ‚ù§Ô∏è</p>
                                    )}
                                </div>
                                
                                <button
                                    onClick={(e) => {
                                        generateLoveMessage();
                                        createHeartParticles(e);
                                    }}
                                    className="w-full gradient-button text-white py-4 rounded-2xl font-bold shadow-lg active:scale-95 transition-transform"
                                >
                                    –ù–æ–≤–æ–µ –ø—Ä–∏–∑–Ω–∞–Ω–∏–µ üíï
                                </button>
                            </div>
                        </div>
    
                        {/* –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è */}
                        <div className="px-4 mb-4">
                            <div className="grid grid-cols-2 gap-3">
                                <button 
                                    onClick={() => {
                                        setShowStoryModal(true);
                                        updateStats({}, { storyRead: true });
                                    }}
                                    className="bg-white rounded-2xl p-4 shadow-lg text-center action-button smooth-transition"
                                >
                                    <div className="text-3xl mb-2">üìñ</div>
                                    <div className="font-medium text-gray-800">–ù–∞—à–∞ –∏—Å—Ç–æ—Ä–∏—è</div>
                                    <div className="text-xs text-gray-500">–ö–∞–∫ –≤—Å—ë –Ω–∞—á–∏–Ω–∞–ª–æ—Å—å</div>
                                </button>
                                
                                <button 
                                    onClick={() => {
                                        setShowCalendarModal(true);
                                        updateStats({}, { calendarViewed: true });
                                    }}
                                    className="bg-white rounded-2xl p-4 shadow-lg text-center action-button smooth-transition"
                                >
                                    <div className="text-3xl mb-2">üìÖ</div>
                                    <div className="font-medium text-gray-800">–í–∞–∂–Ω—ã–µ –¥–∞—Ç—ã</div>
                                    <div className="text-xs text-gray-500">–ù–∞—à–∏ –ø—Ä–∞–∑–¥–Ω–∏–∫–∏</div>
                                </button>
                                
                                <button 
                                    onClick={() => setShowGalleryModal(true)}
                                    className="bg-white rounded-2xl p-4 shadow-lg text-center action-button smooth-transition"
                                >
                                    <div className="text-3xl mb-2">üì∏</div>
                                    <div className="font-medium text-gray-800">–ì–∞–ª–µ—Ä–µ—è</div>
                                    <div className="text-xs text-gray-500">{allGalleryImages.length} —Ñ–æ—Ç–æ</div>
                                </button>
                                
                                <button 
                                    onClick={() => setShowUserEventsModal(true)}
                                    className="bg-white rounded-2xl p-4 shadow-lg text-center action-button smooth-transition"
                                >
                                    <div className="text-3xl mb-2">üéâ</div>
                                    <div className="font-medium text-gray-800">–°–æ–±—ã—Ç–∏—è</div>
                                    <div className="text-xs text-gray-500">{userEvents.length} –∑–∞–ø–∏—Å–µ–π</div>
                                </button>
                            </div>
                        </div>
    
                        {/* –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ª—é–±–≤–∏ */}
                        <div className="px-4 mb-4">
                            <div className="bg-gradient-to-r from-pink-500 to-purple-500 rounded-3xl p-5 text-white shadow-lg">
                                <h3 className="font-bold mb-4 text-lg">üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ª—é–±–≤–∏</h3>
                                <div className="grid grid-cols-3 gap-3 text-center">
                                    <div className="bg-white/20 rounded-2xl p-3">
                                        <div className="text-2xl font-bold">{userStats.totalVisits}</div>
                                        <div className="text-xs opacity-80">–ü–æ—Å–µ—â–µ–Ω–∏–π</div>
                                    </div>
                                    <div className="bg-white/20 rounded-2xl p-3">
                                        <div className="text-2xl font-bold">{userStats.messagesRead}</div>
                                        <div className="text-xs opacity-80">–ü—Ä–∏–∑–Ω–∞–Ω–∏–π</div>
                                    </div>
                                    <div className="bg-white/20 rounded-2xl p-3">
                                        <div className="text-2xl font-bold">{userStats.streakDays}</div>
                                        <div className="text-xs opacity-80">–î–Ω–µ–π –ø–æ–¥—Ä—è–¥</div>
                                    </div>
                                </div>
                            </div>
                        </div>
    
                        {/* –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –≥–∞–ª–µ—Ä–µ–∏ */}
                        {showGalleryModal && (
                            <GalleryModal 
                                images={allGalleryImages}
                                currentIndex={currentImageIndex}
                                setCurrentIndex={setCurrentImageIndex}
                                onClose={() => setShowGalleryModal(false)}
                                updateStats={updateStats}
                                userStats={userStats}
                            />
                        )}
    
                        {/* –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∏—Å—Ç–æ—Ä–∏–∏ */}
                        {showStoryModal && (
                            <div className="fixed inset-0 bg-black/50 z-50 flex items-end modal-backdrop">
                                <div className="bg-white rounded-t-3xl w-full max-h-[85vh] overflow-y-auto custom-scrollbar animate-slide-up">
                                    <div className="sticky top-0 bg-white p-4 border-b flex justify-between items-center">
                                        <h2 className="text-xl font-bold text-gray-800">üìñ {loveStory.title}</h2>
                                        <button 
                                            onClick={() => setShowStoryModal(false)}
                                            className="text-gray-500 p-2"
                                        >
                                            ‚úï
                                        </button>
                                    </div>
                                    <div className="p-4 space-y-6">
                                        {loveStory.chapters.map((chapter, index) => (
                                            <div key={index} className="bg-gradient-to-r from-pink-50 to-purple-50 rounded-2xl p-4">
                                                <div className="flex items-center gap-3 mb-3">
                                                    <span className="text-2xl">{chapter.emotion}</span>
                                                    <h3 className="font-bold text-gray-800">{chapter.date}</h3>
                                                </div>
                                                <p className="text-gray-600 leading-relaxed">{chapter.text}</p>
                                            </div>
                                        ))}
                                    </div>
                                </div>
                            </div>
                        )}
    
                        {/* –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∫–∞–ª–µ–Ω–¥–∞—Ä—è */}
                        {showCalendarModal && (
                            <div className="fixed inset-0 bg-black/50 z-50 flex items-end modal-backdrop">
                                <div className="bg-white rounded-t-3xl w-full max-h-[85vh] overflow-y-auto custom-scrollbar">
                                    <div className="sticky top-0 bg-white p-4 border-b flex justify-between items-center">
                                        <h2 className="text-xl font-bold text-gray-800">üìÖ –í–∞–∂–Ω—ã–µ –¥–∞—Ç—ã</h2>
                                        <button 
                                            onClick={() => setShowCalendarModal(false)}
                                            className="text-gray-500 p-2"
                                        >
                                            ‚úï
                                        </button>
                                    </div>
                                    <div className="p-4 space-y-3">
                                        {importantDates.map((dateItem, index) => {
                                            const eventDate = new Date(dateItem.date);
                                            const today = new Date();
                                            const isUpcoming = eventDate >= today;
                                            
                                            return (
                                                <div 
                                                    key={index} 
                                                    className={`rounded-2xl p-4 ${isUpcoming ? 'bg-gradient-to-r from-pink-100 to-purple-100' : 'bg-gray-50'}`}
                                                >
                                                    <div className="flex items-center gap-3">
                                                        <span className="text-3xl">{dateItem.emoji}</span>
                                                        <div className="flex-1">
                                                            <h3 className="font-bold text-gray-800">{dateItem.title}</h3>
                                                            <p className="text-sm text-gray-600">{dateItem.description}</p>
                                                            <p className="text-xs text-gray-400 mt-1">
                                                                {eventDate.toLocaleDateString('ru-RU', { 
                                                                    day: 'numeric', 
                                                                    month: 'long',
                                                                    year: 'numeric'
                                                                })}
                                                            </p>
                                                        </div>
                                                        {isUpcoming && (
                                                            <span className="bg-pink-500 text-white text-xs px-2 py-1 rounded-full">
                                                                –°–∫–æ—Ä–æ
                                                            </span>
                                                        )}
                                                    </div>
                                                </div>
                                            );
                                        })}
                                    </div>
                                </div>
                            </div>
                        )}
    
                        {/* –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–π */}
                        {showCategoriesModal && (
                            <div className="fixed inset-0 bg-black/50 z-50 flex items-end modal-backdrop">
                                <div className="bg-white rounded-t-3xl w-full max-h-[70vh] overflow-y-auto custom-scrollbar">
                                    <div className="sticky top-0 bg-white p-4 border-b flex justify-between items-center">
                                        <h2 className="text-xl font-bold text-gray-800">üíù –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –ø—Ä–∏–∑–Ω–∞–Ω–∏–π</h2>
                                        <button 
                                            onClick={() => setShowCategoriesModal(false)}
                                            className="text-gray-500 p-2"
                                        >
                                            ‚úï
                                        </button>
                                    </div>
                                    <div className="p-4 grid grid-cols-2 gap-3">
                                        <button
                                            onClick={() => {
                                                setSelectedCategory('all');
                                                setShowCategoriesModal(false);
                                            }}
                                            className={`p-3 rounded-2xl text-center transition-all ${
                                                selectedCategory === 'all' 
                                                    ? 'bg-gradient-to-r from-pink-500 to-purple-500 text-white' 
                                                    : 'bg-gray-100 text-gray-700'
                                            }`}
                                        >
                                            <div className="text-2xl mb-1">üíù</div>
                                            <div className="text-sm font-medium">–í—Å–µ</div>
                                            <div className="text-xs opacity-70">130 –ø—Ä–∏–∑–Ω–∞–Ω–∏–π</div>
                                        </button>
                                        
                                        {Object.entries(loveMessagesData.categories).map(([key, name]) => {
                                            const count = loveMessagesData.loveMessages.filter(m => m.category === key).length;
                                            const isExplored = userStats.categoriesExplored.has(key);
                                            
                                            return (
                                                <button
                                                    key={key}
                                                    onClick={() => {
                                                        setSelectedCategory(key);
                                                        setShowCategoriesModal(false);
                                                        
                                                        // –î–æ–±–∞–≤–ª—è–µ–º –∫–∞—Ç–µ–≥–æ—Ä–∏—é –≤ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–Ω—ã–µ
                                                        if (!isExplored) {
                                                            const newCategories = new Set(userStats.categoriesExplored);
                                                            newCategories.add(key);
                                                            updateStats({ categoriesExplored: newCategories });
                                                        }
                                                    }}
                                                    className={`p-3 rounded-2xl text-center transition-all ${
                                                        selectedCategory === key 
                                                            ? 'bg-gradient-to-r from-pink-500 to-purple-500 text-white' 
                                                            : 'bg-gray-100 text-gray-700'
                                                    }`}
                                                >
                                                    <div className="text-2xl mb-1">{getCategoryIcon(key)}</div>
                                                    <div className="text-sm font-medium">{name}</div>
                                                    <div className="text-xs opacity-70">{count} –ø—Ä–∏–∑–Ω–∞–Ω–∏–π</div>
                                                </button>
                                            );
                                        })}
                                    </div>
                                </div>
                            </div>
                        )}
    
                        {/* –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π */}
                        {showAchievementsModal && (
                            <div className="fixed inset-0 bg-black/50 z-50 flex items-end modal-backdrop">
                                <div className="bg-white rounded-t-3xl w-full max-h-[85vh] overflow-y-auto custom-scrollbar">
                                    <div className="sticky top-0 bg-white p-4 border-b flex justify-between items-center">
                                        <div>
                                            <h2 className="text-xl font-bold text-gray-800">üèÜ –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è</h2>
                                            <p className="text-sm text-gray-500">
                                                {unlockedAchievements.size} / {achievements.length} –ø–æ–ª—É—á–µ–Ω–æ
                                            </p>
                                        </div>
                                        <button 
                                            onClick={() => setShowAchievementsModal(false)}
                                            className="text-gray-500 p-2"
                                        >
                                            ‚úï
                                        </button>
                                    </div>
                                    <div className="p-4 space-y-3">
                                        {achievements.map(achievement => {
                                            const isUnlocked = unlockedAchievements.has(achievement.id);
                                            const progress = getAchievementProgress(achievement, userStats);
                                            
                                            return (
                                                <div 
                                                    key={achievement.id}
                                                    className={`rounded-2xl p-4 ${
                                                        isUnlocked 
                                                            ? `bg-gradient-to-r ${getRarityColor(achievement.rarity)} text-white` 
                                                            : 'bg-gray-100'
                                                    }`}
                                                >
                                                    <div className="flex items-center gap-3">
                                                        <span className={`text-3xl ${!isUnlocked && 'grayscale opacity-50'}`}>
                                                            {achievement.icon}
                                                        </span>
                                                        <div className="flex-1">
                                                            <div className="flex items-center gap-2">
                                                                <h3 className={`font-bold ${isUnlocked ? 'text-white' : 'text-gray-800'}`}>
                                                                    {achievement.title}
                                                                </h3>
                                                                {isUnlocked && (
                                                                    <span className="text-xs bg-white/30 px-2 py-0.5 rounded-full">
                                                                        ‚úì
                                                                    </span>
                                                                )}
                                                            </div>
                                                            <p className={`text-sm ${isUnlocked ? 'text-white/80' : 'text-gray-600'}`}>
                                                                {achievement.description}
                                                            </p>
                                                            {!isUnlocked && achievement.type !== 'special' && (
                                                                <div className="mt-2">
                                                                    <div className="flex justify-between text-xs text-gray-500 mb-1">
                                                                        <span>{progress.current} / {progress.total}</span>
                                                                        <span>{Math.round((progress.current / progress.total) * 100)}%</span>
                                                                    </div>
                                                                    <div className="h-2 bg-gray-200 rounded-full overflow-hidden">
                                                                        <div 
                                                                            className="h-full bg-gradient-to-r from-pink-500 to-purple-500 transition-all duration-500"
                                                                            style={{ width: `${(progress.current / progress.total) * 100}%` }}
                                                                        />
                                                                    </div>
                                                                </div>
                                                            )}
                                                        </div>
                                                    </div>
                                                </div>
                                            );
                                        })}
                                    </div>
                                </div>
                            </div>
                        )}
    
                        {/* –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –Ω–æ–≤–æ–≥–æ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è */}
                        {showNewAchievementModal && newAchievements.length > 0 && (
                            <div className="fixed inset-0 bg-black/70 z-50 flex items-center justify-center p-4 modal-backdrop">
                                <div className="bg-white rounded-3xl p-6 w-full max-w-sm text-center animate-bounce-in">
                                    <div className="text-6xl mb-4">üéâ</div>
                                    <h2 className="text-2xl font-bold text-gray-800 mb-2">–ù–æ–≤–æ–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ!</h2>
                                    
                                    {newAchievements.map(achievement => (
                                        <div 
                                            key={achievement.id}
                                            className={`bg-gradient-to-r ${getRarityColor(achievement.rarity)} rounded-2xl p-4 text-white mb-4`}
                                        >
                                            <div className="text-4xl mb-2">{achievement.icon}</div>
                                            <h3 className="font-bold text-lg">{achievement.title}</h3>
                                            <p className="text-white/80 text-sm">{achievement.description}</p>
                                            <span className="inline-block bg-white/30 px-3 py-1 rounded-full text-xs mt-2">
                                                {getRarityName(achievement.rarity)}
                                            </span>
                                        </div>
                                    ))}
                                    
                                    <button
                                        onClick={() => {
                                            setShowNewAchievementModal(false);
                                            setNewAchievements([]);
                                        }}
                                        className="gradient-button text-white py-3 px-8 rounded-2xl font-bold"
                                    >
                                        –û—Ç–ª–∏—á–Ω–æ! üí™
                                    </button>
                                </div>
                            </div>
                        )}
    
                        {/* –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Å–æ–±—ã—Ç–∏–∏ */}
                        {showNotificationModal && upcomingEvent && (
                            <div className="fixed inset-0 bg-black/70 z-50 flex items-center justify-center p-4 modal-backdrop">
                                <div className="bg-white rounded-3xl p-6 w-full max-w-sm text-center">
                                    <div className="text-6xl mb-4">{upcomingEvent.emoji}</div>
                                    <h2 className="text-xl font-bold text-gray-800 mb-2">
                                        {getNotificationText(upcomingEvent)}
                                    </h2>
                                    <p className="text-gray-600 mb-4">{upcomingEvent.description}</p>
                                    
                                    <div className="bg-gradient-to-r from-pink-50 to-purple-50 rounded-2xl p-4 mb-4">
                                        <p className="text-gray-700 italic">
                                            "{getEventLoveMessage(upcomingEvent)}"
                                        </p>
                                    </div>
                                    
                                    <button
                                        onClick={() => setShowNotificationModal(false)}
                                        className="gradient-button text-white py-3 px-8 rounded-2xl font-bold w-full"
                                    >
                                        –ü–æ–Ω—è–ª! üíï
                                    </button>
                                </div>
                            </div>
                        )}
    
                        {/* –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–∫ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π */}
                        {showNotificationSettingsModal && (
                            <div className="fixed inset-0 bg-black/50 z-50 flex items-end modal-backdrop">
                                <div className="bg-white rounded-t-3xl w-full p-6">
                                    <div className="flex justify-between items-center mb-6">
                                        <h2 className="text-xl font-bold text-gray-800">üîî –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</h2>
                                        <button 
                                            onClick={() => setShowNotificationSettingsModal(false)}
                                            className="text-gray-500 p-2"
                                        >
                                            ‚úï
                                        </button>
                                    </div>
                                    
                                    <div className="space-y-4">
                                        <div className="flex items-center justify-between p-4 bg-gray-50 rounded-2xl">
                                            <div>
                                                <h3 className="font-medium text-gray-800">Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</h3>
                                                <p className="text-sm text-gray-500">–û –≤–∞–∂–Ω—ã—Ö –¥–∞—Ç–∞—Ö</p>
                                            </div>
                                            <button
                                                onClick={() => {
                                                    const newValue = !userStats.notificationsEnabled;
                                                    updateStats({ notificationsEnabled: newValue });
                                                }}
                                                className={`w-14 h-8 rounded-full transition-colors ${
                                                    userStats.notificationsEnabled 
                                                        ? 'bg-gradient-to-r from-pink-500 to-purple-500' 
                                                        : 'bg-gray-300'
                                                }`}
                                            >
                                                <div className={`w-6 h-6 bg-white rounded-full shadow transition-transform ${
                                                    userStats.notificationsEnabled ? 'translate-x-7' : 'translate-x-1'
                                                }`} />
                                            </button>
                                        </div>
                                        
                                        {upcomingEvent && (
                                            <div className="bg-gradient-to-r from-pink-100 to-purple-100 rounded-2xl p-4">
                                                <h3 className="font-medium text-gray-800 mb-2">–ë–ª–∏–∂–∞–π—à–µ–µ —Å–æ–±—ã—Ç–∏–µ</h3>
                                                <div className="flex items-center gap-3">
                                                    <span className="text-3xl">{upcomingEvent.emoji}</span>
                                                    <div>
                                                        <p className="font-medium">{upcomingEvent.title}</p>
                                                        <p className="text-sm text-gray-600">
                                                            {upcomingEvent.isToday ? '–°–µ–≥–æ–¥–Ω—è!' : 
                                                             upcomingEvent.isTomorrow ? '–ó–∞–≤—Ç—Ä–∞' : 
                                                             `–ß–µ—Ä–µ–∑ ${upcomingEvent.daysUntil} –¥–Ω—è`}
                                                        </p>
                                                    </div>
                                                </div>
                                            </div>
                                        )}
                                    </div>
                                </div>
                            </div>
                        )}
    
                        {/* –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Å–æ–±—ã—Ç–∏–π */}
                        {showUserEventsModal && (
                            <div className="fixed inset-0 bg-black/50 z-50 flex items-end modal-backdrop">
                                <div className="bg-white rounded-t-3xl w-full max-h-[85vh] overflow-y-auto custom-scrollbar">
                                    <div className="sticky top-0 bg-white p-4 border-b flex justify-between items-center z-10">
                                        <h2 className="text-xl font-bold text-gray-800">üéâ –ù–∞—à–∏ —Å–æ–±—ã—Ç–∏—è</h2>
                                        <div className="flex gap-2">
                                            <button 
                                                onClick={() => setShowAddEventModal(true)}
                                                className="bg-gradient-to-r from-pink-500 to-purple-500 text-white px-4 py-2 rounded-full text-sm font-medium"
                                            >
                                                + –î–æ–±–∞–≤–∏—Ç—å
                                            </button>
                                            <button 
                                                onClick={() => setShowUserEventsModal(false)}
                                                className="text-gray-500 p-2"
                                            >
                                                ‚úï
                                            </button>
                                        </div>
                                    </div>
                                    
                                    <div className="p-4 space-y-4">
                                        {userEvents.length === 0 ? (
                                            <div className="text-center py-12">
                                                <div className="text-6xl mb-4">üìù</div>
                                                <h3 className="text-xl font-bold text-gray-800 mb-2">–ü–æ–∫–∞ –Ω–µ—Ç —Å–æ–±—ã—Ç–∏–π</h3>
                                                <p className="text-gray-500 mb-4">–î–æ–±–∞–≤—å—Ç–µ –≤–∞—à–µ –ø–µ—Ä–≤–æ–µ —Å–æ–≤–º–µ—Å—Ç–Ω–æ–µ —Å–æ–±—ã—Ç–∏–µ!</p>
                                                <button
                                                    onClick={() => setShowAddEventModal(true)}
                                                    className="gradient-button text-white px-6 py-3 rounded-2xl font-medium"
                                                >
                                                    –î–æ–±–∞–≤–∏—Ç—å —Å–æ–±—ã—Ç–∏–µ üíï
                                                </button>
                                            </div>
                                        ) : (
                                            userEvents.sort((a, b) => new Date(b.date) - new Date(a.date)).map(event => (
                                                <div 
                                                    key={event.id}
                                                    className="bg-gradient-to-r from-pink-50 to-purple-50 rounded-2xl p-4"
                                                >
                                                    <div className="flex items-start gap-3">
                                                        <span className="text-3xl">{event.emoji}</span>
                                                        <div className="flex-1 min-w-0">
                                                            <h3 className="font-bold text-gray-800">{event.title}</h3>
                                                            {event.description && (
                                                                <p className="text-sm text-gray-600 line-clamp-2">{event.description}</p>
                                                            )}
                                                            <p className="text-xs text-gray-400 mt-1">
                                                                {new Date(event.date).toLocaleDateString('ru-RU', {
                                                                    day: 'numeric',
                                                                    month: 'long',
                                                                    year: 'numeric'
                                                                })}
                                                            </p>
                                                            
                                                            {/* –ü—Ä–µ–≤—å—é —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π */}
                                                            {event.photos && event.photos.length > 0 && (
                                                                <div className="flex gap-2 mt-2 overflow-x-auto hide-scrollbar">
                                                                    {event.photos.slice(0, 3).map((photo, idx) => (
                                                                        <img 
                                                                            key={photo.id || idx}
                                                                            src={photo.data}
                                                                            alt=""
                                                                            className="w-16 h-16 rounded-lg object-cover flex-shrink-0"
                                                                        />
                                                                    ))}
                                                                    {event.photos.length > 3 && (
                                                                        <div className="w-16 h-16 rounded-lg bg-gray-200 flex items-center justify-center text-gray-500 text-sm flex-shrink-0">
                                                                            +{event.photos.length - 3}
                                                                        </div>
                                                                    )}
                                                                </div>
                                                            )}
                                                        </div>
                                                    </div>
                                                    
                                                    <div className="flex gap-2 mt-3 pt-3 border-t border-gray-200">
                                                        <button
                                                            onClick={() => viewEventDetails(event)}
                                                            className="flex-1 text-center py-2 bg-white rounded-xl text-gray-700 text-sm font-medium"
                                                        >
                                                            üëÅÔ∏è –ü–æ–¥—Ä–æ–±–Ω–µ–µ
                                                        </button>
                                                        <button
                                                            onClick={() => editUserEvent(event)}
                                                            className="flex-1 text-center py-2 bg-white rounded-xl text-gray-700 text-sm font-medium"
                                                        >
                                                            ‚úèÔ∏è –ò–∑–º–µ–Ω–∏—Ç—å
                                                        </button>
                                                        <button
                                                            onClick={() => deleteUserEvent(event.id)}
                                                            className="py-2 px-4 bg-red-100 rounded-xl text-red-600 text-sm font-medium"
                                                        >
                                                            üóëÔ∏è
                                                        </button>
                                                    </div>
                                                </div>
                                            ))
                                        )}
                                    </div>
                                </div>
                            </div>
                        )}
    
                        {/* –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Å–æ–±—ã—Ç–∏—è */}
                        {showAddEventModal && (
                            <div className="fixed inset-0 bg-black/50 z-50 flex items-end modal-backdrop">
                                <div className="bg-white rounded-t-3xl w-full max-h-[90vh] overflow-y-auto custom-scrollbar">
                                    <div className="sticky top-0 bg-white p-4 border-b flex justify-between items-center z-10">
                                        <h2 className="text-xl font-bold text-gray-800">‚ûï –ù–æ–≤–æ–µ —Å–æ–±—ã—Ç–∏–µ</h2>
                                        <button 
                                            onClick={() => {
                                                setShowAddEventModal(false);
                                                setNewEvent({ title: '', description: '', date: '', category: 'relationship', emoji: 'üíï', isPublic: true, photos: [] });
                                                setEventPhotos([]);
                                            }}
                                            className="text-gray-500 p-2"
                                        >
                                            ‚úï
                                        </button>
                                    </div>
                                    
                                    <div className="p-4 space-y-4">
                                        {/* –ù–∞–∑–≤–∞–Ω–∏–µ */}
                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 mb-2">–ù–∞–∑–≤–∞–Ω–∏–µ *</label>
                                            <input
                                                type="text"
                                                value={newEvent.title}
                                                onChange={(e) => setNewEvent({...newEvent, title: e.target.value})}
                                                placeholder="–ù–∞—à –ø–µ—Ä–≤—ã–π –ø–æ—Ü–µ–ª—É–π..."
                                                className="w-full px-4 py-3 border-2 border-gray-200 rounded-2xl focus:border-pink-500 focus:outline-none"
                                            />
                                        </div>
                                        
                                        {/* –î–∞—Ç–∞ */}
                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 mb-2">–î–∞—Ç–∞ *</label>
                                            <input
                                                type="date"
                                                value={newEvent.date}
                                                onChange={(e) => setNewEvent({...newEvent, date: e.target.value})}
                                                className="w-full px-4 py-3 border-2 border-gray-200 rounded-2xl focus:border-pink-500 focus:outline-none"
                                            />
                                        </div>
                                        
                                        {/* –û–ø–∏—Å–∞–Ω–∏–µ */}
                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 mb-2">–û–ø–∏—Å–∞–Ω–∏–µ</label>
                                            <textarea
                                                value={newEvent.description}
                                                onChange={(e) => setNewEvent({...newEvent, description: e.target.value})}
                                                placeholder="–†–∞—Å—Å–∫–∞–∂–∏—Ç–µ –æ —Å–æ–±—ã—Ç–∏–∏..."
                                                rows={3}
                                                className="w-full px-4 py-3 border-2 border-gray-200 rounded-2xl focus:border-pink-500 focus:outline-none resize-none"
                                            />
                                        </div>
                                        
                                        {/* –≠–º–æ–¥–∑–∏ */}
                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 mb-2">–ò–∫–æ–Ω–∫–∞</label>
                                            <div className="flex flex-wrap gap-2">
                                                {['üíï', '‚ù§Ô∏è', 'üíã', 'üåπ', 'üéâ', 'üéÇ', '‚úàÔ∏è', 'üè†', 'üíç', 'üë∂', 'üéì', 'üèÜ'].map(emoji => (
                                                    <button
                                                        key={emoji}
                                                        onClick={() => setNewEvent({...newEvent, emoji})}
                                                        className={`text-2xl p-2 rounded-xl transition-all ${
                                                            newEvent.emoji === emoji 
                                                                ? 'bg-pink-100 scale-110' 
                                                                : 'bg-gray-100'
                                                        }`}
                                                    >
                                                        {emoji}
                                                    </button>
                                                ))}
                                            </div>
                                        </div>
                                        
                                        {/* –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π */}
                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 mb-2">
                                                üì∏ –§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ ({eventPhotos.length}/10)
                                            </label>
                                            
                                            {/* –ü—Ä–µ–≤—å—é –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö —Ñ–æ—Ç–æ */}
                                            {eventPhotos.length > 0 && (
                                                <div className="flex flex-wrap gap-2 mb-3">
                                                    {eventPhotos.map(photo => (
                                                        <div key={photo.id} className="relative">
                                                            <img 
                                                                src={photo.data} 
                                                                alt="" 
                                                                className="w-20 h-20 rounded-xl object-cover"
                                                            />
                                                            <button
                                                                onClick={() => removePhoto(photo.id)}
                                                                className="absolute -top-2 -right-2 bg-red-500 text-white w-6 h-6 rounded-full text-xs flex items-center justify-center"
                                                            >
                                                                ‚úï
                                                            </button>
                                                        </div>
                                                    ))}
                                                </div>
                                            )}
                                            
                                            {eventPhotos.length < 10 && (
                                                <label className="block w-full p-4 border-2 border-dashed border-gray-300 rounded-2xl text-center cursor-pointer hover:border-pink-500 transition-colors">
                                                    <input
                                                        type="file"
                                                        accept="image/*"
                                                        multiple
                                                        onChange={(e) => handlePhotoUpload(e, false)}
                                                        className="hidden"
                                                    />
                                                    <div className="text-3xl mb-2">üì∑</div>
                                                    <p className="text-gray-500 text-sm">–ù–∞–∂–º–∏—Ç–µ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–æ—Ç–æ</p>
                                                    <p className="text-gray-400 text-xs mt-1">–î–æ 5MB –Ω–∞ —Ñ–∞–π–ª</p>
                                                </label>
                                            )}
                                        </div>
                                        
                                        {/* –ö–Ω–æ–ø–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è */}
                                        <button
                                            onClick={addUserEvent}
                                            disabled={!newEvent.title || !newEvent.date}
                                            className="w-full gradient-button text-white py-4 rounded-2xl font-bold disabled:opacity-50 disabled:cursor-not-allowed"
                                        >
                                            –î–æ–±–∞–≤–∏—Ç—å —Å–æ–±—ã—Ç–∏–µ üíï
                                        </button>
                                    </div>
                                </div>
                            </div>
                        )}
    
                        {/* –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å–æ–±—ã—Ç–∏—è */}
                        {showEditEventModal && editingEvent && (
                            <div className="fixed inset-0 bg-black/50 z-50 flex items-end modal-backdrop">
                                <div className="bg-white rounded-t-3xl w-full max-h-[90vh] overflow-y-auto custom-scrollbar">
                                    <div className="sticky top-0 bg-white p-4 border-b flex justify-between items-center z-10">
                                        <h2 className="text-xl font-bold text-gray-800">‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</h2>
                                        <button 
                                            onClick={() => {
                                                setShowEditEventModal(false);
                                                setEditingEvent(null);
                                            }}
                                            className="text-gray-500 p-2"
                                        >
                                            ‚úï
                                        </button>
                                    </div>
                                    
                                    <div className="p-4 space-y-4">
                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 mb-2">–ù–∞–∑–≤–∞–Ω–∏–µ *</label>
                                            <input
                                                type="text"
                                                value={editingEvent.title}
                                                onChange={(e) => setEditingEvent({...editingEvent, title: e.target.value})}
                                                className="w-full px-4 py-3 border-2 border-gray-200 rounded-2xl focus:border-pink-500 focus:outline-none"
                                            />
                                        </div>
                                        
                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 mb-2">–î–∞—Ç–∞ *</label>
                                            <input
                                                type="date"
                                                value={editingEvent.date}
                                                onChange={(e) => setEditingEvent({...editingEvent, date: e.target.value})}
                                                className="w-full px-4 py-3 border-2 border-gray-200 rounded-2xl focus:border-pink-500 focus:outline-none"
                                            />
                                        </div>
                                        
                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 mb-2">–û–ø–∏—Å–∞–Ω–∏–µ</label>
                                            <textarea
                                                value={editingEvent.description}
                                                onChange={(e) => setEditingEvent({...editingEvent, description: e.target.value})}
                                                rows={3}
                                                className="w-full px-4 py-3 border-2 border-gray-200 rounded-2xl focus:border-pink-500 focus:outline-none resize-none"
                                            />
                                        </div>
                                        
                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 mb-2">–ò–∫–æ–Ω–∫–∞</label>
                                            <div className="flex flex-wrap gap-2">
                                                {['üíï', '‚ù§Ô∏è', 'üíã', 'üåπ', 'üéâ', 'üéÇ', '‚úàÔ∏è', 'üè†', 'üíç', 'üë∂', 'üéì', 'üèÜ'].map(emoji => (
                                                    <button
                                                        key={emoji}
                                                        onClick={() => setEditingEvent({...editingEvent, emoji})}
                                                        className={`text-2xl p-2 rounded-xl transition-all ${
                                                            editingEvent.emoji === emoji 
                                                                ? 'bg-pink-100 scale-110' 
                                                                : 'bg-gray-100'
                                                        }`}
                                                    >
                                                        {emoji}
                                                    </button>
                                                ))}
                                            </div>
                                        </div>
                                        
                                        {/* –§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –ø—Ä–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ */}
                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 mb-2">
                                                üì∏ –§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ ({(editingEvent.photos || []).length}/10)
                                            </label>
                                            
                                            {editingEvent.photos && editingEvent.photos.length > 0 && (
                                                <div className="flex flex-wrap gap-2 mb-3">
                                                    {editingEvent.photos.map(photo => (
                                                        <div key={photo.id} className="relative">
                                                            <img 
                                                                src={photo.data} 
                                                                alt="" 
                                                                className="w-20 h-20 rounded-xl object-cover"
                                                            />
                                                            <button
                                                                onClick={() => removePhoto(photo.id, true)}
                                                                className="absolute -top-2 -right-2 bg-red-500 text-white w-6 h-6 rounded-full text-xs flex items-center justify-center"
                                                            >
                                                                ‚úï
                                                            </button>
                                                        </div>
                                                    ))}
                                                </div>
                                            )}
                                            
                                            {(editingEvent.photos || []).length < 10 && (
                                                <label className="block w-full p-4 border-2 border-dashed border-gray-300 rounded-2xl text-center cursor-pointer hover:border-pink-500 transition-colors">
                                                    <input
                                                        type="file"
                                                        accept="image/*"
                                                        multiple
                                                        onChange={(e) => handlePhotoUpload(e, true)}
                                                        className="hidden"
                                                    />
                                                    <div className="text-3xl mb-2">üì∑</div>
                                                    <p className="text-gray-500 text-sm">–î–æ–±–∞–≤–∏—Ç—å —Ñ–æ—Ç–æ</p>
                                                </label>
                                            )}
                                        </div>
                                        
                                        <button
                                            onClick={saveEditedEvent}
                                            className="w-full gradient-button text-white py-4 rounded-2xl font-bold"
                                        >
                                            –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è ‚úì
                                        </button>
                                    </div>
                                </div>
                            </div>
                        )}
    
                        {/* –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–µ–π —Å–æ–±—ã—Ç–∏—è */}
                        {showEventDetailsModal && selectedEvent && (
                            <div className="fixed inset-0 bg-black/50 z-50 flex items-end modal-backdrop">
                                <div className="bg-white rounded-t-3xl w-full max-h-[90vh] overflow-y-auto custom-scrollbar">
                                    <div className="sticky top-0 bg-white p-4 border-b flex justify-between items-center z-10">
                                        <h2 className="text-xl font-bold text-gray-800">
                                            {selectedEvent.emoji} {selectedEvent.title}
                                        </h2>
                                        <button 
                                            onClick={() => {
                                                setShowEventDetailsModal(false);
                                                setSelectedEvent(null);
                                            }}
                                            className="text-gray-500 p-2"
                                        >
                                            ‚úï
                                        </button>
                                    </div>
                                    
                                    <div className="p-4">
                                        {/* –î–∞—Ç–∞ */}
                                        <div className="bg-gradient-to-r from-pink-100 to-purple-100 rounded-2xl p-4 mb-4">
                                            <div className="flex items-center gap-3">
                                                <span className="text-3xl">üìÖ</span>
                                                <div>
                                                    <p className="font-medium text-gray-800">
                                                        {new Date(selectedEvent.date).toLocaleDateString('ru-RU', {
                                                            weekday: 'long',
                                                            day: 'numeric',
                                                            month: 'long',
                                                            year: 'numeric'
                                                        })}
                                                    </p>
                                                </div>
                                            </div>
                                        </div>
                                        
                                        {/* –û–ø–∏—Å–∞–Ω–∏–µ */}
                                        {selectedEvent.description && (
                                            <div className="mb-4">
                                                <h3 className="font-medium text-gray-700 mb-2">üìù –û–ø–∏—Å–∞–Ω–∏–µ</h3>
                                                <p className="text-gray-600 bg-gray-50 p-4 rounded-2xl">
                                                    {selectedEvent.description}
                                                </p>
                                            </div>
                                        )}
                                        
                                        {/* –§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ */}
                                        {selectedEvent.photos && selectedEvent.photos.length > 0 && (
                                            <div className="mb-4">
                                                <h3 className="font-medium text-gray-700 mb-2">
                                                    üì∏ –§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ ({selectedEvent.photos.length})
                                                </h3>
                                                <div className="grid grid-cols-2 gap-2">
                                                    {selectedEvent.photos.map((photo, idx) => (
                                                        <img 
                                                            key={photo.id || idx}
                                                            src={photo.data}
                                                            alt=""
                                                            className="w-full aspect-square rounded-2xl object-cover"
                                                        />
                                                    ))}
                                                </div>
                                            </div>
                                        )}
                                        
                                        {/* –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π */}
                                        <div className="flex gap-3">
                                            <button
                                                onClick={() => {
                                                    setShowEventDetailsModal(false);
                                                    editUserEvent(selectedEvent);
                                                }}
                                                className="flex-1 bg-gray-100 text-gray-700 py-3 rounded-2xl font-medium"
                                            >
                                                ‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
                                            </button>
                                            <button
                                                onClick={() => likeEvent(selectedEvent.id)}
                                                className="flex-1 gradient-button text-white py-3 rounded-2xl font-medium"
                                            >
                                                ‚ù§Ô∏è {selectedEvent.likes || 0}
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        )}
    
                    </div>
                );
            };
    
            // –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –≥–∞–ª–µ—Ä–µ–∏ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Å–≤–æ–∏—Ö —Ñ–æ—Ç–æ
            const GalleryModal = ({ images, currentIndex, setCurrentIndex, onClose, updateStats, userStats }) => {
                const [localImages, setLocalImages] = useState([]);
                const [allImages, setAllImages] = useState([]);
                const [showUploadOption, setShowUploadOption] = useState(false);
                const [selectedImageIndex, setSelectedImageIndex] = useState(currentIndex);
                const [showFullImage, setShowFullImage] = useState(false);
                const fileInputRef = useRef(null);
    
                // –ó–∞–≥—Ä—É–∑–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Ñ–æ—Ç–æ
                useEffect(() => {
                    const savedPhotos = localStorage.getItem('user_gallery_photos');
                    if (savedPhotos) {
                        setLocalImages(JSON.parse(savedPhotos));
                    }
                }, []);
    
                // –û–±—ä–µ–¥–∏–Ω—è–µ–º –≤—Å–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
                useEffect(() => {
                    setAllImages([...images, ...localImages]);
                }, [images, localImages]);
    
                // –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–æ—Ç–æ
                const handleFileUpload = (event) => {
                    const files = Array.from(event.target.files);
                    
                    files.forEach(file => {
                        if (file.type.startsWith('image/') && file.size <= 10 * 1024 * 1024) {
                            const reader = new FileReader();
                            reader.onload = (e) => {
                                const newPhoto = {
                                    id: `user_${Date.now()}_${Math.random()}`,
                                    url: e.target.result,
                                    title: file.name.replace(/\.[^/.]+$/, ""),
                                    isUserPhoto: true,
                                    uploadedAt: new Date().toISOString()
                                };
                                
                                setLocalImages(prev => {
                                    const updated = [...prev, newPhoto];
                                    localStorage.setItem('user_gallery_photos', JSON.stringify(updated));
                                    return updated;
                                });
                                
                                // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
                                updateStats({ photosViewed: userStats.photosViewed + 1 });
                            };
                            reader.readAsDataURL(file);
                        } else {
                            alert('–§–∞–π–ª –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º –∏ –Ω–µ –ø—Ä–µ–≤—ã—à–∞—Ç—å 10MB');
                        }
                    });
                    
                    event.target.value = '';
                    setShowUploadOption(false);
                };
    
                // –£–¥–∞–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ —Ñ–æ—Ç–æ
                const deleteUserPhoto = (photoId) => {
                    if (confirm('–£–¥–∞–ª–∏—Ç—å —ç—Ç–æ —Ñ–æ—Ç–æ –∏–∑ –≥–∞–ª–µ—Ä–µ–∏?')) {
                        setLocalImages(prev => {
                            const updated = prev.filter(p => p.id !== photoId);
                            localStorage.setItem('user_gallery_photos', JSON.stringify(updated));
                            return updated;
                        });
                    }
                };
    
                // –ù–∞–≤–∏–≥–∞—Ü–∏—è
                const goToNext = () => {
                    setSelectedImageIndex(prev => (prev + 1) % allImages.length);
                };
    
                const goToPrev = () => {
                    setSelectedImageIndex(prev => (prev - 1 + allImages.length) % allImages.length);
                };
    
                // –°–≤–∞–π–ø –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö
                const [touchStart, setTouchStart] = useState(null);
                const [touchEnd, setTouchEnd] = useState(null);
    
                const minSwipeDistance = 50;
    
                const onTouchStart = (e) => {
                    setTouchEnd(null);
                    setTouchStart(e.targetTouches[0].clientX);
                };
    
                const onTouchMove = (e) => {
                    setTouchEnd(e.targetTouches[0].clientX);
                };
    
                const onTouchEnd = () => {
                    if (!touchStart || !touchEnd) return;
                    
                    const distance = touchStart - touchEnd;
                    const isLeftSwipe = distance > minSwipeDistance;
                    const isRightSwipe = distance < -minSwipeDistance;
                    
                    if (isLeftSwipe) {
                        goToNext();
                    } else if (isRightSwipe) {
                        goToPrev();
                    }
                };
    
                return (
                    <div className="fixed inset-0 bg-black z-50 flex flex-col">
                        {/* –ó–∞–≥–æ–ª–æ–≤–æ–∫ */}
                        <div className="bg-black/80 p-4 flex justify-between items-center safe-area-inset">
                            <div className="text-white">
                                <h2 className="font-bold">üì∏ –ì–∞–ª–µ—Ä–µ—è</h2>
                                <p className="text-sm text-gray-400">
                                    {selectedImageIndex + 1} / {allImages.length}
                                </p>
                            </div>
                            <div className="flex gap-3">
                                <button
                                    onClick={() => setShowUploadOption(true)}
                                    className="bg-pink-500 text-white px-4 py-2 rounded-full text-sm font-medium"
                                >
                                    + –î–æ–±–∞–≤–∏—Ç—å
                                </button>
                                <button 
                                    onClick={onClose}
                                    className="text-white text-2xl p-2"
                                >
                                    ‚úï
                                </button>
                            </div>
                        </div>
    
                        {/* –û—Å–Ω–æ–≤–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ */}
                        {allImages.length > 0 && (
                            <div 
                                className="flex-1 flex items-center justify-center relative"
                                onTouchStart={onTouchStart}
                                onTouchMove={onTouchMove}
                                onTouchEnd={onTouchEnd}
                            >
                                <img
                                    src={allImages[selectedImageIndex]?.url}
                                    alt={allImages[selectedImageIndex]?.title}
                                    className="max-w-full max-h-full object-contain"
                                    onClick={() => setShowFullImage(true)}
                                    onError={(e) => {
                                        e.target.src = 'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><rect fill="%23333" width="100" height="100"/><text x="50" y="55" text-anchor="middle" font-size="20" fill="%23fff">üíï</text></svg>';
                                    }}
                                />
                                
                                {/* –ö–Ω–æ–ø–∫–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ */}
                                <button
                                    onClick={goToPrev}
                                    className="absolute left-2 top-1/2 -translate-y-1/2 bg-white/20 backdrop-blur text-white p-3 rounded-full"
                                >
                                    ‚Üê
                                </button>
                                <button
                                    onClick={goToNext}
                                    className="absolute right-2 top-1/2 -translate-y-1/2 bg-white/20 backdrop-blur text-white p-3 rounded-full"
                                >
                                    ‚Üí
                                </button>
                                
                                {/* –£–¥–∞–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ —Ñ–æ—Ç–æ */}
                                {allImages[selectedImageIndex]?.isUserPhoto && (
                                    <button
                                        onClick={() => deleteUserPhoto(allImages[selectedImageIndex].id)}
                                        className="absolute top-4 right-4 bg-red-500 text-white p-2 rounded-full"
                                    >
                                        üóëÔ∏è
                                    </button>
                                )}
                            </div>
                        )}
    
                        {/* –ù–∞–∑–≤–∞–Ω–∏–µ —Ñ–æ—Ç–æ */}
                        {allImages.length > 0 && (
                            <div className="bg-black/80 p-4 text-center">
                                <p className="text-white font-medium">
                                    {allImages[selectedImageIndex]?.title}
                                </p>
                                {allImages[selectedImageIndex]?.isUserPhoto && (
                                    <span className="text-pink-400 text-xs">–í–∞—à–µ —Ñ–æ—Ç–æ</span>
                                )}
                            </div>
                        )}
    
                        {/* –ú–∏–Ω–∏–∞—Ç—é—Ä—ã */}
                        <div className="bg-black/90 p-3 safe-area-inset">
                            <div className="flex gap-2 overflow-x-auto hide-scrollbar">
                                {allImages.map((image, index) => (
                                    <button
                                        key={image.id || index}
                                        onClick={() => setSelectedImageIndex(index)}
                                        className={`flex-shrink-0 w-16 h-16 rounded-xl overflow-hidden border-2 transition-all ${
                                            selectedImageIndex === index 
                                                ? 'border-pink-500 scale-105' 
                                                : 'border-transparent opacity-60'
                                        }`}
                                    >
                                        <img
                                            src={image.url}
                                            alt=""
                                            className="w-full h-full object-cover"
                                            onError={(e) => {
                                                e.target.src = 'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><rect fill="%23333" width="100" height="100"/><text x="50" y="55" text-anchor="middle" font-size="30">üíï</text></svg>';
                                            }}
                                        />
                                    </button>
                                ))}
                            </div>
                        </div>
    
                        {/* –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∑–∞–≥—Ä—É–∑–∫–∏ */}
                        {showUploadOption && (
                            <div className="absolute inset-0 bg-black/80 flex items-center justify-center p-4">
                                <div className="bg-white rounded-3xl p-6 w-full max-w-sm">
                                    <h3 className="text-xl font-bold text-gray-800 mb-4 text-center">
                                        üì∑ –î–æ–±–∞–≤–∏—Ç—å —Ñ–æ—Ç–æ
                                    </h3>
                                    
                                    <input
                                        ref={fileInputRef}
                                        type="file"
                                        accept="image/*"
                                        multiple
                                        onChange={handleFileUpload}
                                        className="hidden"
                                    />
                                    
                                    <button
                                        onClick={() => fileInputRef.current?.click()}
                                        className="w-full mb-3 p-4 border-2 border-dashed border-pink-300 rounded-2xl text-center hover:bg-pink-50 transition-colors"
                                    >
                                        <div className="text-4xl mb-2">üì∏</div>
                                        <p className="text-gray-600">–í—ã–±—Ä–∞—Ç—å –∏–∑ –≥–∞–ª–µ—Ä–µ–∏</p>
                                        <p className="text-xs text-gray-400">–î–æ 10MB –Ω–∞ —Ñ–∞–π–ª</p>
                                    </button>
                                    
                                    <button
                                        onClick={() => setShowUploadOption(false)}
                                        className="w-full py-3 bg-gray-100 rounded-2xl text-gray-600 font-medium"
                                    >
                                        –û—Ç–º–µ–Ω–∞
                                    </button>
                                </div>
                            </div>
                        )}
    
                        {/* –ü–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä */}
                        {showFullImage && allImages[selectedImageIndex] && (
                            <div 
                                className="absolute inset-0 bg-black flex items-center justify-center"
                                onClick={() => setShowFullImage(false)}
                            >
                                <img
                                    src={allImages[selectedImageIndex].url}
                                    alt=""
                                    className="max-w-full max-h-full object-contain"
                                />
                                <button
                                    onClick={() => setShowFullImage(false)}
                                    className="absolute top-4 right-4 text-white text-3xl"
                                >
                                    ‚úï
                                </button>
                            </div>
                        )}
                    </div>
                );
            };
    
            // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–π
            const style = document.createElement('style');
            style.textContent = `
                @keyframes slide-up {
                    from {
                        transform: translateY(100%);
                        opacity: 0;
                    }
                    to {
                        transform: translateY(0);
                        opacity: 1;
                    }
                }
                
                .animate-slide-up {
                    animation: slide-up 0.3s ease-out;
                }
                
                @keyframes bounce-in {
                    0% {
                        transform: scale(0.5);
                        opacity: 0;
                    }
                    50% {
                        transform: scale(1.1);
                    }
                    100% {
                        transform: scale(1);
                        opacity: 1;
                    }
                }
                
                .animate-bounce-in {
                    animation: bounce-in 0.5s ease-out;
                }
            `;
            document.head.appendChild(style);
    
            // –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
            const root = ReactDOM.createRoot(document.getElementById('root'));
            root.render(<RomanticMobileApp />);
        </script>
</body>
</html>
