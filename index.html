<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üíï –î–ª—è –º–æ–µ–π –ª—é–±–∏–º–æ–π</title>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* –ê–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è –ª–µ–ø–µ—Å—Ç–∫–æ–≤ */
        @keyframes fall {
            0% { transform: translateY(-100vh) rotate(0deg); opacity: 0.8; }
            100% { transform: translateY(100vh) rotate(360deg); opacity: 0; }
        }
        
        /* –ê–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è —Å–µ—Ä–¥–µ—á–µ–∫ */
        @keyframes heartFloat {
            0% { transform: translateY(0) scale(1); opacity: 1; }
            100% { transform: translateY(-50px) scale(0.8); opacity: 0; }
        }
        
        /* –ü–ª–∞–≤–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã */
        .smooth-transition {
            transition: all 0.3s ease;
        }
        
        /* –ì—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ */
        .gradient-button {
            background: linear-gradient(135deg, #ec4899, #8b5cf6);
            transition: all 0.3s ease;
        }
        <!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üíï –î–ª—è –º–æ–µ–π –ª—é–±–∏–º–æ–π</title>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* –ê–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è –ª–µ–ø–µ—Å—Ç–∫–æ–≤ */
        @keyframes fall {
            0% { transform: translateY(-100vh) rotate(0deg); opacity: 0.8; }
            100% { transform: translateY(100vh) rotate(360deg); opacity: 0; }
        }
        
        /* –ê–Ω–∏–º–∞—Ü–∏–∏ –¥–ª—è —Å–µ—Ä–¥–µ—á–µ–∫ */
        @keyframes heartFloat {
            0% { transform: translateY(0) scale(1); opacity: 1; }
            100% { transform: translateY(-50px) scale(0.8); opacity: 0; }
        }
        
        /* –ü–ª–∞–≤–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã */
        .smooth-transition {
            transition: all 0.3s ease;
        }
        
        /* –ì—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ */
        .gradient-button {
            background: linear-gradient(135deg, #ec4899, #8b5cf6);
            transition: all 0.3s ease;
        }
        
        .gradient-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(236, 72, 153, 0.3);
        }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω */
        .modal-backdrop {
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
        }
        
        /* –ö–∞—Å—Ç–æ–º–Ω—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è —Å–∫—Ä–æ–ª–ª–∞ */
        .custom-scrollbar::-webkit-scrollbar {
            width: 6px;
        }
        
        .custom-scrollbar::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 10px;
        }
        
        .custom-scrollbar::-webkit-scrollbar-thumb {
            background: #ec4899;
            border-radius: 10px;
        }
        
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
            background: #db2777;
        }

        /* –ê–Ω–∏–º–∞—Ü–∏—è –¥–ª—è –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π */
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }
        
        .notification-pulse {
            animation: pulse 2s infinite;
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–µ–∫ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π */
        .notification-setting {
            transition: all 0.3s ease;
        }
        
        .notification-setting:hover {
            background-color: #fdf2f8;
        }
    </style>
</head>
<body>
    <div id="root"></div>
    
    <script type="text/babel">
        const { useState, useEffect } = React;
        
        const RomanticMobileApp = () => {
            // –î–û–ë–ê–í–õ–ï–ù–û: –°–æ—Å—Ç–æ—è–Ω–∏—è –¥–ª—è –∑–∞—â–∏—Ç—ã
            const [isAuthenticated, setIsAuthenticated] = React.useState(false);
            const [showPasswordModal, setShowPasswordModal] = React.useState(true);
            const [passwordInput, setPasswordInput] = React.useState('');
            const [passwordError, setPasswordError] = React.useState('');
            const [attemptCount, setAttemptCount] = React.useState(0);

            // –î–û–ë–ê–í–õ–ï–ù–û: –ü–∞—Ä–æ–ª—å –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ (–º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å)
            const SECRET_PASSWORD = 'love2024';

            // –î–û–ë–ê–í–õ–ï–ù–û: –°–æ—Å—Ç–æ—è–Ω–∏—è –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
            const [notificationPermission, setNotificationPermission] = useState('default');
            const [showNotificationSettings, setShowNotificationSettings] = useState(false);
            const [notificationSettings, setNotificationSettings] = useState({
                importantDates: true,
                milestones: true,
                dailyReminder: false,
                advanceNotice: 7, // –¥–Ω–µ–π –∑–∞—Ä–∞–Ω–µ–µ
                milestoneInterval: 100 // –∫–∞–∂–¥—ã–µ N –¥–Ω–µ–π
            });
            const [upcomingNotifications, setUpcomingNotifications] = useState([]);
            const [lastNotificationCheck, setLastNotificationCheck] = useState(null);

            // –°–æ—Å—Ç–æ—è–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
            const [currentImageIndex, setCurrentImageIndex] = useState(0);
            const [currentLoveMessage, setCurrentLoveMessage] = useState(null);
            const [selectedCategory, setSelectedCategory] = useState('all');
            const [showStoryModal, setShowStoryModal] = useState(false);
            const [showGalleryModal, setShowGalleryModal] = useState(false);
            const [showCalendarModal, setShowCalendarModal] = useState(false);
            const [showCategoriesModal, setShowCategoriesModal] = useState(false);
            const [showNotificationModal, setShowNotificationModal] = useState(false);
            const [hearts, setHearts] = useState([]);
            const [petals, setPetals] = useState([]);
            const [daysTogether, setDaysTogether] = useState(0);
            const [upcomingEvent, setUpcomingEvent] = useState(null);
            const [hasUpcomingNotification, setHasUpcomingNotification] = useState(false);
            
            // –î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞ –æ—Ç–Ω–æ—à–µ–Ω–∏–π
            const relationshipStart = new Date('2007-02-21');
            
            // –°–æ–∫—Ä–∞—â–µ–Ω–Ω—ã–µ –ø—Ä–∏–∑–Ω–∞–Ω–∏—è –≤ –ª—é–±–≤–∏ –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏
            const loveMessages = [
                // romantic ‚Äî –†–æ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–µ
                { id: 1, text: "–¢—ã - –º–æ–µ —Å–æ–ª–Ω—Ü–µ, –∫–æ—Ç–æ—Ä–æ–µ –æ—Å–≤–µ—â–∞–µ—Ç –∫–∞–∂–¥—ã–π –¥–µ–Ω—å ‚òÄÔ∏è", category: "romantic" },
                { id: 2, text: "–ö–∞–∂–¥—ã–π –º–æ–º–µ–Ω—Ç —Å —Ç–æ–±–æ–π - —ç—Ç–æ –º–∞–ª–µ–Ω—å–∫–æ–µ —á—É–¥–æ ‚ú®", category: "romantic" },
                { id: 3, text: "–¢—ã –º–æ–π –ª—É—á–∏–∫ —Å–≤–µ—Ç–∞ —Å—Ä–µ–¥–∏ —Å–µ—Ä—ã—Ö –±—É–¥–Ω–µ–π üå§Ô∏è", category: "romantic" },
                { id: 4, text: "–¢—ã –¥–µ–ª–∞–µ—à—å –º–æ—é –∂–∏–∑–Ω—å —è—Ä—á–µ —Å –∫–∞–∂–¥—ã–º –¥–Ω—ë–º üé®", category: "romantic" },
                { id: 5, text: "–° —Ç–æ–±–æ–π –¥–∞–∂–µ –¥–æ–∂–¥—å –∫–∞–∂–µ—Ç—Å—è —Ä–æ–º–∞–Ω—Ç–∏—á–Ω—ã–º üåßÔ∏è", category: "romantic" },
                { id: 6, text: "–¢—ã ‚Äî –∫–∞–∫ –≤–µ—Å–Ω–∞ –≤ —Ä–∞–∑–≥–∞—Ä –∑–∏–º—ã üå∏", category: "romantic" },
                { id: 7, text: "–¢–≤–æ–π –≥–æ–ª–æ—Å ‚Äî –º–æ—è –ª—é–±–∏–º–∞—è –º–µ–ª–æ–¥–∏—è üé∂", category: "romantic" },
                { id: 8, text: "–Ø —á—É–≤—Å—Ç–≤—É—é —Å–µ–±—è —Ü–µ–ª—ã–º —Ç–æ–ª—å–∫–æ —Ä—è–¥–æ–º —Å —Ç–æ–±–æ–π üíû", category: "romantic" },
                { id: 9, text: "–¢—ã ‚Äî –ø—Ä–∏—á–∏–Ω–∞, –ø–æ—á–µ–º—É —è –≤–µ—Ä—é –≤ —á—É–¥–µ—Å–∞ üå†", category: "romantic" },
                { id: 10, text: "–¢—ã –º–æ–π –∏–¥–µ–∞–ª—å–Ω—ã–π –∑–∞–∫–∞—Ç üåá", category: "romantic" },

                // deep ‚Äî –ì–ª—É–±–æ–∫–∏–µ
                { id: 11, text: "–° —Ç–æ–±–æ–π —è –ø–æ–Ω—è–ª, —á—Ç–æ —Ç–∞–∫–æ–µ –Ω–∞—Å—Ç–æ—è—â–∞—è –ª—é–±–æ–≤—å üíï", category: "deep" },
                { id: 12, text: "–¢—ã ‚Äî –Ω–µ –ø—Ä–æ—Å—Ç–æ —á–µ–ª–æ–≤–µ–∫, —Ç—ã —Å–º—ã—Å–ª üí≠", category: "deep" },
                { id: 13, text: "–õ—é–±–∏—Ç—å —Ç–µ–±—è ‚Äî –∑–Ω–∞—á–∏—Ç —á—É–≤—Å—Ç–≤–æ–≤–∞—Ç—å –ø–æ–∫–æ–π –≤–Ω—É—Ç—Ä–∏ üïäÔ∏è", category: "deep" },
                { id: 14, text: "–¢—ã –æ—Ç–∫—Ä—ã–ª –º–Ω–µ –Ω–æ–≤–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ –∂–∏–∑–Ω–∏ üå±", category: "deep" },
                { id: 15, text: "–° —Ç–æ–±–æ–π —è —Å—Ç–∞–ª –ª—É—á—à–µ, —á–µ–º –±—ã–ª üë•", category: "deep" },
                { id: 16, text: "–¢—ã ‚Äî —Ç–æ—Ç —Å–∞–º—ã–π –∫—É—Å–æ—á–µ–∫, –∫–æ—Ç–æ—Ä–æ–≥–æ –º–Ω–µ –Ω–µ —Ö–≤–∞—Ç–∞–ª–æ üß©", category: "deep" },
                { id: 17, text: "–ú–∏—Ä –±–µ–∑ —Ç–µ–±—è ‚Äî –Ω–µ–ø–æ–ª–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è üìñ", category: "deep" },
                { id: 18, text: "–¢—ã –Ω–∞—É—á–∏–ª –º–µ–Ω—è –ª—é–±–∏—Ç—å –≥–ª—É–±–∂–µ üß°", category: "deep" },
                { id: 19, text: "–í —Ç–µ–±–µ —è –Ω–∞—à—ë–ª —Å–≤–æ—ë ¬´–Ω–∞–≤—Å–µ–≥–¥–∞¬ª üîö", category: "deep" },
                { id: 20, text: "–¢—ã ‚Äî –º–æ–π –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –æ–≥–æ–Ω—å –∏ —Å–≤–µ—Ç ü™î", category: "deep" },

                // compliment ‚Äî –ö–æ–º–ø–ª–∏–º–µ–Ω—Ç—ã
                { id: 21, text: "–¢–≤–æ—è —É–ª—ã–±–∫–∞ - —Å–∞–º–æ–µ –ø—Ä–µ–∫—Ä–∞—Å–Ω–æ–µ –≤ –º–æ–µ–º –º–∏—Ä–µ üòä", category: "compliment" },
                { id: 22, text: "–¢–≤–æ–π —Å–º–µ—Ö - –º—É–∑—ã–∫–∞ –º–æ–µ–π –¥—É—à–∏ üéµ", category: "compliment" },
                { id: 23, text: "–¢—ã –∫—Ä–∞—Å–∏–≤–µ–µ –ª—é–±–æ–≥–æ –∑–∞–∫–∞—Ç–∞ üåÖ", category: "compliment" },
                { id: 24, text: "–¢—ã —É–º–µ–µ—à—å –¥–µ–ª–∞—Ç—å –¥–∞–∂–µ –ø—Ä–æ—Å—Ç—ã–µ —Å–ª–æ–≤–∞ –æ—Å–æ–±–µ–Ω–Ω—ã–º–∏ üó£Ô∏è", category: "compliment" },
                { id: 25, text: "–¢–≤–æ—è —ç–Ω–µ—Ä–≥–∏—è –≥—Ä–µ–µ—Ç –ª—É—á—à–µ —Å–æ–ª–Ω—Ü–∞ ‚òÄÔ∏è", category: "compliment" },
                { id: 26, text: "–¢—ã ‚Äî –∫–∞–∫ –∂–∏–≤–æ–µ –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ üé®", category: "compliment" },
                { id: 27, text: "–¢—ã –∑–∞—Å—Ç–∞–≤–ª—è–µ—à—å –º–æ—ë —Å–µ—Ä–¥—Ü–µ –±–∏—Ç—å—Å—è –±—ã—Å—Ç—Ä–µ–µ üíì", category: "compliment" },
                { id: 28, text: "–¢—ã ‚Äî –≤–æ–ø–ª–æ—â–µ–Ω–∏–µ –∏–∑—è—â–µ—Å—Ç–≤–∞ –∏ —Å–∏–ª—ã üíÉ", category: "compliment" },
                { id: 29, text: "–¢—ã —Ç–∞–∫ –∫—Ä–∞—Å–∏–≤–∞, –∫–æ–≥–¥–∞ –≥–æ–≤–æ—Ä–∏—à—å –æ —Ç–æ–º, —á—Ç–æ –ª—é–±–∏—à—å üåü", category: "compliment" },
                { id: 30, text: "–¢—ã –≤—ã–≥–ª—è–¥–∏—à—å –∫–∞–∫ –º–µ—á—Ç–∞ –Ω–∞—è–≤—É üí≠", category: "compliment" },

                // grateful ‚Äî –ë–ª–∞–≥–æ–¥–∞—Ä–Ω—ã–µ
                { id: 31, text: "–°–ø–∞—Å–∏–±–æ –∑–∞ —Ç–æ, —á—Ç–æ —Ç—ã –µ—Å—Ç—å –≤ –º–æ–µ–π –∂–∏–∑–Ω–∏ üôè", category: "grateful" },
                { id: 32, text: "–¢—ã - —Å–∞–º–æ–µ –ø—Ä–µ–∫—Ä–∞—Å–Ω–æ–µ, —á—Ç–æ —Å–ª—É—á–∏–ª–æ—Å—å —Å–æ –º–Ω–æ–π üå∫", category: "grateful" },
                { id: 33, text: "–ë–ª–∞–≥–æ–¥–∞—Ä—é —Å—É–¥—å–±—É –∑–∞ –≤—Å—Ç—Ä–µ—á—É —Å —Ç–æ–±–æ–π üåå", category: "grateful" },
                { id: 34, text: "–¢—ã –Ω–∞–ø–æ–ª–Ω–∏–ª(–∞) –º–æ—é –∂–∏–∑–Ω—å —Å–º—ã—Å–ª–æ–º üß°", category: "grateful" },
                { id: 35, text: "–°–ø–∞—Å–∏–±–æ, —á—Ç–æ –æ—Å—Ç–∞—ë—à—å—Å—è —Ä—è–¥–æ–º –≤ –ª—é–±–æ–π —Å–∏—Ç—É–∞—Ü–∏–∏ üõ°Ô∏è", category: "grateful" },
                { id: 36, text: "–ë–µ–∑ —Ç–µ–±—è –º–æ—è –∂–∏–∑–Ω—å –±—ã–ª–∞ –±—ã —Å–µ—Ä–æ–π üé®‚û°Ô∏èüé®", category: "grateful" },
                { id: 37, text: "–Ø –±–ª–∞–≥–æ–¥–∞—Ä–µ–Ω(–∞), —á—Ç–æ —Ç—ã –≤—ã–±—Ä–∞–ª(–∞) –º–µ–Ω—è ‚ù§Ô∏è", category: "grateful" },
                { id: 38, text: "–¢—ã –¥–∞–ª(–∞) –º–Ω–µ —à–∞–Ω—Å —Å–Ω–æ–≤–∞ –≤–µ—Ä–∏—Ç—å –≤ –ª—é–±–æ–≤—å üíï", category: "grateful" },
                { id: 39, text: "–°–ø–∞—Å–∏–±–æ –∑–∞ –∫–∞–∂–¥—ã–π —Ç–≤–æ–π –≤–∑–≥–ª—è–¥ –∏ —É–ª—ã–±–∫—É ü•∞", category: "grateful" },
                { id: 40, text: "–¢—ã ‚Äî –ø–æ–¥–∞—Ä–æ–∫, –∫–æ—Ç–æ—Ä—ã–π —è –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –∑–∞—Å–ª—É–∂–∏–≤–∞–ª(–∞) üéÅ", category: "grateful" },

                // growing ‚Äî –†–∞—Å—Ç—É—â–∏–µ
                { id: 41, text: "–ú–æ—è –ª—é–±–æ–≤—å –∫ —Ç–µ–±–µ —Ä–∞—Å—Ç–µ—Ç —Å –∫–∞–∂–¥—ã–º –¥–Ω–µ–º üå±", category: "growing" },
                { id: 42, text: "–ö–∞–∂–¥—ã–π –¥–µ–Ω—å —è –æ—Ç–∫—Ä—ã–≤–∞—é –≤ —Ç–µ–±–µ —á—Ç–æ-—Ç–æ –Ω–æ–≤–æ–µ üîç", category: "growing" },
                { id: 43, text: "–ú–æ—è —Å–≤—è–∑—å —Å —Ç–æ–±–æ–π —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –≥–ª—É–±–∂–µ üîÑ", category: "growing" },
                { id: 44, text: "–° –∫–∞–∂–¥—ã–º –¥–Ω—ë–º —è —Ü–µ–Ω—é —Ç–µ–±—è –≤—Å—ë –±–æ–ª—å—à–µ üíé", category: "growing" },
                { id: 45, text: "–¢—ã —Å—Ç–∞–Ω–æ–≤–∏—à—å—Å—è –≤–∞–∂–Ω–µ–µ –≤–æ–∑–¥—É—Ö–∞ –¥–ª—è –º–µ–Ω—è ü´Å", category: "growing" },
                { id: 46, text: "–ú–æ—è –ª—é–±–æ–≤—å –∫ —Ç–µ–±–µ –Ω–∞–±–∏—Ä–∞–µ—Ç –Ω–æ–≤—ã–µ –æ–±–æ—Ä–æ—Ç—ã üöÄ", category: "growing" },
                { id: 47, text: "–¢—ã –∫–∞–∂–¥—ã–π –¥–µ–Ω—å —É–¥–∏–≤–ª—è–µ—à—å –º–µ–Ω—è –ø–æ-–Ω–æ–≤–æ–º—É üåà", category: "growing" },
                { id: 48, text: "–° –∫–∞–∂–¥—ã–º –ø–æ—Ü–µ–ª—É–µ–º —è –≤–ª—é–±–ª—è—é—Å—å —Å–∏–ª—å–Ω–µ–µ üíã", category: "growing" },
                { id: 49, text: "–ù–∞—à–∏ –æ—Ç–Ω–æ—à–µ–Ω–∏—è —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –∫—Ä–µ–ø—á–µ —Å –∫–∞–∂–¥—ã–º –º–µ—Å—è—Ü–µ–º üìÜ", category: "growing" },
                { id: 50, text: "–¢—ã ‚Äî –º–æ–π —Ä–æ—Å—Ç, –º–æ—è —ç–≤–æ–ª—é—Ü–∏—è üåø", category: "growing" },

                // supportive ‚Äî –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–∏–µ
                { id: 51, text: "–¢—ã - –º–æ–µ –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ –∏ –º–æ—è —Å–∏–ª–∞ üí™", category: "supportive" },
                { id: 52, text: "–° —Ç–æ–±–æ–π —è –º–æ–≥—É –ø—Ä–µ–æ–¥–æ–ª–µ—Ç—å –ª—é–±—ã–µ —Ç—Ä—É–¥–Ω–æ—Å—Ç–∏ üèîÔ∏è", category: "supportive" },
                { id: 53, text: "–¢—ã –≤—Å–µ–≥–¥–∞ –ø–æ–¥–¥–µ—Ä–∂–∏—à—å, –∫–æ–≥–¥–∞ –º–Ω–µ —Ç—è–∂–µ–ª–æ ü§ù", category: "supportive" },
                { id: 54, text: "–¢—ã –º–æ–π –æ–ø—Ç–∏–º–∏–∑–º –≤ –º–∏–Ω—É—Ç—ã —Å–æ–º–Ω–µ–Ω–∏–π üí¨", category: "supportive" },
                { id: 55, text: "–¢—ã –ø–æ–º–æ–≥–∞–µ—à—å –º–Ω–µ –≤–µ—Ä–∏—Ç—å –≤ —Å–µ–±—è üßë‚Äçüíº", category: "supportive" },
                { id: 56, text: "–° —Ç–æ–±–æ–π —è —á—É–≤—Å—Ç–≤—É—é —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å üõ°Ô∏è", category: "supportive" },
                { id: 57, text: "–¢—ã ‚Äî –º–æ–π —Ç–∏—Ö–∏–π –ø–æ—Ä—Ç –≤ —à—Ç–æ—Ä–º üåä", category: "supportive" },
                { id: 58, text: "–¢—ã –¥–∞—ë—à—å –º–Ω–µ —Å–∏–ª—ã –¥–≤–∏–≥–∞—Ç—å—Å—è –¥–∞–ª—å—à–µ ‚ö°", category: "supportive" },
                { id: 59, text: "–¢—ã –º–æ–π —â–∏—Ç –∏ –º–µ—á –≤ –æ–¥–Ω–æ–π –¥—É—à–µ ‚öîÔ∏èüõ°Ô∏è", category: "supportive" },
                { id: 60, text: "–° —Ç–æ–±–æ–π —è –Ω–µ –±–æ—é—Å—å –±—ã—Ç—å —Å–æ–±–æ–π ü´∂", category: "supportive" },

                // intimate ‚Äî –ò–Ω—Ç–∏–º–Ω—ã–µ
                { id: 61, text: "–¢–≤–æ–∏ –æ–±—ä—è—Ç–∏—è - –º–æ–π –¥–æ–º, —Ç–≤–æ–∏ –≥—É–±—ã - –º–æ–π —Ä–∞–π üè†", category: "intimate" },
                { id: 62, text: "–ö–∞–∂–¥—ã–π –ø–æ—Ü–µ–ª—É–π —Å —Ç–æ–±–æ–π - —ç—Ç–æ –Ω–æ–≤–∞—è –∏—Å—Ç–æ—Ä–∏—è –ª—é–±–≤–∏ üíã", category: "intimate" },
                { id: 63, text: "–¢—ã –∑–Ω–∞–µ—à—å, –∫–∞–∫ —Ç—Ä–æ–≥–∞—Ç—å –º–µ–Ω—è –Ω–µ —Ç–æ–ª—å–∫–æ —Ä—É–∫–∞–º–∏ ü´∂", category: "intimate" },
                { id: 64, text: "–¢—ã –ø—Ä–æ–±—É–∂–¥–∞–µ—à—å –≤–æ –º–Ω–µ —Å—Ç—Ä–∞—Å—Ç—å, –∫–æ—Ç–æ—Ä–æ–π –Ω–µ –±—ã–ª–æ —Ä–∞–Ω—å—à–µ üî•", category: "intimate" },
                { id: 65, text: "–° —Ç–æ–±–æ–π —è —á—É–≤—Å—Ç–≤—É—é –µ–¥–∏–Ω—Å—Ç–≤–æ –¥—É—à –∏ —Ç–µ–ª üß†‚ù§Ô∏èü´Ä", category: "intimate" },
                { id: 66, text: "–¢—ã ‚Äî –º–æ–π —Å–∞–º—ã–π —Å–ª–∞–¥–∫–∏–π —Å–µ–∫—Ä–µ—Ç ü§´", category: "intimate" },
                { id: 67, text: "–¢—ã –∑–Ω–∞–µ—à—å, –∫–∞–∫ —Å–¥–µ–ª–∞—Ç—å –Ω–æ—á—å –æ—Å–æ–±–µ–Ω–Ω–æ–π üåô", category: "intimate" },
                { id: 68, text: "–¢—ã ‚Äî –º–æ—è —Å–∞–º–∞—è –∂–µ–ª–∞–Ω–Ω–∞—è –º—ã—Å–ª—å –ø–µ—Ä–µ–¥ —Å–Ω–æ–º üõèÔ∏è", category: "intimate" },
                { id: 69, text: "–° —Ç–æ–±–æ–π –¥–∞–∂–µ —Ç–∏—à–∏–Ω–∞ –≥–æ–≤–æ—Ä–∏—Ç –æ –ª—é–±–≤–∏ ü§ê‚ù§Ô∏è", category: "intimate" },
                { id: 70, text: "–¢—ã ‚Äî –º–æ–µ ¬´—Å–ª–∏—à–∫–æ–º –ª–∏—á–Ω–æ–µ¬ª, —á—Ç–æ–±—ã –¥–µ–ª–∏—Ç—å—Å—è —Å –∫–µ–º-—Ç–æ üíå", category: "intimate" },

                // daily ‚Äî –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ
                { id: 71, text: "–ö–∞–∂–¥–æ–µ —É—Ç—Ä–æ —Å —Ç–æ–±–æ–π - —ç—Ç–æ –ø–æ–¥–∞—Ä–æ–∫ —Å—É–¥—å–±—ã üéÅ", category: "daily" },
                { id: 72, text: "–û–±—ã—á–Ω—ã–π –¥–µ–Ω—å —Å —Ç–æ–±–æ–π –ª—É—á—à–µ –ø—Ä–∞–∑–¥–Ω–∏–∫–∞ –±–µ–∑ —Ç–µ–±—è üìÖ", category: "daily" },
                { id: 73, text: "–¢—ã –¥–µ–ª–∞–µ—à—å –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –æ—Å–æ–±–µ–Ω–Ω—ã–º üåü", category: "daily" },
                { id: 74, text: "–î–∞–∂–µ –∑–∞–≤—Ç—Ä–∞–∫ —Å —Ç–æ–±–æ–π ‚Äî –ø—Ä–∞–∑–¥–Ω–∏–∫ üç≥", category: "daily" },
                { id: 75, text: "–¢—ã ‚Äî –ø—Ä–∏—á–∏–Ω–∞, –ø–æ—á–µ–º—É —è —Ö–æ—á—É –ø—Ä–æ—Å—ã–ø–∞—Ç—å—Å—è —É—Ç—Ä–∞–º üõèÔ∏è", category: "daily" },
                { id: 76, text: "–¢—ã –ø—Ä–µ–≤—Ä–∞—â–∞–µ—à—å –±—É–¥–Ω–∏ –≤ –≤—ã—Ö–æ–¥–Ω—ã–µ üéâ", category: "daily" },
                { id: 77, text: "–¢—ã ‚Äî –º–æ–π –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–π –∑–∞—Ä—è–¥ —Ä–∞–¥–æ—Å—Ç–∏ üì≤", category: "daily" },
                { id: 78, text: "–¢—ã ‚Äî –º–æ—è –ª—é–±–∏–º–∞—è —á–∞—Å—Ç—å –¥–Ω—è üïí", category: "daily" },
                { id: 79, text: "–î–∞–∂–µ –≤–µ—á–µ—Ä —Å —Ç–æ–±–æ–π ‚Äî –∫–∞–∫ –æ—Ç–¥—ã—Ö –¥—É—à–∏ üåô", category: "daily" },
                { id: 80, text: "–¢—ã –¥–µ–ª–∞–µ—à—å –ø—Ä–æ—Å—Ç—ã–µ –¥–Ω–∏ –Ω–µ–≤–µ—Ä–æ—è—Ç–Ω—ã–º–∏ üåà", category: "daily" },

                // magical ‚Äî –í–æ–ª—à–µ–±–Ω—ã–µ
                { id: 81, text: "–¢—ã –ø—Ä–µ–≤—Ä–∞—â–∞–µ—à—å –æ–±—ã—á–Ω—ã–µ –¥–Ω–∏ –≤ –≤–æ–ª—à–µ–±–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã ‚ú®", category: "magical" },
                { id: 82, text: "–° —Ç–æ–±–æ–π —Ä–µ–∞–ª—å–Ω–æ—Å—Ç—å —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Å–∫–∞–∑–∫–æ–π üè∞", category: "magical" },
                { id: 83, text: "–¢—ã ‚Äî –∫–∞–∫ –≤–æ–ª—à–µ–±–Ω–∞—è –∫–Ω–∏–≥–∞, –∫–æ—Ç–æ—Ä—É—é —Ö–æ—á–µ—Ç—Å—è –ø–µ—Ä–µ—á–∏—Ç—ã–≤–∞—Ç—å üìö", category: "magical" },
                { id: 84, text: "–° —Ç–æ–±–æ–π –¥–∞–∂–µ –¥–æ–∂–¥—å –ø–∞—Ö–Ω–µ—Ç –≤–æ–ª—à–µ–±—Å—Ç–≤–æ–º üåßÔ∏è‚ú®", category: "magical" },
                { id: 85, text: "–¢—ã ‚Äî –∫–∞–∫ —Ñ–µ—è, –∫–æ—Ç–æ—Ä–∞—è –¥–∞—Ä–∏—Ç –º–Ω–µ —á—É–¥–µ—Å–∞ üßö‚Äç‚ôÄÔ∏è", category: "magical" },
                { id: 86, text: "–¢—ã –ø—Ä–µ–≤—Ä–∞—â–∞–µ—à—å —Å–ª—É—á–∞–π–Ω–æ—Å—Ç–∏ –≤ —Å—É–¥—å–±—É üåü", category: "magical" },
                { id: 87, text: "–¢—ã ‚Äî –∫–∞–∫ –ø–æ—Ä—Ç–∞–ª –≤ –¥—Ä—É–≥–æ–π, –ª—É—á—à–∏–π –º–∏—Ä üåÄ", category: "magical" },
                { id: 88, text: "–° —Ç–æ–±–æ–π –≤—Ä–µ–º—è –∑–∞–º–µ–¥–ª—è–µ—Ç—Å—è –∏ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –≤–æ–ª—à–µ–±–Ω—ã–º ‚è≥", category: "magical" },
                { id: 89, text: "–¢—ã ‚Äî –∫–∞–∫ –∑–≤–µ–∑–¥–∞, –∫–æ—Ç–æ—Ä–∞—è –∑–∞–≥–æ—Ä–µ–ª–∞—Å—å –≤ –º–æ–µ–π –≤—Å–µ–ª–µ–Ω–Ω–æ–π üåå", category: "magical" },
                { id: 90, text: "–¢—ã ‚Äî –º–∞–≥–∏—è, –∫–æ—Ç–æ—Ä–∞—è –∂–∏–≤—ë—Ç –≤ –º–æ—ë–º —Å–µ—Ä–¥—Ü–µ ü™Ñ", category: "magical" },

                // commitment ‚Äî –ü—Ä–µ–¥–∞–Ω–Ω–æ—Å—Ç—å
                { id: 91, text: "–ú–æ–µ —Å–µ—Ä–¥—Ü–µ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç —Ç–æ–ª—å–∫–æ —Ç–µ–±–µ, –Ω–∞–≤—Å–µ–≥–¥–∞ üíù", category: "commitment" },
                { id: 92, text: "–¢—ã - –º–æ–µ –Ω–∞–≤—Å–µ–≥–¥–∞, –º–æ—è –≤–µ—á–Ω–æ—Å—Ç—å üîÑ", category: "commitment" },
                { id: 93, text: "–Ø —Å —Ç–æ–±–æ–π –Ω–µ –Ω–∞ –æ–¥–∏–Ω —Å–µ–∑–æ–Ω, –∞ –Ω–∞ –≤—Å—é –∂–∏–∑–Ω—å üßë‚Äçü§ù‚Äçüßë", category: "commitment" },
                { id: 94, text: "–¢—ã ‚Äî –º–æ—è –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è –≥–ª–∞–≤–Ω–∞—è —Ä–æ–ª—å üé≠", category: "commitment" },
                { id: 95, text: "–Ø –≥–æ—Ç–æ–≤ —Å—Ç–∞—Ä–µ—Ç—å —Å —Ç–æ–±–æ–π –≥–æ–¥ –∑–∞ –≥–æ–¥–æ–º üßì‚Äç‚ôÇÔ∏èüßì‚Äç‚ôÄÔ∏è", category: "commitment" },
                { id: 96, text: "–ù–∞—à–∞ –ª—é–±–æ–≤—å ‚Äî –º–æ—è –≥–ª–∞–≤–Ω–∞—è –≤–µ—Ä–∞ üíç", category: "commitment" },
                { id: 97, text: "–¢—ã ‚Äî –º–æ—è –∫–ª—è—Ç–≤–∞ –±–µ–∑ —Å–ª–æ–≤ ü§ù", category: "commitment" },
                { id: 98, text: "–Ø –æ—Å—Ç–∞—é—Å—å —Å —Ç–æ–±–æ–π, –ø–æ—Ç–æ–º—É —á—Ç–æ —Ö–æ—á—É, –∞ –Ω–µ –¥–æ–ª–∂–µ–Ω üíû", category: "commitment" },
                { id: 99, text: "–¢—ã ‚Äî –º–æ—è –ø—Ä–µ–¥–∞–Ω–Ω–æ—Å—Ç—å –≤ –¥–µ–π—Å—Ç–≤–∏–∏ üõ°Ô∏è‚ù§Ô∏è", category: "commitment" },
                { id: 100, text: "–° —Ç–æ–±–æ–π —è –≤—ã–±–∏—Ä–∞—é –æ–¥–Ω—É –¥–æ—Ä–æ–≥—É ‚Äî –¥–æ –∫–æ–Ω—Ü–∞ üö∂‚Äç‚ôÇÔ∏èüîö", category: "commitment" }
            ];
             
            // –ö–∞—Ç–µ–≥–æ—Ä–∏–∏
            const categories = {
                romantic: "–†–æ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–µ",
                deep: "–ì–ª—É–±–æ–∫–∏–µ",
                compliment: "–ö–æ–º–ø–ª–∏–º–µ–Ω—Ç—ã",
                grateful: "–ë–ª–∞–≥–æ–¥–∞—Ä–Ω—ã–µ",
                growing: "–†–∞—Å—Ç—É—â–∏–µ",
                supportive: "–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–∏–µ",
                intimate: "–ò–Ω—Ç–∏–º–Ω—ã–µ",
                daily: "–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ",
                magical: "–í–æ–ª—à–µ–±–Ω—ã–µ",
                commitment: "–ü—Ä–µ–¥–∞–Ω–Ω–æ—Å—Ç—å"
            };

            // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π –∏–∑ –ø–∞–ø–∫–∏ photos
            const generateCustomPhotos = () => {
                const photos = [];
                const photoTitles = [
                  '–ù–∞—à–µ –ø–µ—Ä–≤–æ–µ —Å–≤–∏–¥–∞–Ω–∏–µ', '–ü–µ—Ä–≤—ã–π –º–µ—Å—è—Ü –≤–º–µ—Å—Ç–µ', '–î–µ–Ω—å —Å–≤—è—Ç–æ–≥–æ –í–∞–ª–µ–Ω—Ç–∏–Ω–∞', 
                  '–ü–æ–µ–∑–¥–∫–∞ –∫ –º–æ—Ä—é', '–†–æ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π —É–∂–∏–Ω', '–ü—Ä–æ–≥—É–ª–∫–∞ –≤ –ø–∞—Ä–∫–µ', '8 –º–∞—Ä—Ç–∞',
                  '–ü–∏–∫–Ω–∏–∫ –Ω–∞ –ø—Ä–∏—Ä–æ–¥–µ', '–î–æ–º–∞—à–Ω–∏–π –≤–µ—á–µ—Ä', '–ü–æ–ª–≥–æ–¥–∞ –≤–º–µ—Å—Ç–µ', '–û—Ç–ø—É—Å–∫ –≤ –≥–æ—Ä–∞—Ö',
                  '–ù–æ–≤–æ–≥–æ–¥–Ω—è—è –Ω–æ—á—å', '–î–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è', '–ü–æ—Ö–æ–¥ –≤ —Ç–µ–∞—Ç—Ä', '–í—Å—Ç—Ä–µ—á–∞ —Å –¥—Ä—É–∑—å—è–º–∏',
                  '–û—Å–µ–Ω–Ω—è—è –ø—Ä–æ–≥—É–ª–∫–∞', '–ó–∏–º–Ω–∏–µ –∫–∞–Ω–∏–∫—É–ª—ã', '–ì–æ–¥–æ–≤—â–∏–Ω–∞', '–í–µ—Å–µ–Ω–Ω–∏–µ —Ü–≤–µ—Ç—ã', '–ü–ª–∞–Ω—ã –Ω–∞ –±—É–¥—É—â–µ–µ'
               ];
    
                for (let i = 1; i <= 20; i++) {
                  const photoNumber = i.toString().padStart(2, '0');
                  photos.push({
                    url: `photos/${photoNumber}.jpg`,
                    title: photoTitles[i - 1] || `–§–æ—Ç–æ ${photoNumber}`,
                    id: `custom-${photoNumber}`,
                    isCustom: true
                  });
                }
                return photos;
          };

  const customPhotos = generateCustomPhotos();
  const allGalleryImages = customPhotos;

            // –î–û–ë–ê–í–õ–ï–ù–û: –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–∞—Ä–æ–ª—è
            const handlePasswordSubmit = (e) => {
                e.preventDefault();
                
                if (passwordInput === SECRET_PASSWORD) {
                    setIsAuthenticated(true);
                    setShowPasswordModal(false);
                    setPasswordError('');
                    
                    // –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ localStorage –¥–ª—è —Å–µ–∞–Ω—Å–∞
                    localStorage.setItem('romantic_app_authenticated', 'true');
                } else {
                    setAttemptCount(prev => prev + 1);
                    setPasswordError('–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–∞—Ä–æ–ª—å. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.');
                    setPasswordInput('');
                    
                    // –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø–æ—Å–ª–µ 3 –Ω–µ—É–¥–∞—á–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫
                    if (attemptCount >= 2) {
                        setPasswordError('–°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –ø–æ–ø—ã—Ç–æ–∫. –ü–æ–¥–æ–∂–¥–∏—Ç–µ 30 —Å–µ–∫—É–Ω–¥.');
                        setTimeout(() => {
                            setAttemptCount(0);
                            setPasswordError('');
                        }, 30000);
                    }
                }
            };

            // –î–û–ë–ê–í–õ–ï–ù–û: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
            React.useEffect(() => {
                const isAuth = localStorage.getItem('romantic_app_authenticated');
                if (isAuth === 'true') {
                    setIsAuthenticated(true);
                    setShowPasswordModal(false);
                }
            }, []);

            // –î–û–ë–ê–í–õ–ï–ù–û: –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏
            const requestNotificationPermission = async () => {
                if ('Notification' in window) {
                    const permission = await Notification.requestPermission();
                    setNotificationPermission(permission);
                    return permission === 'granted';
                }
                return false;
            };

            const sendNotification = (title, body, icon = 'üíï') => {
                if (notificationPermission === 'granted') {
                    const notification = new Notification(title, {
                        body: body,
                        icon: `data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><text y=".9em" font-size="90">${icon}</text></svg>`,
                        badge: `data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><text y=".9em" font-size="90">üíï</text></svg>`,
                        tag: 'romantic-app',
                        requireInteraction: true
                    });

                    notification.onclick = () => {
                        window.focus();
                        notification.close();
                    };

                    setTimeout(() => notification.close(), 10000);
                }
            };

            const checkUpcomingEvents = () => {
                const today = new Date();
                const upcoming = [];

                // –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–∞–∂–Ω—ã—Ö –¥–∞—Ç
                if (notificationSettings.importantDates) {
                    importantDates.forEach(dateItem => {
                        const eventDate = new Date(dateItem.date);
                        const daysUntil = Math.ceil((eventDate - today) / (1000 * 60 * 60 * 24));
                        
                        if (daysUntil > 0 && daysUntil <= notificationSettings.advanceNotice) {
                            upcoming.push({
                                ...dateItem,
                                daysUntil,
                                type: 'event'
                            });
                        }

                        // –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ –¥–µ–Ω—å —Å–æ–±—ã—Ç–∏—è
                        if (daysUntil === 0) {
                            sendNotification(
                                `üéâ ${dateItem.title}`,
                                `–°–µ–≥–æ–¥–Ω—è –æ—Å–æ–±–µ–Ω–Ω—ã–π –¥–µ–Ω—å! ${dateItem.description}`,
                                dateItem.emoji
                            );
                        }
                    });
                }

                // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫—Ä—É–≥–ª—ã—Ö –¥–∞—Ç
                if (notificationSettings.milestones) {
                    const nextMilestone = Math.ceil(daysTogether / notificationSettings.milestoneInterval) * notificationSettings.milestoneInterval;
                    const daysToMilestone = nextMilestone - daysTogether;
                    
                    if (daysToMilestone <= notificationSettings.advanceNotice && daysToMilestone > 0) {
                        upcoming.push({
                            title: `${nextMilestone} –¥–Ω–µ–π –≤–º–µ—Å—Ç–µ`,
                            description: `–°–∫–æ—Ä–æ –∫—Ä—É–≥–ª–∞—è –¥–∞—Ç–∞!`,
                            emoji: 'üéä',
                            daysUntil: daysToMilestone,
                            type: 'milestone'
                        });
                    }

                    // –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ –∫—Ä—É–≥–ª–æ–π –¥–∞—Ç—ã
                    if (daysTogether % notificationSettings.milestoneInterval === 0 && daysTogether > 0) {
                        const lastCheck = localStorage.getItem('last_milestone_notification');
                        if (lastCheck !== daysTogether.toString()) {
                            sendNotification(
                                `üéä ${daysTogether} –¥–Ω–µ–π –≤–º–µ—Å—Ç–µ!`,
                                `–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º —Å –∫—Ä—É–≥–ª–æ–π –¥–∞—Ç–æ–π! –í—ã –≤–º–µ—Å—Ç–µ —É–∂–µ ${daysTogether} –¥–Ω–µ–π!`,
                                'üéä'
                            );
                            localStorage.setItem('last_milestone_notification', daysTogether.toString());
                        }
                    }
                }

                setUpcomingNotifications(upcoming);
                setHasUpcomingNotification(upcoming.length > 0);
                setLastNotificationCheck(new Date());

                // –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
                localStorage.setItem('notification_settings', JSON.stringify(notificationSettings));
            };

            const loadNotificationSettings = () => {
                const saved = localStorage.getItem('notification_settings');
                if (saved) {
                    setNotificationSettings(JSON.parse(saved));
                }
                
                if ('Notification' in window) {
                    setNotificationPermission(Notification.permission);
                }
            };
                      
            // –í–∞–∂–Ω—ã–µ –¥–∞—Ç—ã
            const importantDates = [
                { date: '206-07-21', title: '–î–µ–Ω—å –∑–Ω–∞–∫–æ–º—Å—Ç–≤–∞', description: '–ù–∞—à–∞ –ø–µ—Ä–≤–∞—è –≤—Å—Ç—Ä–µ—á–∞', emoji: 'üí´' },
                { date: '2026-02-14', title: '–î–µ–Ω—å —Å–≤—è—Ç–æ–≥–æ –í–∞–ª–µ–Ω—Ç–∏–Ω–∞', description: '–ù–∞—à –î–µ–Ω—å –≤–ª—é–±–ª–µ–Ω–Ω—ã—Ö', emoji: 'üíï' },
                { date: '2026-03-08', title: '8 –º–∞—Ä—Ç–∞', description: '–ü—Ä–∞–∑–¥–Ω–∏–∫ –º–æ–µ–π –ø—Ä–∏–Ω—Ü–µ—Å—Å—ã', emoji: 'üå∫' },
                { date: '2025-12-31', title: '–ù–æ–≤—ã–π –≥–æ–¥', description: '–í—Å—Ç—Ä–µ—á–∞–µ–º –≤–º–µ—Å—Ç–µ', emoji: 'üéâ' },
                { date: '2025-08-01', title: '–ì–æ–¥–æ–≤—â–∏–Ω–∞', description: '–ì–æ–¥–æ–≤—â–∏–Ω–∞ –Ω–∞—à–µ–π —Å–≤–∞–¥—å–±—ã', emoji: 'üíé' }
            ];
            
            // –ò—Å—Ç–æ—Ä–∏—è –ª—é–±–≤–∏
            const loveStory = {
                chapters: [
                    { date: "–ü–µ—Ä–≤–∞—è –≤—Å—Ç—Ä–µ—á–∞", text: "–ü–æ–º–Ω—é —Ç–æ—Ç –¥–µ–Ω—å, –∫–æ–≥–¥–∞ –º—ã –≤–ø–µ—Ä–≤—ã–µ –≤—Å—Ç—Ä–µ—Ç–∏–ª–∏—Å—å. –¢—ã –ø—Ä–µ–¥–ª–æ–∂–∏–ª–∞ –ø–æ–º–æ—á—å —Ä–∞—Å–ø—É—Ç–∞—Ç—å –ø–ª–µ—Ç–µ–Ω–∫—É. –¢–≤–æ–∏ –≥–ª–∞–∑–∞ —Å–∏—è–ª–∏ —Ç–∞–∫ —è—Ä–∫–æ, —á—Ç–æ —è –ø–æ–Ω—è–ª - –º–æ—è –∂–∏–∑–Ω—å –∏–∑–º–µ–Ω–∏–ª–∞—Å—å –Ω–∞–≤—Å–µ–≥–¥–∞.", emotion: "üí´" },
                    { date: "–ü–µ—Ä–≤–æ–µ —Å–≤–∏–¥–∞–Ω–∏–µ", text: "–ù–∞—à–µ –ø–µ—Ä–≤–æ–µ —Å–≤–∏–¥–∞–Ω–∏–µ –±—ã–ª–æ –∫–∞–∫ –≤ —Å–∫–∞–∑–∫–µ. –ú—ã –≥–æ–≤–æ—Ä–∏–ª–∏ —á–∞—Å–∞–º–∏, –∏ –≤—Ä–µ–º—è –ø—Ä–æ—Å—Ç–æ –æ—Å—Ç–∞–Ω–æ–≤–∏–ª–æ—Å—å, –∏ –ø–æ—Ç–µ—Ä—è–≤ –≥–æ–ª–æ–≤—É —è –∑–∞–±—ã–ª —Å–≤–æ–∏ –ª—é–±–∏–º—ã–µ –ø–µ—Ä—á–∞—Ç–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–¥–ª–æ–∂–∏–ª —Ç–µ–±–µ –ø–æ–¥ –∂–æ–ø–∫—É.", emotion: "üíï" },
                    { date: "–ü—Ä–∏–∑–Ω–∞–Ω–∏–µ", text: "–ö–æ–≥–¥–∞ —è –≤–ø–µ—Ä–≤—ã–µ —Å–∫–∞–∑–∞–ª —Ç–µ–±–µ '–Ø –ª—é–±–ª—é —Ç–µ–±—è', –º–æ–µ —Å–µ—Ä–¥—Ü–µ –±–∏–ª–æ—Å—å —Ç–∞–∫ –±—ã—Å—Ç—Ä–æ. –¢–≤–æ–π –æ—Ç–≤–µ—Ç —Å—Ç–∞–ª —Å–∞–º—ã–º —Å—á–∞—Å—Ç–ª–∏–≤—ã–º –º–æ–º–µ–Ω—Ç–æ–º –≤ –º–æ–µ–π –∂–∏–∑–Ω–∏, –Ω–µ—Å–º–æ—Ç—Ä—è –Ω–∞ —Ç–æ —á—Ç–æ –º—ã –±—ã–ª–∏ –≤ –ø–æ–¥–≤–∞–ª–µ!", emotion: "‚ù§Ô∏è" },
                    { date: "–°–µ–≥–æ–¥–Ω—è", text: "–ö–∞–∂–¥—ã–π –¥–µ–Ω—å —Å —Ç–æ–±–æ–π - —ç—Ç–æ –Ω–æ–≤–æ–µ –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏–µ. –ú–æ—è –ª—é–±–æ–≤—å –∫ —Ç–µ–±–µ —Ç–æ–ª—å–∫–æ —Ä–∞—Å—Ç–µ—Ç.", emotion: "üåü" }
                ]
            };
                        
            // –≠—Ñ—Ñ–µ–∫—Ç—ã
            useEffect(() => {
                const today = new Date();
                const diffTime = Math.abs(today - relationshipStart);
                const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
                setDaysTogether(diffDays);
            }, []);

            useEffect(() => {
                loadNotificationSettings();
            }, []);

            useEffect(() => {
                if (isAuthenticated) {
                    checkUpcomingEvents();
                    
                    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–∂–¥—ã–µ 60 –º–∏–Ω—É—Ç
                    const interval = setInterval(checkUpcomingEvents, 60 * 60 * 1000);
                    return () => clearInterval(interval);
                }
            }, [isAuthenticated, daysTogether, notificationSettings]);
            
            // –°–º–µ–Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
            useEffect(() => {
                const interval = setInterval(() => {
                    setCurrentImageIndex((prev) => (prev + 1) % galleryImages.length);
                }, 8000);
                return () => clearInterval(interval);
            }, []);
            
            // –ê–Ω–∏–º–∞—Ü–∏—è –ª–µ–ø–µ—Å—Ç–∫–æ–≤
            useEffect(() => {
                const createPetal = () => {
                    const petal = {
                        id: Date.now() + Math.random(),
                        left: Math.random() * 100,
                        animationDuration: 3 + Math.random() * 3,
                        size: 12 + Math.random() * 8,
                        rotation: Math.random() * 360
                    };
                    setPetals(prev => [...prev, petal]);
                    setTimeout(() => {
                        setPetals(prev => prev.filter(p => p.id !== petal.id));
                    }, petal.animationDuration * 1000);
                };
                const interval = setInterval(createPetal, 4000);
                return () => clearInterval(interval);
            }, []);
            
            // –ê–Ω–∏–º–∞—Ü–∏—è —Å–µ—Ä–¥–µ—á–µ–∫
            useEffect(() => {
                const animateHearts = () => {
                    setHearts(prev => 
                        prev.map(heart => ({
                            ...heart,
                            y: heart.y + heart.vy,
                            vy: heart.vy + 0.1,
                            life: heart.life - 0.02
                        })).filter(heart => heart.life > 0)
                    );
                };
                const interval = setInterval(animateHearts, 16);
                return () => clearInterval(interval);
            }, []);
            
            // –§—É–Ω–∫—Ü–∏–∏
            const getFilteredMessages = () => {
                if (selectedCategory === 'all') return loveMessages;
                return loveMessages.filter(msg => msg.category === selectedCategory);
            };
            
            const generateLoveMessage = () => {
                const filtered = getFilteredMessages();
                const randomIndex = Math.floor(Math.random() * filtered.length);
                setCurrentLoveMessage(filtered[randomIndex]);
            };
            
            const createHeartParticles = (event) => {
                const rect = event.currentTarget.getBoundingClientRect();
                const centerX = rect.left + rect.width / 2;
                const centerY = rect.top + rect.height / 2;
                
                for (let i = 0; i < 3; i++) {
                    const heart = {
                        id: Date.now() + Math.random(),
                        x: centerX,
                        y: centerY,
                        vy: -Math.random() * 2 - 1,
                        life: 1,
                        size: 12 + Math.random() * 8
                    };
                    setHearts(prev => [...prev, heart]);
                }
            };
            
            const getCategoryIcon = (category) => {
                const icons = {
                    romantic: 'üíï', deep: '‚ù§Ô∏è', compliment: 'üåü', grateful: 'üôè', growing: 'üå±',
                    supportive: 'üí™', intimate: 'üíã', daily: '‚òÄÔ∏è', magical: '‚ú®', commitment: 'üíç'
                };
                return icons[category] || 'üíù';
            };

            // –î–û–ë–ê–í–õ–ï–ù–û: –ï—Å–ª–∏ –Ω–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω, –ø–æ–∫–∞–∑–∞—Ç—å —Ñ–æ—Ä–º—É –ø–∞—Ä–æ–ª—è
            if (!isAuthenticated) {
                return (
                    <div style={{ 
                        minHeight: '100vh', 
                        backgroundColor: '#fce7f3',
                        display: 'flex',
                        alignItems: 'center',
                        justifyContent: 'center',
                        fontFamily: 'Arial, sans-serif'
                    }}>
                        <div style={{
                            backgroundColor: 'white',
                            borderRadius: '20px',
                            padding: '40px',
                            maxWidth: '400px',
                            width: '90%',
                            boxShadow: '0 20px 40px rgba(0,0,0,0.1)',
                            textAlign: 'center'
                        }}>
                            <div style={{ fontSize: '64px', marginBottom: '20px' }}>üîí</div>
                            <h2 style={{ 
                                fontSize: '24px', 
                                fontWeight: 'bold', 
                                marginBottom: '10px',
                                color: '#ec4899'
                            }}>
                                –ü—Ä–∏–≤–∞—Ç–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
                            </h2>
                            <p style={{ 
                                color: '#6b7280', 
                                fontSize: '14px', 
                                marginBottom: '30px' 
                            }}>
                                –í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ —Ä–æ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–º—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é
                            </p>
                            
                            <form onSubmit={handlePasswordSubmit}>
                                <input
                                    type="password"
                                    value={passwordInput}
                                    onChange={(e) => setPasswordInput(e.target.value)}
                                    placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å"
                                    disabled={attemptCount >= 3}
                                    style={{
                                        width: '100%',
                                        padding: '15px',
                                        fontSize: '16px',
                                        borderRadius: '15px',
                                        border: '2px solid #e5e7eb',
                                        marginBottom: '20px',
                                        textAlign: 'center',
                                        outline: 'none'
                                    }}
                                />
                                
                                {passwordError && (
                                    <div style={{ 
                                        color: '#dc2626', 
                                        fontSize: '14px', 
                                        marginBottom: '20px',
                                        padding: '10px',
                                        backgroundColor: '#fee2e2',
                                        borderRadius: '10px'
                                    }}>
                                        {passwordError}
                                    </div>
                                )}
                                
                                <button
                                    type="submit"
                                    disabled={attemptCount >= 3 || !passwordInput}
                                    style={{
                                        width: '100%',
                                        padding: '15px',
                                        fontSize: '16px',
                                        fontWeight: 'bold',
                                        color: 'white',
                                        backgroundColor: attemptCount >= 3 ? '#9ca3af' : '#ec4899',
                                        border: 'none',
                                        borderRadius: '15px',
                                        cursor: attemptCount >= 3 ? 'not-allowed' : 'pointer'
                                    }}
                                >
                                    {attemptCount >= 3 ? '–ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ' : '–í–æ–π—Ç–∏ üíï'}
                                </button>
                            </form>
                            
                            <div style={{ 
                                marginTop: '20px', 
                                fontSize: '12px', 
                                color: '#9ca3af' 
                            }}>
                                –ü–æ–ø—ã—Ç–∫–∞ {attemptCount + 1}/3
                            </div>
                        </div>
                    </div>
                );
            }
            
            return (
                <div className="min-h-screen bg-gradient-to-br from-pink-100 via-purple-50 to-rose-100 relative overflow-hidden">
                    
                    {/* –î–û–ë–ê–í–õ–ï–ù–û: –ö–Ω–æ–ø–∫–∞ –≤—ã—Ö–æ–¥–∞ (—Å–∫—Ä—ã—Ç–∞—è) */}
                    <button
                        onClick={() => {
                            localStorage.removeItem('romantic_app_authenticated');
                            setIsAuthenticated(false);
                            setShowPasswordModal(true);
                        }}
                        style={{
                            position: 'fixed',
                            bottom: '100px',
                            left: '10px',
                            width: '30px',
                            height: '30px',
                            backgroundColor: 'rgba(0,0,0,0.1)',
                            border: 'none',
                            borderRadius: '50%',
                            color: '#666',
                            fontSize: '12px',
                            cursor: 'pointer',
                            opacity: '0.3',
                            zIndex: 30
                        }}
                    >
                        üö™
                    </button>

                    {/* –î–û–ë–ê–í–õ–ï–ù–û: –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π */}
                    {hasUpcomingNotification && (
                        <button
                            onClick={() => setShowNotificationModal(true)}
                            className="fixed top-4 right-4 z-30 bg-gradient-to-r from-pink-500 to-purple-600 text-white p-3 rounded-full shadow-lg notification-pulse"
                        >
                            <span className="text-lg">üîî</span>
                            <span className="absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center">
                                {upcomingNotifications.length}
                            </span>
                        </button>
                    )}
                    
                    {/* –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã */}
                    <div className="fixed inset-0 pointer-events-none z-10">
                        {petals.map(petal => (
                            <div
                                key={petal.id}
                                className="absolute text-pink-400 opacity-60"
                                style={{
                                    left: `${petal.left}%`,
                                    fontSize: `${petal.size}px`,
                                    animation: `fall ${petal.animationDuration}s linear forwards`
                                }}
                            >
                                üå∏
                            </div>
                        ))}
                    </div>
                    
                    <div className="fixed inset-0 pointer-events-none z-20">
                        {hearts.map(heart => (
                            <div
                                key={heart.id}
                                className="absolute text-red-500"
                                style={{
                                    left: heart.x,
                                    top: heart.y,
                                    fontSize: `${heart.size}px`,
                                    opacity: heart.life,
                                    transform: 'translate(-50%, -50%)'
                                }}
                            >
                                üíñ
                            </div>
                        ))}
                    </div>
                    
                    {/* –ö–æ–Ω—Ç–µ–Ω—Ç */}
                    <div className="relative z-10 pb-20">
                        {/* –ó–∞–≥–æ–ª–æ–≤–æ–∫ */}
                        <div className="bg-gradient-to-r from-pink-500 to-purple-600 text-white px-4 py-6 text-center">
                            <h1 className="text-2xl font-bold mb-2">üíù –î–ª—è –º–æ–µ–π –ª—é–±–∏–º–æ–π üíù</h1>
                            <p className="text-pink-100 text-sm">–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–æ —Å –ª—é–±–æ–≤—å—é</p>
                            <div className="mt-4 bg-white/20 backdrop-blur-sm rounded-xl p-4 mx-4">
                                <div className="text-2xl font-bold text-white mb-1">{daysTogether}</div>
                                <div className="text-sm text-pink-100">–¥–Ω–µ–π –≤–º–µ—Å—Ç–µ üíï</div>
                            </div>
                        </div>
                        
                        {/* –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç */}
                        <div className="px-4 py-6 space-y-6">
                            {/* –ì–∞–ª–µ—Ä–µ—è */}
                            <div className="bg-white/90 backdrop-blur-sm rounded-2xl shadow-xl overflow-hidden">
                                <div className="p-4 bg-gradient-to-r from-pink-400 to-purple-500 text-white">
                                    <h2 className="text-lg font-bold flex items-center gap-2">üñºÔ∏è –ù–∞—à–∏ –º–æ–º–µ–Ω—Ç—ã</h2>
                                    <p className="text-pink-100 text-xs mt-1">–°–º–µ–Ω–∞ –∫–∞–∂–¥—ã–µ 8 —Å–µ–∫—É–Ω–¥</p>
                                </div>
                                <div className="relative h-64 overflow-hidden">
                                    <img 
                                        src={galleryImages[currentImageIndex].url}
                                        alt={galleryImages[currentImageIndex].title}
                                        className="w-full h-full object-cover transition-all duration-1000"
                                    />
                                    <div className="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-4">
                                        <h3 className="text-white text-lg font-semibold">
                                            {galleryImages[currentImageIndex].title}
                                        </h3>
                                    </div>
                                    <div className="absolute top-4 right-4 bg-black/50 text-white px-2 py-1 rounded-full text-xs">
                                        {currentImageIndex + 1}/{galleryImages.length}
                                    </div>
                                </div>
                                <div className="p-4 flex gap-2">
                                    <button
                                        onClick={() => setShowGalleryModal(true)}
                                        className="flex-1 gradient-button text-white py-2 px-3 rounded-xl text-sm font-semibold"
                                    >
                                        üì± –û—Ç–∫—Ä—ã—Ç—å –≥–∞–ª–µ—Ä–µ—é
                                    </button>
                                </div>
                            </div>
                            
                            {/* –ü—Ä–∏–∑–Ω–∞–Ω–∏—è */}
                            <div className="bg-white/90 backdrop-blur-sm rounded-2xl shadow-xl overflow-hidden">
                                <div className="p-4 bg-gradient-to-r from-rose-400 to-pink-500 text-white">
                                    <div className="flex justify-between items-center">
                                        <h2 className="text-lg font-bold">üíå –ü—Ä–∏–∑–Ω–∞–Ω–∏—è –≤ –ª—é–±–≤–∏</h2>
                                        <button
                                            onClick={() => setShowCategoriesModal(true)}
                                            className="bg-white/20 backdrop-blur-sm px-2 py-1 rounded-lg text-xs"
                                        >
                                            –ö–∞—Ç–µ–≥–æ—Ä–∏–∏
                                        </button>
                                    </div>
                                    {selectedCategory !== 'all' && (
                                        <p className="text-pink-100 text-xs mt-1">
                                            {getCategoryIcon(selectedCategory)} {categories[selectedCategory]}
                                        </p>
                                    )}
                                </div>
                                <div className="p-4">
                                    <div className="min-h-28 flex items-center justify-center mb-4">
                                        {currentLoveMessage ? (
                                            <div className="bg-gradient-to-r from-pink-50 to-purple-50 rounded-xl p-4 border border-pink-200">
                                                <div className="flex items-start gap-2 mb-2">
                                                    <span className="text-lg">{getCategoryIcon(currentLoveMessage.category)}</span>
                                                    <div className="text-xs text-gray-500">
                                                        {categories[currentLoveMessage.category]}
                                                    </div>
                                                </div>
                                                <p className="text-gray-800 font-medium leading-relaxed text-center">
                                                    {currentLoveMessage.text}
                                                </p>
                                            </div>
                                        ) : (
                                            <div className="text-center text-gray-500">
                                                <div className="text-4xl mb-2">üíï</div>
                                                <p className="text-sm">–ù–∞–∂–º–∏ –¥–ª—è –ø—Ä–∏–∑–Ω–∞–Ω–∏—è</p>
                                                <p className="text-xs text-gray-400 mt-1">
                                                    {getFilteredMessages().length} —Å–æ–æ–±—â–µ–Ω–∏–π
                                                </p>
                                            </div>
                                        )}
                                    </div>
                                    <button
                                        onClick={(e) => {
                                            createHeartParticles(e);
                                            generateLoveMessage();
                                        }}
                                        className="w-full gradient-button text-white py-3 rounded-xl text-base font-semibold"
                                    >
                                        üíù –ü—Ä–∏–∑–Ω–∞–Ω–∏–µ –≤ –ª—é–±–≤–∏
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    {/* –ù–∏–∂–Ω—è—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è */}
                    <div className="fixed bottom-0 left-0 right-0 bg-white/95 backdrop-blur-md border-t border-pink-200 z-40">
                        <div className="grid grid-cols-5 gap-1 p-2">
                            <button
                                onClick={() => setShowStoryModal(true)}
                                className="flex flex-col items-center py-2 px-1 rounded-lg hover:bg-pink-50 transition-colors"
                            >
                                <span className="text-xl mb-1">üìñ</span>
                                <span className="text-xs text-gray-600 font-medium">–ò—Å—Ç–æ—Ä–∏—è</span>
                            </button>
                            <button
                                onClick={() => setShowCalendarModal(true)}
                                className="flex flex-col items-center py-2 px-1 rounded-lg hover:bg-pink-50 transition-colors"
                            >
                                <span className="text-xl mb-1">üìÖ</span>
                                <span className="text-xs text-gray-600 font-medium">–î–∞—Ç—ã</span>
                            </button>
                            <button
                                onClick={() => setShowCategoriesModal(true)}
                                className="flex flex-col items-center py-2 px-1 rounded-lg hover:bg-pink-50 transition-colors"
                            >
                                <span className="text-xl mb-1">üíù</span>
                                <span className="text-xs text-gray-600 font-medium">–ü—Ä–∏–∑–Ω–∞–Ω–∏—è</span>
                            </button>
                            <button
                                onClick={() => setShowGalleryModal(true)}
                                className="flex flex-col items-center py-2 px-1 rounded-lg hover:bg-pink-50 transition-colors"
                            >
                                <span className="text-xl mb-1">üñºÔ∏è</span>
                                <span className="text-xs text-gray-600 font-medium">–ì–∞–ª–µ—Ä–µ—è</span>
                            </button>
                            {/* –î–û–ë–ê–í–õ–ï–ù–û: –ö–Ω–æ–ø–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π */}
                            <button
                                onClick={() => setShowNotificationSettings(true)}
                                className="flex flex-col items-center py-2 px-1 rounded-lg hover:bg-pink-50 transition-colors relative"
                            >
                                <span className="text-xl mb-1">üîî</span>
                                <span className="text-xs text-gray-600 font-medium">–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</span>
                                {hasUpcomingNotification && (
                                    <span className="absolute top-1 right-2 bg-red-500 text-white text-xs rounded-full w-3 h-3"></span>
                                )}
                            </button>
                        </div>
                    </div>

                    {/* –î–û–ë–ê–í–õ–ï–ù–û: –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π */}
                    {showNotificationModal && (
                        <div className="fixed inset-0 bg-black/80 z-50 modal-backdrop">
                            <div className="bg-white h-full overflow-y-auto custom-scrollbar">
                                <div className="bg-gradient-to-r from-purple-500 to-pink-600 text-white p-4 sticky top-0 z-10">
                                    <div className="flex justify-between items-center">
                                        <h2 className="text-xl font-bold">üîî –ü—Ä–µ–¥—Å—Ç–æ—è—â–∏–µ —Å–æ–±—ã—Ç–∏—è</h2>
                                        <button onClick={() => setShowNotificationModal(false)} className="text-white text-2xl">‚úï</button>
                                    </div>
                                </div>
                                <div className="p-4 space-y-4 pb-20">
                                    {upcomingNotifications.length === 0 ? (
                                        <div className="text-center text-gray-500 py-8">
                                            <div className="text-4xl mb-4">üåü</div>
                                            <p>–ü—Ä–µ–¥—Å—Ç–æ—è—â–∏—Ö —Å–æ–±—ã—Ç–∏–π –Ω–µ—Ç</p>
                                            <p className="text-sm mt-2">–ú—ã —É–≤–µ–¥–æ–º–∏–º –≤–∞—Å –æ –≤–∞–∂–Ω—ã—Ö –¥–∞—Ç–∞—Ö</p>
                                        </div>
                                    ) : (
                                        upcomingNotifications.map((notification, index) => (
                                            <div key={index} className="bg-gradient-to-r from-pink-50 to-purple-50 p-4 rounded-xl border border-pink-200">
                                                <div className="flex items-center gap-3 mb-2">
                                                    <span className="text-2xl">{notification.emoji}</span>
                                                    <div>
                                                        <h3 className="font-bold text-gray-800">{notification.title}</h3>
                                                        <p className="text-sm text-gray-600">{notification.description}</p>
                                                    </div>
                                                </div>
                                                <div className="text-right">
                                                    <span className="bg-pink-100 text-pink-800 px-2 py-1 rounded-full text-xs font-medium">
                                                        {notification.daysUntil === 0 ? '–°–µ–≥–æ–¥–Ω—è' : 
                                                         notification.daysUntil === 1 ? '–ó–∞–≤—Ç—Ä–∞' : 
                                                         `–ß–µ—Ä–µ–∑ ${notification.daysUntil} –¥–Ω–µ–π`}
                                                    </span>
                                                </div>
                                            </div>
                                        ))
                                    )}
                                </div>
                            </div>
                        </div>
                    )}

                    {/* –î–û–ë–ê–í–õ–ï–ù–û: –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–∫ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π */}
                    {showNotificationSettings && (
                        <div className="fixed inset-0 bg-black/80 z-50 modal-backdrop">
                            <div className="bg-white h-full overflow-y-auto custom-scrollbar">
                                <div className="bg-gradient-to-r from-indigo-500 to-purple-600 text-white p-4 sticky top-0 z-10">
                                    <div className="flex justify-between items-center">
                                        <h2 className="text-xl font-bold">üîî –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π</h2>
                                        <button onClick={() => setShowNotificationSettings(false)} className="text-white text-2xl">‚úï</button>
                                    </div>
                                    <p className="text-indigo-100 text-sm mt-1">
                                        –°—Ç–∞—Ç—É—Å: {notificationPermission === 'granted' ? '‚úÖ –†–∞–∑—Ä–µ—à–µ–Ω—ã' : 
                                                notificationPermission === 'denied' ? '‚ùå –ó–∞–ø—Ä–µ—â–µ–Ω—ã' : '‚è≥ –ù–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã'}
                                    </p>
                                </div>
                                <div className="p-4 space-y-6 pb-20">
                                    
                                    {/* –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π */}
                                    {notificationPermission !== 'granted' && (
                                        <div className="bg-yellow-50 border border-yellow-200 rounded-xl p-4">
                                            <h3 className="font-bold text-yellow-800 mb-2">üîî –†–∞–∑—Ä–µ—à–∏—Ç–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</h3>
                                            <p className="text-yellow-700 text-sm mb-3">
                                                –î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–æ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏—Ö –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π –Ω—É–∂–Ω–æ —Ä–∞–∑—Ä–µ—à–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ
                                            </p>
                                            <button
                                                onClick={requestNotificationPermission}
                                                className="bg-yellow-500 text-white px-4 py-2 rounded-lg font-semibold hover:bg-yellow-600 transition-colors"
                                            >
                                                –†–∞–∑—Ä–µ—à–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
                                            </button>
                                        </div>
                                    )}

                                    {/* –í–∞–∂–Ω—ã–µ –¥–∞—Ç—ã */}
                                    <div className="notification-setting bg-gray-50 p-4 rounded-xl">
                                        <div className="flex items-center justify-between mb-3">
                                            <div className="flex items-center gap-2">
                                                <span className="text-xl">üìÖ</span>
                                                <div>
                                                    <h3 className="font-semibold">–í–∞–∂–Ω—ã–µ –¥–∞—Ç—ã</h3>
                                                    <p className="text-sm text-gray-600">–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –ø—Ä–µ–¥—Å—Ç–æ—è—â–∏—Ö —Å–æ–±—ã—Ç–∏—è—Ö</p>
                                                </div>
                                            </div>
                                            <label className="relative inline-flex items-center cursor-pointer">
                                                <input
                                                    type="checkbox"
                                                    className="sr-only peer"
                                                    checked={notificationSettings.importantDates}
                                                    onChange={(e) => setNotificationSettings(prev => ({
                                                        ...prev,
                                                        importantDates: e.target.checked
                                                    }))}
                                                />
                                                <div className="w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-pink-500"></div>
                                            </label>
                                        </div>
                                    </div>

                                    {/* –ö—Ä—É–≥–ª—ã–µ –¥–∞—Ç—ã */}
                                    <div className="notification-setting bg-gray-50 p-4 rounded-xl">
                                        <div className="flex items-center justify-between mb-3">
                                            <div className="flex items-center gap-2">
                                                <span className="text-xl">üéä</span>
                                                <div>
                                                    <h3 className="font-semibold">–ö—Ä—É–≥–ª—ã–µ –¥–∞—Ç—ã</h3>
                                                    <p className="text-sm text-gray-600">–ö–∞–∂–¥—ã–µ {notificationSettings.milestoneInterval} –¥–Ω–µ–π –≤–º–µ—Å—Ç–µ</p>
                                                </div>
                                            </div>
                                            <label className="relative inline-flex items-center cursor-pointer">
                                                <input
                                                    type="checkbox"
                                                    className="sr-only peer"
                                                    checked={notificationSettings.milestones}
                                                    onChange={(e) => setNotificationSettings(prev => ({
                                                        ...prev,
                                                        milestones: e.target.checked
                                                    }))}
                                                />
                                                <div className="w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-pink-500"></div>
                                            </label>
                                        </div>
                                        
                                        {notificationSettings.milestones && (
                                            <div className="ml-8">
                                                <label className="block text-sm font-medium text-gray-700 mb-2">
                                                    –ò–Ω—Ç–µ—Ä–≤–∞–ª (–¥–Ω–µ–π):
                                                </label>
                                                <select
                                                    value={notificationSettings.milestoneInterval}
                                                    onChange={(e) => setNotificationSettings(prev => ({
                                                        ...prev,
                                                        milestoneInterval: parseInt(e.target.value)
                                                    }))}
                                                    className="border border-gray-300 rounded-lg px-3 py-2 bg-white"
                                                >
                                                    <option value={50}>–ö–∞–∂–¥—ã–µ 50 –¥–Ω–µ–π</option>
                                                    <option value={100}>–ö–∞–∂–¥—ã–µ 100 –¥–Ω–µ–π</option>
                                                    <option value={365}>–ö–∞–∂–¥—ã–π –≥–æ–¥</option>
                                                    <option value={30}>–ö–∞–∂–¥—ã–π –º–µ—Å—è—Ü</option>
                                                </select>
                                            </div>
                                        )}
                                    </div>

                                    {/* –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è */}
                                    <div className="notification-setting bg-gray-50 p-4 rounded-xl">
                                        <div className="flex items-center justify-between mb-3">
                                            <div className="flex items-center gap-2">
                                                <span className="text-xl">‚òÄÔ∏è</span>
                                                <div>
                                                    <h3 className="font-semibold">–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è</h3>
                                                    <p className="text-sm text-gray-600">–ú–∏–ª—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∫–∞–∂–¥—ã–π –¥–µ–Ω—å</p>
                                                </div>
                                            </div>
                                            <label className="relative inline-flex items-center cursor-pointer">
                                                <input
                                                    type="checkbox"
                                                    className="sr-only peer"
                                                    checked={notificationSettings.dailyReminder}
                                                    onChange={(e) => setNotificationSettings(prev => ({
                                                        ...prev,
                                                        dailyReminder: e.target.checked
                                                    }))}
                                                />
                                                <div className="w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-pink-500"></div>
                                            </label>
                                        </div>
                                    </div>

                                    {/* –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ */}
                                    <div className="notification-setting bg-gray-50 p-4 rounded-xl">
                                        <div className="flex items-center gap-2 mb-3">
                                            <span className="text-xl">‚è∞</span>
                                            <div>
                                                <h3 className="font-semibold">–ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ</h3>
                                                <p className="text-sm text-gray-600">–ó–∞ —Å–∫–æ–ª—å–∫–æ –¥–Ω–µ–π —É–≤–µ–¥–æ–º–ª—è—Ç—å</p>
                                            </div>
                                        </div>
                                        <div className="ml-8">
                                            <label className="block text-sm font-medium text-gray-700 mb-2">
                                                –î–Ω–µ–π –∑–∞—Ä–∞–Ω–µ–µ:
                                            </label>
                                            <select
                                                value={notificationSettings.advanceNotice}
                                                onChange={(e) => setNotificationSettings(prev => ({
                                                    ...prev,
                                                    advanceNotice: parseInt(e.target.value)
                                                }))}
                                                className="border border-gray-300 rounded-lg px-3 py-2 bg-white"
                                            >
                                                <option value={1}>–ó–∞ 1 –¥–µ–Ω—å</option>
                                                <option value={3}>–ó–∞ 3 –¥–Ω—è</option>
                                                <option value={7}>–ó–∞ –Ω–µ–¥–µ–ª—é</option>
                                                <option value={14}>–ó–∞ 2 –Ω–µ–¥–µ–ª–∏</option>
                                            </select>
                                        </div>
                                    </div>

                                    {/* –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ */}
                                    <div className="bg-pink-50 border border-pink-200 rounded-xl p-4">
                                        <h3 className="font-bold text-pink-800 mb-3">üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h3>
                                        <div className="space-y-2 text-sm">
                                            <div className="flex justify-between">
                                                <span>–î–Ω–µ–π –≤–º–µ—Å—Ç–µ:</span>
                                                <span className="font-semibold">{daysTogether}</span>
                                            </div>
                                            <div className="flex justify-between">
                                                <span>–ü—Ä–µ–¥—Å—Ç–æ—è—â–∏—Ö —Å–æ–±—ã—Ç–∏–π:</span>
                                                <span className="font-semibold">{upcomingNotifications.length}</span>
                                            </div>
                                            <div className="flex justify-between">
                                                <span>–ü–æ—Å–ª–µ–¥–Ω—è—è –ø—Ä–æ–≤–µ—Ä–∫–∞:</span>
                                                <span className="font-semibold text-xs">
                                                    {lastNotificationCheck ? 
                                                        lastNotificationCheck.toLocaleTimeString('ru-RU', {hour: '2-digit', minute: '2-digit'}) : 
                                                        '–ù–µ –ø—Ä–æ–≤–µ—Ä—è–ª–æ—Å—å'
                                                    }
                                                </span>
                                            </div>
                                        </div>
                                    </div>

                                    {/* –¢–µ—Å—Ç–æ–≤–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ */}
                                    {notificationPermission === 'granted' && (
                                        <button
                                            onClick={() => sendNotification(
                                                'üíï –¢–µ—Å—Ç–æ–≤–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ',
                                                '–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç! –ú—ã –±—É–¥–µ–º –Ω–∞–ø–æ–º–∏–Ω–∞—Ç—å –æ –≤–∞–∂–Ω—ã—Ö –¥–∞—Ç–∞—Ö.',
                                                'üíï'
                                            )}
                                            className="w-full bg-gradient-to-r from-pink-500 to-purple-600 text-white py-3 rounded-xl font-semibold"
                                        >
                                            üíï –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ç–µ—Å—Ç–æ–≤–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
                                        </button>
                                    )}
                                </div>
                            </div>
                        </div>
                    )}
                    
                    {/* –û—Å—Ç–∞–ª—å–Ω—ã–µ –º–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ */}
                    {showGalleryModal && (
                        <div className="fixed inset-0 bg-black/80 z-50 modal-backdrop">
                            <div className="bg-white h-full overflow-y-auto custom-scrollbar">
                                <div className="bg-gradient-to-r from-pink-500 to-purple-600 text-white p-4 sticky top-0 z-10">
                                    <div className="flex justify-between items-center">
                                        <h2 className="text-xl font-bold">üñºÔ∏è –ì–∞–ª–µ—Ä–µ—è</h2>
                                        <button onClick={() => setShowGalleryModal(false)} className="text-white text-2xl">‚úï</button>
                                    </div>
                                </div>
                                <div className="p-4 grid grid-cols-2 gap-3 pb-20">
                                    {galleryImages.map((image, index) => (
                                        <div key={image.id} className="relative rounded-xl overflow-hidden shadow-lg">
                                            <img src={image.url} alt={image.title} className="w-full h-40 object-cover" />
                                            <div className="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-2">
                                                <h3 className="text-white text-sm font-semibold">{image.title}</h3>
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            </div>
                        </div>
                    )}
                    
                    {showCategoriesModal && (
                        <div className="fixed inset-0 bg-black/80 z-50 modal-backdrop">
                            <div className="bg-white h-full overflow-y-auto custom-scrollbar">
                                <div className="bg-gradient-to-r from-rose-500 to-pink-600 text-white p-4 sticky top-0 z-10">
                                    <div className="flex justify-between items-center">
                                        <h2 className="text-xl font-bold">üíù –ö–∞—Ç–µ–≥–æ—Ä–∏–∏</h2>
                                        <button onClick={() => setShowCategoriesModal(false)} className="text-white text-2xl">‚úï</button>
                                    </div>
                                </div>
                                <div className="p-4 space-y-3 pb-20">
                                    <button
                                        onClick={() => {
                                            setSelectedCategory('all');
                                            setCurrentLoveMessage(null);
                                            setShowCategoriesModal(false);
                                        }}
                                        className={`w-full p-4 rounded-xl border transition-all ${
                                            selectedCategory === 'all' 
                                                ? 'bg-gradient-to-r from-pink-500 to-purple-600 text-white border-pink-500' 
                                                : 'bg-gray-50 text-gray-800 border-gray-200 hover:bg-pink-50'
                                        }`}
                                    >
                                        <div className="flex items-center gap-3">
                                            <span className="text-2xl">üíï</span>
                                            <div className="text-left">
                                                <h3 className="font-semibold">–í—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</h3>
                                                <p className="text-sm opacity-75">{loveMessages.length} —Å–æ–æ–±—â–µ–Ω–∏–π</p>
                                            </div>
                                        </div>
                                    </button>
                                    
                                    {Object.entries(categories).map(([key, name]) => (
                                        <button
                                            key={key}
                                            onClick={() => {
                                                setSelectedCategory(key);
                                                setCurrentLoveMessage(null);
                                                setShowCategoriesModal(false);
                                            }}
                                            className={`w-full p-4 rounded-xl border transition-all ${
                                                selectedCategory === key 
                                                    ? 'bg-gradient-to-r from-pink-500 to-purple-600 text-white border-pink-500' 
                                                    : 'bg-gray-50 text-gray-800 border-gray-200 hover:bg-pink-50'
                                            }`}
                                        >
                                            <div className="flex items-center gap-3">
                                                <span className="text-2xl">{getCategoryIcon(key)}</span>
                                                <div className="text-left">
                                                    <h3 className="font-semibold">{name}</h3>
                                                    <p className="text-sm opacity-75">
                                                        {loveMessages.filter(msg => msg.category === key).length} —Å–æ–æ–±—â–µ–Ω–∏–π
                                                    </p>
                                                </div>
                                            </div>
                                        </button>
                                    ))}
                                </div>
                            </div>
                        </div>
                    )}
                    
                    {showStoryModal && (
                        <div className="fixed inset-0 bg-black/80 z-50 modal-backdrop">
                            <div className="bg-white h-full overflow-y-auto custom-scrollbar">
                                <div className="bg-gradient-to-r from-purple-500 to-pink-600 text-white p-4 sticky top-0 z-10">
                                    <div className="flex justify-between items-center">
                                        <h2 className="text-xl font-bold">üìñ –ù–∞—à–∞ –∏—Å—Ç–æ—Ä–∏—è</h2>
                                        <button onClick={() => setShowStoryModal(false)} className="text-white text-2xl">‚úï</button>
                                    </div>
                                </div>
                                <div className="p-4 space-y-6 pb-20">
                                    {loveStory.chapters.map((chapter, index) => (
                                        <div key={index} className="border-l-4 border-pink-400 pl-4">
                                            <div className="flex items-center gap-2 mb-2">
                                                <span className="text-xl">{chapter.emotion}</span>
                                                <h3 className="text-lg font-bold text-gray-800">{chapter.date}</h3>
                                            </div>
                                            <p className="text-gray-700 leading-relaxed">{chapter.text}</p>
                                        </div>
                                    ))}
                                </div>
                            </div>
                        </div>
                    )}
                    
                    {showCalendarModal && (
                        <div className="fixed inset-0 bg-black/80 z-50 modal-backdrop">
                            <div className="bg-white h-full overflow-y-auto custom-scrollbar">
                                <div className="bg-gradient-to-r from-indigo-500 to-purple-600 text-white p-4 sticky top-0 z-10">
                                    <div className="flex justify-between items-center">
                                        <h2 className="text-xl font-bold">üìÖ –í–∞–∂–Ω—ã–µ –¥–∞—Ç—ã</h2>
                                        <button onClick={() => setShowCalendarModal(false)} className="text-white text-2xl">‚úï</button>
                                    </div>
                                </div>
                                <div className="p-4 space-y-4 pb-20">
                                    {importantDates.map((dateItem, index) => (
                                        <div key={index} className="flex items-center gap-3 p-4 rounded-xl bg-gradient-to-r from-purple-50 to-pink-50 border border-purple-200">
                                            <div className="text-3xl">{dateItem.emoji}</div>
                                            <div className="flex-1">
                                                <h3 className="text-lg font-bold text-gray-800">{dateItem.title}</h3>
                                                <p className="text-gray-600 text-sm">{dateItem.description}</p>
                                                <p className="text-xs text-gray-500 mt-1">
                                                    üìÖ {new Date(dateItem.date).toLocaleDateString('ru-RU')}
                                                </p>
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            </div>
                        </div>
                    )}
                </div>
            );
        };

        
        ReactDOM.render(<RomanticMobileApp />, document.getElementById('root'));
    </script>
</body>
</html>


